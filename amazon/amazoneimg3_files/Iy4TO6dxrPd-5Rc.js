(function(){var __webpack_modules__={33:function(e,t,a){"use strict";var n;a.d(t,{T:function(){return n},l:function(){return r}}),function(e){e.NATIVE_LOADED="NATIVE_LOADED"}(n||(n={}));const r=()=>({type:n.NATIVE_LOADED})},122:function(e,t,a){"use strict";a.d(t,{Z:function(){return i},d:function(){return o}});var n=a(1867),r=a(7961);const i={[r.BI.Devo]:{ATVPDKIKX0DER:{endpoint:"data-us.integ.amazon.com",country:"US"},A2EUQ1WTGCTBG2:{endpoint:"data-ca.integ.amazon.com",country:"CA"},A3P3J5A7D2ZVXI:{endpoint:"data-mx.integ.amazon.com",country:"MX"},AZXD3QD5B39HD:{endpoint:"data-na.integ.amazon.com",country:"BR"},A1NOHO22DE3OHQ:{endpoint:"data-co.integ.amazon.com",country:"CO"},A2IDBVIE7EAGN4:{endpoint:"data-cl.integ.amazon.com",country:"CL"},A1F83G8C2ARO7P:{endpoint:"data-uk.integ.amazon.com",country:"UK"},A1PA6795UKMFR9:{endpoint:"data-de.integ.amazon.com",country:"DE"},A13V1IB3VIYZZH:{endpoint:"data-fr.integ.amazon.com",country:"FR"},AJZF8LZ1EJVJN:{endpoint:"data-es.integ.amazon.com",country:"ES"},A3CQBQD3RGPJR8:{endpoint:"data-tr.integ.amazon.com",country:"TR"},A3HOBANJMCMD83:{endpoint:"data-it.integ.amazon.com",country:"IT"},A34GYYCZVDBSIK:{endpoint:"data-ae.integ.amazon.com",country:"AE"},A1M3WC0SJ3A38T:{endpoint:"data-nl.integ.amazon.com",country:"NL"},A2XZLSVIQ0F4JT:{endpoint:"data-in.integ.amazon.com",country:"IN"},AUJPM9XGFJRC7:{endpoint:"data-eg.integ.amazon.com",country:"EG"},A1MQPSGJ6U9Q54:{endpoint:"data-sa.integ.amazon.com",country:"SA"},AT614YYYNOC1S:{endpoint:"data-se.integ.amazon.com",country:"SE"},AKY4K4WKH21YQ:{endpoint:"data-pl.integ.amazon.com",country:"PL"},A1YFOMBPFBRY22:{endpoint:"data-be.integ.amazon.com",country:"BE"},A3PJZM0QIA8QDU:{endpoint:"data-ng.integ.amazon.com",country:"NG"},A3TFQ1G9L8TQ5L:{endpoint:"data-za.integ.amazon.com",country:"ZA"},A1VC38T7YXB528:{endpoint:"data-jp.integ.amazon.com",country:"JP"},A1RNPCQ4K8U27I:{endpoint:"data-au.integ.amazon.com",country:"AU"},A1DQ6JV7I20JSG:{endpoint:"data-sg.integ.amazon.com",country:"SG"},A38NPJYVS5YHNH:{endpoint:"data-ru.integ.amazon.com",country:"RU"},AAHKV2X7AFYLW:{endpoint:"data-cn.integ.amazon.com",country:"CN"}},[r.BI.PreProd]:{ATVPDKIKX0DER:{endpoint:"data-us-pre-prod.iad.corp.amazon.com",country:"US"},A2EUQ1WTGCTBG2:{endpoint:"data-ca-pre-prod.iad.corp.amazon.com",country:"CA"},A1AM78C64UM0Y8:{endpoint:"data-mx-pre-prod.iad.corp.amazon.com",country:"MX"},A2Q3Y263D00KWC:{endpoint:"data-na-pre-prod.iad.corp.amazon.com",country:"BR"},A1ZXRLSQW2V54D:{endpoint:"data-co-pre-prod.iad.corp.amazon.com",country:"CO"},A2WDZJZ5TCRMLH:{endpoint:"data-cl-pre-prod.iad.corp.amazon.com",country:"CL"},A1F83G8C2ARO7P:{endpoint:"data-uk-pre-prod.dub.corp.amazon.com",country:"UK"},A1PA6795UKMFR9:{endpoint:"data-de-pre-prod.dub.corp.amazon.com",country:"DE"},A13V1IB3VIYZZH:{endpoint:"data-fr-pre-prod.dub.corp.amazon.com",country:"FR"},A1RKKUPIHCS9HS:{endpoint:"data-es-pre-prod.dub.corp.amazon.com",country:"ES"},A33AVAJ2PDY3EV:{endpoint:"data-tr-pre-prod.dub.corp.amazon.com",country:"TR"},APJ6JRA9NG5V4:{endpoint:"data-it-pre-prod.dub.corp.amazon.com",country:"IT"},A2VIGQ35RCS4UG:{endpoint:"data-ae-pre-prod.dub.corp.amazon.com",country:"AE"},A1805IZSGTT6HS:{endpoint:"data-nl-pre-prod.dub.corp.amazon.com",country:"NL"},A21TJRUUN4KGV:{endpoint:"data-in-pre-prod.dub.corp.amazon.com",country:"IN"},ARBP9OOSHTCHU:{endpoint:"data-eg-pre-prod.dub.corp.amazon.com",country:"EG"},A17E79C6D8DWNP:{endpoint:"data-sa-pre-prod.dub.corp.amazon.com",country:"SA"},A2NODRKZP88ZB9:{endpoint:"data-se-pre-prod.dub.corp.amazon.com",country:"SE"},A1C3SOZRARQ6R3:{endpoint:"data-pl-pre-prod.dub.corp.amazon.com",country:"PL"},AMEN7PMS3EDWL:{endpoint:"data-be-pre-prod.dub.corp.amazon.com",country:"BE"},A3OCL2LJ6GDH9T:{endpoint:"data-ng-pre-prod.dub.corp.amazon.com",country:"NG"},AE08WJ6YKNBMC:{endpoint:"data-za-pre-prod.dub.corp.amazon.com",country:"ZA"},A1VC38T7YXB528:{endpoint:"data-jp-pre-prod.pdx.corp.amazon.com",country:"JP"},A39IBJ37TRP1C6:{endpoint:"data-au-pre-prod.pdx.corp.amazon.com",country:"AU"},A19VAU5U5O7RUS:{endpoint:"data-sg-pre-prod.pdx.corp.amazon.com",country:"SG"},AD2EMQ3L3PG8S:{endpoint:"data-ru-pre-prod.pdx.corp.amazon.com",country:"RU"},AAHKV2X7AFYLW:{endpoint:"data-cn-pre-prod.pek.corp.amazon.com",country:"CN"}},[r.BI.Prod]:{ATVPDKIKX0DER:{endpoint:"data.amazon.com",country:"US"},A2EUQ1WTGCTBG2:{endpoint:"data.amazon.ca",country:"CA"},A1AM78C64UM0Y8:{endpoint:"data.amazon.com.mx",country:"MX"},A2Q3Y263D00KWC:{endpoint:"data.amazon.com.br",country:"BR"},A1ZXRLSQW2V54D:{endpoint:"data.amazon.com.co",country:"CO"},A2WDZJZ5TCRMLH:{endpoint:"data.amazon.cl",country:"CL"},A1F83G8C2ARO7P:{endpoint:"data.amazon.co.uk",country:"UK"},A1PA6795UKMFR9:{endpoint:"data.amazon.de",country:"DE"},A13V1IB3VIYZZH:{endpoint:"data.amazon.fr",country:"FR"},A1RKKUPIHCS9HS:{endpoint:"data.amazon.es",country:"ES"},A33AVAJ2PDY3EV:{endpoint:"data.amazon.com.tr",country:"TR"},APJ6JRA9NG5V4:{endpoint:"data.amazon.it",country:"IT"},A2VIGQ35RCS4UG:{endpoint:"data.amazon.ae",country:"AE"},A1805IZSGTT6HS:{endpoint:"data.amazon.nl",country:"NL"},A21TJRUUN4KGV:{endpoint:"data.amazon.in",country:"IN"},ARBP9OOSHTCHU:{endpoint:"data.amazon.eg",country:"EG"},A17E79C6D8DWNP:{endpoint:"data.amazon.sa",country:"SA"},A2NODRKZP88ZB9:{endpoint:"data.amazon.se",country:"SE"},A1C3SOZRARQ6R3:{endpoint:"data.amazon.pl",country:"PL"},AMEN7PMS3EDWL:{endpoint:"data.amazon.com.be",country:"BE"},A3OCL2LJ6GDH9T:{endpoint:"data.amazon.com.ng",country:"NG"},AE08WJ6YKNBMC:{endpoint:"data.amazon.co.za",country:"ZA"},A1VC38T7YXB528:{endpoint:"data.amazon.co.jp",country:"JP"},A39IBJ37TRP1C6:{endpoint:"data.amazon.com.au",country:"AU"},A19VAU5U5O7RUS:{endpoint:"data.amazon.sg",country:"SG"},AD2EMQ3L3PG8S:{endpoint:"data.amazon.ru",country:"RU"},AAHKV2X7AFYLW:{endpoint:"data.amazon.cn",country:"CN"}}},o=(e,t)=>{var a;const o={[n.rM.GAMMA]:r.BI.PreProd,[n.rM.PROD]:r.BI.Prod}[t]||r.BI.Prod,s=null===(a=i[o])||void 0===a?void 0:a[e];if(!s)throw new Error(`No AAPI endpoint configuration found for marketplace: ${e} and stage: ${t}`);return s.endpoint}},127:function(e,t,a){"use strict";a.d(t,{Cg:function(){return n},P7:function(){return s},W1:function(){return c},Wz:function(){return i},dA:function(){return o},fk:function(){return d},iu:function(){return l},vO:function(){return r}});const n="SET_PIP_ACTIVE",r="EMIT_DWELL_TIME_PIP_OSA";var i;!function(e){e.INGRESS_PIP="INGRESS_PIP",e.CLOSE_PIP="CLOSE_PIP",e.RESTORE_PIP="RESTORE_PIP",e.RESTORE_PIP_CLICKED="RESTORE_PIP_CLICKED"}(i||(i={}));const o=e=>({type:r,payload:e}),s=()=>({type:i.INGRESS_PIP}),l=()=>({type:i.CLOSE_PIP}),c=()=>({type:i.RESTORE_PIP}),d=()=>({type:i.RESTORE_PIP_CLICKED})},293:function(e,t,a){"use strict";var n=a(6834),r=a(6540),i=a.n(r),o=a(961),s=a(772),l=a(83),c=a(2960),d=a(5156),u=a(4181),p=a(5749),m=a(5439),y=a(4248);const g=()=>(y.A.get(m.m.FallbackStrategy)||"").toUpperCase()===u.wg.CHANNEL;var f=a(2607),A=a(1906);let E=!0,v=!1;var T=(0,l.Ng)(e=>({isBroadcastUnpublished:(0,s.XQ)(e),isBroadcastModerated:(0,s.Z9)(e),broadcastId:(0,s.ZG)(e),broadcastTitle:(0,s.G9)(e),isLoading:(0,A.Di)(e)}),e=>(0,c.zH)({loadChannel:f.oz,emitModeratedBroadcastFallback:d.az,emitUnpublishedBroadcastFallback:d.S$},e))(({children:e,isBroadcastUnpublished:t,isBroadcastModerated:a,broadcastId:n,broadcastTitle:o,isLoading:s,loadChannel:l,emitModeratedBroadcastFallback:c,emitUnpublishedBroadcastFallback:d})=>{const u=t||a;return(0,r.useEffect)(()=>(u&&E&&!s&&((0,p.H3)(n,o),a?c({broadcastId:n}):d({broadcastId:n}),E=!1,l()),()=>{E=!0,v=!1}),[u]),v=v||!u,i().createElement(i().Fragment,null,v?e:null)}),h=a(4436);var S=(0,l.Ng)(e=>({canFallback:(0,s.R1)(e)}),e=>(0,c.zH)({emitInvalidBroadcastFallback:d.cG},e))(({children:e,emitInvalidBroadcastFallback:t,canFallback:a})=>{const n=g();if(h.A.get(h.A.Keys.Source)===u.kL.AL){if(a)return(0,p.jw)(),n&&t(),null;if(n)return i().createElement(T,null,e)}return i().createElement(i().Fragment,null,e)});var b=({store:e,children:t})=>i().createElement(l.Kq,{store:e},i().createElement(S,null,t));var I,P=a(8742);!function(e){const t={};e.initialize=function(e){Object.assign(t,e)},e.get=function(e){return t[e]},e.dump=function(){return Object.assign({},t)}}(I||(I={}));var _,C=I,w=a(5491),O=a(9545),L=a(8406),N=a(5037),R=a(1786),D=a(6887);!function(e){let t;!function(e){e.WIDGET_PRIMARY_COLOR="WIDGET_PRIMARY_COLOR",e.WIDGET_HIGHLIGHT_COLOR="WIDGET_HIGHLIGHT_COLOR",e.WIDGET_TEXT_COLOR="WIDGET_TEXT_COLOR",e.WIDGET_SCROLLBAR_COLOR="WIDGET_SCROLLBAR_COLOR"}(t=e.Keys||(e.Keys={}));const a={};e.initialize=function(e){Object.assign(a,e)},e.get=function(e){return a[e]}}(_||(_={}));var k=_;let M;M=a(4035).A;const x=M;var B=a(3467),V=a(6338),j=a(6376),F=a(791);var U=a(9865),z=a(5416),G=a(5209),$=a(6401);var W=e=>{const t=e[j.A.PLAYLIST][0];if((0,$.A)(t.promotionsMetadata))return{promotions:{promotions:[]}};if((0,$.A)(t.promotionsMetadata.promotions))return{promotions:{promotions:[]}};return{promotions:t.promotionsMetadata}},H=a(9496),J=a(9968),K=a(3063);var Y=e=>{var t,a,n;const r=e[j.A.SHOW],i=e[j.A.PLAYLIST],o=e[j.A.ENDPOINTS],s=e[j.A.AAPI_CSRF_TOKEN],l=e[j.A.LOCALE],c=e[j.A.CONTENT_ID],d=e[j.A.COMPONENT_ID],p=e[j.A.SHOPPING_NOTIFICATION],y=e[j.A.COMMUNITY_MODERATION],g=Object.values(u.kL).includes(e[j.A.SOURCE])?e[j.A.SOURCE]:u.kL.AL,f=e[j.A.POLLING_OPTIONS],A=e[j.A.THEMING_OPTIONS],E=e[j.A.TRANSCRIPT_DISPLAY],v={session:{weblabs:e[j.A.WEBLAB],weblabsV2:e[j.A.WEBLAB_V2],context:Object.assign(Object.assign({},(0,B.A)(e,[j.A.AUI_PAGE_CONTEXT],{})),{display:d,source:g,locale:l}),metrics:e[j.A.METRICS]},constants:{widgetOptions:e[j.A.WIDGET_OPTIONS],mediaClient:e[j.A.MEDIACLIENT],stringTranslations:e[j.A.STRING_TRANSLATIONS],shoppingNotification:e[j.A.SHOPPING_NOTIFICATION]},appsyncConfig:e[j.A.APPSYNC_CONFIG],csrfToken:s,pollingOptions:f,themingOptions:A,displayTranscriptAllowed:E};J.Ay.initialize(v.session.weblabsV2);const{marketplaceId:T}=v.session.metrics,{stageFlag:h}=v.session.metrics;s&&K.Ay.initialize({csrfToken:s,locale:l,marketplaceId:T,stageFlag:h});const S=((e,t,a)=>{const n={constants:{endpoints:{mediaClient:e[j.A.MEDIACLIENT],playlist:e[j.A.PLAYLIST],poller:e[j.A.POLLER],upNext:e[j.A.UP_NEXT],hydrateBroadcastMetadata:e[j.A.HYDRATE_BROADCAST_METADATA],followData:e[j.A.FOLLOW_DATA],stringTranslations:e[j.A.STRING_TRANSLATIONS],shoppingNotification:(0,B.A)(t,"vibesEventsUrl"),communityModeration:""}}};return void 0!==a&&(n.constants.endpoints.communityModeration=a.communityModerationUrl),n})(o,p,y),b=(0,J.$v)(J.D$.initializeFlagshipWithVSEContent),I=!!(null===(t=e[j.A.WIDGET_OPTIONS])||void 0===t?void 0:t[m.m.EnableVSEBypass]);if(P=e,!(0,B.A)(P,[j.A.PLAYLIST,j.A.PLAYLIST,0])){if(g===u.kL.VSE&&c&&(b||I)){F.A.info("VSE content detected");const e={initialBroadcast:{id:c,source:g}};return(0,V.A)(v,e,S)}return F.A.info("No Stream Detected"),(0,V.A)(v,S)}var P;const _=(0,H.A)(r,i),C=(0,z.A)(r),w=(0,U.A)(r,i),O=(0,G.A)(i),L=W(i),N={vod:{events:null!==(n=null===(a=i[j.A.BROADCAST_EVENT])||void 0===a?void 0:a.vodEvents)&&void 0!==n?n:[]}};return(0,V.A)(v,S,_,C,w,O,L,N)};var q=a(9461),Z=a(2608);const X=(0,a(6101).s)(window.WebSocket,window.btoa,F.A),Q=(0,q.I)(X,F.A,Z.oY),ee=[["broadcast","chatStatus"],["broadcast","publicChatroomHuddleId"]];var te=a(3799);var ae=a(2726);function ne(e){const t=document.querySelector('meta[name="encrypted-slate-token"]'),a=t?t.content:null,n=Y(e),{channel:r,broadcast:i,carousel:o,constants:s,session:l,shoppingNotification:c,follow:d,pinnedMessage:g,associate:f,appsyncConfig:A,upNext:E,promotions:v,csrfToken:T,trimming:S,initialBroadcast:b,pollingOptions:I,vod:_,themingOptions:M,displayTranscriptAllowed:B}=n,V=Object.assign(Object.assign({},i),{inViewAsins:new Set});(0,p.E7)(),(0,p.Yq)(),y.A.initialize(s.widgetOptions),C.initialize(s.mediaClient),w.A.initialize(s.stringTranslations);y.A.get(m.m.UseGridCarousel)&&(l.context[h.A.Keys.Display]=ae.t.MOBILE_GRID_CAROUSEL_PLAYER),O.A.initialize(l.weblabs),h.A.initialize(l.context),L.A.initialize(Object.assign(Object.assign({},l.metrics),(()=>{if("liveDestination"===(0,te.getPageType)()){const e=new URLSearchParams(window.location.search),t=e.get("pd_rd_w"),a=e.get("pd_rd_r"),n=e.get("pd_rd_wg");if(t&&a&&n)return{linkParameters:{pd_rd_w:t,pd_rd_r:a,pd_rd_wg:n}}}return{}})())),N.A.initialize(T),R.A.initialize(a),D.A.initialize(I),k.initialize(M);const j=(()=>{try{const e=document.cookie.split(";").filter(e=>e.indexOf("amzn-app-id")>-1);return e.length>0?e[0].split("=")[1].split("/")[1]:null}catch(e){F.A.warn(e,"appVersion cookie not Available")}return null})();"NA"===h.A.get(h.A.Keys.AppVersion)&&j&&h.A.initialize(Object.assign(Object.assign({},l.context),{appVersion:j}));const U=h.A.get(h.A.Keys.Source)===u.kL.AL,z=Object.assign(Object.assign({},P.E),{endpoints:Object.assign({},s.endpoints),apolloLinks:Q(A,U)});if(!U)return x({broadcast:V,initialBroadcast:b,configuration:z,promotions:v,transcript:{segments:[],language:"en",displayTranscriptAllowed:B}});var G;G=n,ee.forEach(e=>{let t=G;e.every(e=>t&&"object"==typeof t&&e in t&&t[e]?(t=t[e],!0):(F.A.error(`Variable '${e}' not found in the current frontloaded data.`),(0,Z.pl)("FrontloadVariableUndefined:Error"),!1))});return x({channel:r,broadcast:V,carousel:o,shoppingNotification:c,follow:d,pinnedMessage:g,associate:f,upNext:E,configuration:z,promotions:v,trimming:S,initialBroadcast:b,vod:_})}const re=new Map([["Android Browser",5],["Firefox",52],["Chrome",57],["Edge",16],["Safari",11],["Mobile Safari",11]]);var ie=a(6776);function oe(){return!te.UserAgent.isIE()&&!te.UserAgent.isUCBrowser()&&function(){const e=re.get(te.UserAgent.getBrowserName());return!e||te.UserAgent.isBrowserVersionNewerThan(e)}()&&(0,ie.f)()}a(3302),a(5593),a(5586);var se=a(2674),le=a(4373),ce=a(2485),de=a.n(ce),ue=a(2081),pe=(a(4425),"_3GYIsj_czhGM1ImiQkBCEk"),me="_1fmQg_2ZRh2RIpH-Wi9USq";const ye=i().memo(e=>{const{className:t,notificationEvents:a,shoppingNotificationOptions:n,isEnabled:r}=e;return n&&r?i().createElement("div",{className:de()(le.styleConstants.persistentClass,pe,t)},i().createElement(ue.ShoppingNotificationReaction,{shoppingNotifications:a})):null}),ge=(0,l.Ng)(({shoppingNotification:{events:e,asinToImageURLs:t},broadcast:{status:a}})=>{const n=y.A.get(m.m.ShoppingNotification),r=O.A.isWeblabEnabled(O.A.Keys.ShoppingNotificationEvent)&&a===u.uj.LIVE,i=((e,t)=>{const a=Object.keys(t);return e.filter(e=>a.includes(e.eventContent)).map(e=>({imageUrl:t[e.eventContent],uuid:e.id}))})(e,t);return{notificationEvents:i,shoppingNotificationOptions:n,isEnabled:r}})(ye);ge.displayName="ShoppingNotificationOverlayContainer";var fe=ge,Ae=a(3224);const Ee=(0,l.Ng)(e=>({safeFrameContext:(0,Ae.um)(e)}))(({safeFrameContext:e,children:t})=>i().createElement(te.SafeFrameContext.Provider,{value:e},t));Ee.displayName="SafeFrameContextProvider";var ve=Ee,Te=a(8232);const he=(0,l.Ng)(void 0,e=>Object.assign({},(0,c.zH)(Te.Ay,e)))(({adsSafeFramePresent:e,adsSetRedirectUrl:t})=>((0,r.useEffect)(()=>{const a=new te.SafeFrameInitMessageHandler(a=>{F.A.info("Flagship safe-frame initialized"),e(),a.redirectUrl.startsWith("http")&&t(a.redirectUrl)});return a.register(),(()=>{try{te.SafeFrameMessagePublisher.sendSafeFrameMessage(te.SafeFrameMessages.safeFrameStatusMessage(te.SafeFrameMessages.SafeFrameStatus.StreamAvailable))}catch(e){F.A.error(e,'Error when sending "StreamAvailable" status message to safe-frame.')}})(),()=>{a.unregister()}},[]),null));he.displayName="SafeFrameInit";var Se=he,be=a(6328);const Ie=i().memo(e=>{const{widgetIsInView:t,widgetIsOutOfView:a,widgetIsInViewWithDelay:n}=e,i={inView:n};return(e=>{(0,r.useEffect)(()=>{if(!y.A.get(y.A.Keys.DisplayAds))return;const t=new te.PageFocusDetector,a=new te.SafeFrameViewportDetector({threshold:0}),n=new te.ViewportBound(e,t,a);return n.register(),()=>{n.unregister()}},[e])})({inView:t,outOfView:a}),((e,t)=>{(0,r.useEffect)(()=>{if(!y.A.get(y.A.Keys.DisplayAds))return;const a=new te.PageFocusDetector,n=new te.SafeFrameViewportDetector({threshold:.5}),r=new te.DelayedViewportDetector(n,{delayInMillis:t}),i=new te.ViewportTimer(e,a,r);return i.register(),()=>{i.unregister()}},[e])})(i,1e3),null});Ie.displayName="WidgetSafeFrameViewabilityProvider";const Pe=(0,l.Ng)(void 0,e=>(0,c.zH)({widgetIsInView:be.xb,widgetIsOutOfView:be.Hy,widgetIsInViewWithDelay:be.Sr},e))(Ie);Pe.displayName="WidgetSafeFrameViewabilityProviderContainer";var _e=Pe,Ce=a(7573);const we=(e,t,a,n)=>{(0,r.useEffect)(()=>{if(null===e.current)return;const r=new te.PageFocusDetector,i=new te.ImmediateViewportDetector(e.current,{threshold:.5}),o=new te.DelayedResettableViewportDetector(i,{inViewDelayInMillis:a,outOfViewDelayInMillis:n}),s=new te.ViewportBound(t,r,o);return s.register(),()=>{s.unregister()}},[e,t])},Oe=(e,t,a=200,n=0)=>{(0,r.useEffect)(()=>{if(null===e.current)return;const r=new te.PageFocusDetector,i=new te.ImmediateViewportDetector(e.current,{pixelOffset:a,threshold:n}),o=new te.ViewportBound(t,r,i);return o.register(),()=>{o.unregister()}},[e,t])},Le=()=>{},Ne=i().memo(({getRefObj:e,playerIsInViewAfterDelay:t,playerIsOutOfView:a,detectPlayerInViewImmediate:n=!1,playerIsInView:r,executeWhenPlayerInView:i={callback:Le,delay:1e3}})=>{const o={inView:t,outOfView:a},s=e();return we(s,o,2e3,0),we(s,{inView:i.callback,outOfView:Le},i.delay,0),n&&Oe(s,{inView:r,outOfView:Le},0,.5),null}),Re=(0,l.Ng)(void 0,e=>(0,c.zH)({playerIsInViewAfterDelay:Ce.Dm,playerIsOutOfView:Ce.KA,playerIsInView:Ce.Qc},e))(Ne);Re.displayName="PlayerViewabilityProviderContainer";var De=Re,ke=a(6965),Me=a(6685),xe=a(7471),Be=a(5174),Ve=a(6515),je=a(4136),Fe=a(2984),Ue=a(8315),ze=a(4920),Ge=a(4249),$e=a(3658),We=a(8163),He=a(1408),Je=a(7569);function Ke(){return!0===y.A.get(m.m.IsShareEnabled)}const Ye="share-page-state-data",qe=()=>{const e=L.A.get(L.A.Keys.TrafficType),t=h.A.get(h.A.Keys.DeviceType)===u.PX.DESKTOP,a=(0,te.isMshop)()?He.Je.MSHOP:He.Je.MWEB,n=t?He.Je.DESKTOP:a;return{customerId:(0,Je.Y)(),requestId:(0,te.getRequestId)(),isInternal:"internal"===e,marketplaceId:(0,te.getMerchantId)(),userAgent:window.navigator.userAgent,platform:n,ingress:(0,te.getPageType)()||L.A.get(L.A.Keys.PageType)}};var Ze=a(9773);const Xe=(0,r.createContext)({initialBroadcast:{id:"",url:""}});var Qe=a(5061),et=a(5224),tt=a(6049),at=a(3839);const nt=e=>{const t=te.DateUtils.getHoursAgo(e),a=((e,t)=>{const a=te.DateUtils.getDaysAgo(e),n=te.DateUtils.getMinutesAgo(e),r=h.A.get(h.A.Keys.Locale),i={hour:w.A.get("amazon-live-past-hours-stream-message"),minute:w.A.get("amazon-live-past-minutes-stream-message"),day:w.A.get("amazon-live-past-days-stream-message"),date:w.A.get("amazon-live-past-date-stream-message")};switch(r){case We.IB.deDE:{const t=We.IB.deDE.replace("_","-");return{hours:i.hour.replace("${hoursAgo}",te.DateUtils.getHoursAgoString(e,t)),minutes:i.minute.replace("${minutesAgo}",te.DateUtils.getMinutesAgoString(e,t)),days:i.day.replace("${daysAgo}",te.DateUtils.getDaysAgoString(e,t)),date:i.date.replace("${startDate}",te.DateUtils.getDateString(e,t))}}case We.IB.jaJP:return{hours:i.hour.replace("${hoursAgo}",`${t}`),minutes:i.minute.replace("${minutesAgo}",`${n}`),days:i.day.replace("${daysAgo}",`${a}`),date:i.date.replace("${startDate}",te.DateUtils.getDateString(e))};case We.IB.enUS:default:return{hours:i.hour.replace("${hoursAgo}",te.DateUtils.getHoursAgoString(e)),minutes:i.minute.replace("${minutesAgo}",te.DateUtils.getMinutesAgoString(e)),days:i.day.replace("${daysAgo}",te.DateUtils.getDaysAgoString(e)),date:i.date.replace("${startDate}",te.DateUtils.getDateString(e))}}})(e,t);return t<24?t>0?a.hours:a.minutes:te.DateUtils.getDayDiff(new Date,e)<8?a.days:a.date},rt=(e,t,a)=>{switch(e){case u.uj.PRE_LIVE:case u.uj.FUTURE:return a>0?(e=>{const t=te.DateUtils.getTimeString(e);return te.DateUtils.isToday(e)?w.A.get("amazon-live-today-stream-message").replace("${startTime}",t):w.A.get("amazon-live-future-stream-message").replace("${startTime}",t).replace("${startDate}",te.DateUtils.getDateString(e))})(new Date(a)):"";case u.uj.GRACE_PERIOD:return w.A.get("amazon-live-grace-period-ingress-message");case u.uj.POST_LIVE:return w.A.get("amazon-live-post-ingress-message");case u.uj.VOD:return t>0?nt(new Date(t)):"";default:return""}};var it=a(1385),ot=a(2033),st=a(127),lt=a(2231);const ct=i().memo(({children:e,twitchError:t,videoError:a,minWatched:n,playerReady:i,videoLoaded:o,playbackQualityChanged:c,playerTtff:d,playbackLatency:m,playbackBlocked:g,bufferEmpty:f,watchTime:A,playedInViewport:E,ccButtonClicked:v,playButtonClicked:T,muteButtonClicked:S,widgetExpanded:b,widgetUnexpanded:I,mobileShareIconClicked:P,desktopShareIconMouseOver:_,shareWidgetShareButtonClicked:C,shareWidgetCopyButtonClicked:O,timeUpdated:L,updateAppState:N,adOverlayClicked:R,saveInitialBroadcastSeekTime:D,changeBroadcast:k,saveInitialBroadcastScrollPosition:M,expandButtonClicked:x,reportButtonClicked:B,setReminderButtonClicked:V,videoStartFailure:j,exitBeforeVideoStart:U,playTime:z,timedMetadataEmitted:G,posterLoaded:$,playerTextTrackLoaded:W,url:H,livePlaybackUrl:K,trimmingMetadata:Y,poster:q,title:Z,broadcastStatus:X,channelTitle:Q,startTime:ee,scheduledStartTime:ae,expandEnabled:ne,inView:re,live:ie,vod:oe,isVSE:se,source:ce,broadcastId:de,unformattedLiveViewers:ue,muted:pe,nextBroadcast:me,initialBroadcastSeekTime:ye,emitOSA:ge,emitDwellTimeOSA:fe,isWidgetExpanded:Ae,storePlayerPlaybackStatus:Ee,progressBarClicked:ve,sponsoredImageId:Te,reportVideoStatus:he,reportedBroadcastIds:Se,vttCaptionsURL:be,reminderSet:Ie,reminderRequestStatus:Pe,enterPip:_e,closePip:Ce,segments:we,vodEvents:Oe,pipActive:Le,ariaLabel:Ne,liveCaptions:Re,liveCaptionUrl:De})=>{const Me=oe?(0,it.k6)(Oe,we,Y):0,xe=e=>{L(e)},Be=h.A.get(h.A.Keys.DeviceType),Ve=u.Ff[Be],Fe=(0,r.useRef)(null),Ue=(0,r.useRef)(!1),ze=(0,l.d4)(s.Kz),Ge=h.A.get(h.A.Keys.MarketplaceId),$e=(0,r.useCallback)(e=>{switch(e.type){case"playing":Fe.current=(null===(t=Fe.current)&&(t=Date.now()),t),Ee(u.ln.Playing);break;case"pause":Ee(u.ln.Paused);break;case"seeking":Ee(u.ln.Seeking);break;case"seeked":Ee(u.ln.Seeked);break;case"ended":Fe.current&&(z(Date.now()-Fe.current),Fe.current=null),Ee(u.ln.Ended)}var t},[]),He=e=>(Fe.current||(j(),Ue.current=!0),a(e)),Ze=(0,r.useMemo)(()=>({[le.MediaEventName.playing]:$e,[le.MediaEventName.pause]:$e,[le.MediaEventName.seeking]:$e,[le.MediaEventName.seeked]:$e,[le.MediaEventName.ended]:$e}),[$e]),Qe=(0,r.useMemo)(()=>({[le.PluginEventName.TwitchError]:t,[le.PluginEventName.Error]:He,[le.PluginEventName.MinWatched]:n,[le.PluginEventName.Loaded]:i,[le.PluginEventName.VideoLoaded]:o,[le.PluginEventName.TTFF]:d,[le.PluginEventName.PlaybackLatency]:m,[le.PluginEventName.PlaybackBlocked]:g,[le.PluginEventName.BufferEmpty]:f,[le.PluginEventName.WatchTime]:A,[le.PluginEventName.PlaybackInViewport]:E,[le.PluginEventName.TimeUpdate]:xe,[le.PluginEventName.UpdateInitialBroadcastSeek]:D,[le.PluginEventName.EmitOSA]:ge,[le.PluginEventName.EmitDwellTimeOSA]:fe,[le.PluginEventName.EnterPip]:_e,[le.PluginEventName.LeavePip]:Ce,[le.PluginEventName.PlaybackQualityChanged]:c,[le.PluginEventName.TimedMetadataEmitted]:G,[le.PluginEventName.PosterLoaded]:$}),[]),{initialBroadcast:et}=(0,r.useContext)(Xe),{id:tt,url:nt}=et,ot=!!(0,Je.Y)(),st=(0,it.$_)(),ct=(0,r.useMemo)(()=>({[le.OverlayEventName.ClosedCaptionClicked]:v,[le.OverlayEventName.PlayButtonClicked]:T,[le.OverlayEventName.MuteButtonClicked]:S,[le.OverlayEventName.ExpandButtonClicked]:(0,it.TD)({saveInitialBroadcastScrollPosition:M,expandButtonClicked:x}),[le.OverlayEventName.UnexpandButtonClicked]:(0,it.AW)({widgetUnexpanded:I,unexpandRestoreInitBroadcastEnabled:st,changeBroadcast:k,initialBroadcastId:tt}),[le.OverlayEventName.MobileShareIconClicked]:P,[le.OverlayEventName.DesktopShareIconMouseOver]:_,[le.OverlayEventName.ShareWidgetShareButtonClicked]:C,[le.OverlayEventName.ShareWidgetCopyButtonClicked]:O,[le.OverlayEventName.UpdateAppState]:N,[le.OverlayEventName.AdOverlayClicked]:R,[le.OverlayEventName.ProgressBarClicked]:ve,[le.OverlayEventName.ReportButtonClicked]:B,[le.OverlayEventName.SetReminderButtonClicked]:V}),[v,T,S,M,x,I,st,k,tt,P,_,C,O,N,R,ve,B,V]),dt=F.A.error,ut=F.A.fatal,pt=(0,r.useMemo)(()=>rt(X,ee,ae),[X,ee,ae]),mt=ce===u.kL.AL?(0,at.iW)(X):le.LiveBadgeTypes.None,yt=(0,at.kx)(ie,oe,mt),gt=(0,r.useMemo)(()=>["LIVE","VOD"].includes(X),[X]),ft=(0,r.useMemo)(()=>gt?(0,at.l$)(H,K,Y):"",[gt,H,K,Y]),At=me?w.A.get("amazon-live-swipe-next-video"):"",Et=w.A.get("amazonlive-portal-unmute-text"),vt=w.A.get("amazonlive-portal-mute-text"),Tt=w.A.get("amazonlive-portal-volume"),ht=w.A.get("amazonlive-portal-now-muted-text"),St=w.A.get("amazon-live-video-now-playing"),bt=w.A.get("amazon-live-video-now-paused"),It=w.A.get("amazonlive-close-expanded-player"),Pt=w.A.get("amazon-live-expand-player"),_t=w.A.get("amazonlive-portal-enable-closed-caption-text"),Ct=w.A.get("amazonlive-portal-disable-closed-caption-text"),wt=w.A.get("amazon-live-watch-now"),Ot=w.A.get("amazon-live-pause-player"),Lt=w.A.get("amazon-live-play-player"),{feeDisclosureText:Nt,feeDisclosureUrl:Rt}=(0,at.wt)(ze,Ge===We.$1),Dt=w.A.get("asv-sponsored-by"),kt=w.A.get("share-button-text"),Mt=w.A.get("copy-button-text"),xt=w.A.get("report-button-text"),Bt=w.A.get("close-button-text"),Vt=w.A.get("amazon-live-show-overlay"),jt=y.A.get(y.A.Keys.DisplayAds),Ft=y.A.get(y.A.Keys.EnableClosedCaptionByDefault),Ut=void 0===Ft||Ft,zt=(0,r.useMemo)(()=>ue?(0,je.N9)(ue):void 0,[ue]),Gt=(0,it.Ve)(ye,st),$t=(0,ke.al)(de,void 0,ce),Wt=(0,J.Dg)(),Ht=(0,r.useMemo)(()=>De&&ie&&(0,J.Gh)(J.D$.transcribeClosedCaptions,!1)===J.T1,[ie,De]),Jt=(0,r.useMemo)(()=>({src:ft,poster:q,title:Z,channelTitle:Q,expandEnabled:ne,inView:re||Le,live:ie,vod:oe,isVSE:se,pluginEvents:Qe,mediaEvents:Ze,overlayEvents:ct,onPluginError:dt,onPluginFatal:ut,statusBadgeType:yt,liveViewers:zt,controls:"VOD"===X,messaging:pt,broadcastId:de,playable:gt&&""!==ft,muted:pe,playButtonSubtext:At,unmuteText:Et,muteText:vt,volumeText:Tt,nowMutedText:ht,nowPlayingText:St,nowPausedText:bt,unexpandText:It,expandText:Pt,enableClosedCaptionText:_t,disableClosedCaptionText:Ct,watchNowText:wt,pauseText:Ot,playText:Lt,sponsoredByText:Dt,isDisplayAd:jt,ccEnabled:Ut,isGwOrchestratorEnabled:(0,J.Gh)(J.D$.gwVideoOrchestrator)===J.T1,isGwOrchestratorPercentEnabled:(0,J.Gh)(J.D$.gwOrchestratorPercent)===J.T1,initialBroadcastUrl:nt,initialBroadcastSeekTime:Gt,isWidgetExpanded:Ae,osaId:$t,unexpandRestoreInitBroadcastEnabled:st,sponsoredImageId:Te,reportVideoStatus:he,reportedBroadcastIds:Se,isLoggedIn:ot,vttCaptionsURL:be,scheduledStartTime:ae,remindersEnabled:(0,J.Gh)(J.D$.guaranteedNotifications)===J.T1,reminderSet:Ie,reminderRequestStatus:Pe,maxQuality:Ve,position:Me,feeDisclosureText:Nt,feeDisclosureUrl:Rt,reportLivestreamLatencyEnabled:(0,J.Gh)(J.D$.reportLivestreamLatency)===J.T1,asvRebrandEnabled:Wt,ariaLabel:Ne,shareButtonText:kt,copyButtonText:Mt,reportButtonText:xt,closeButtonText:Bt,showOverlayText:Vt,shareDataAttributes:qe(),liveCaptions:Re,onTextTrackAdded:W,isLiveCaptionsEnabled:Ht}),[ft,q,Z,Q,ne,re,Le,ie,oe,se,Qe,Ze,ct,dt,ut,yt,zt,pt,de,gt,pe,At,Et,vt,Tt,ht,St,bt,It,Pt,_t,Ct,wt,Ot,Lt,Dt,jt,Ut,Ae,$t,Te,he,Se,ot,be,ae,Ie,Pe,Ve,Me,Nt,Rt,Wt,Ne,kt,Mt,xt,Bt,Vt,Re,Ht]),Kt=!(0,lt.Fr)()&&Ke();return(0,r.useEffect)(()=>{Kt&&(0,p.rd)("share")},[]),(0,r.useEffect)(()=>{Kt&&((e,t,a,n,r)=>{if(!window.P)return;const i=`${a}: ${n}`,o={url:(0,te.buildDestinationPageShareURL)(e,{subPageType:r?te.DESTINATION_SUB_PAGE_TYPE.VIDEO:te.DESTINATION_SUB_PAGE_TYPE.BROADCAST,useUUID:!1}),image:t,description:i,title:i,quote:i};window.P.when("A").execute(e=>{let t=e.state(Ye);t?e.state.replace(Ye,o):(e.state.parse(),t=e.state(Ye,o))})})(de,q,Q,Z,se)},[de,q,Q,Z]),(0,r.useEffect)(()=>()=>{!ft||Fe.current||Ue.current||U()},[]),(0,r.useEffect)(()=>()=>{Fe.current&&(z(Date.now()-Fe.current),Fe.current=null)},[ft]),e(Jt)});ct.displayName="PlayerProvider";const dt=(0,l.Ng)(e=>{var t;const a=(0,s.R2)(e);return{segments:(0,s.Wv)(e),vodEvents:(0,$e.J)(e),source:(0,s.jN)(e),isVSE:a,poster:(0,Qe._G)(e),url:(0,s.f3)(e),livePlaybackUrl:(0,s.r4)(e),trimmingMetadata:(0,Be.X)(e),title:(0,s.G9)(e),live:(0,s.yZ)(e),vod:(0,s.pS)(e),expandEnabled:(0,et.Uu)(e),inView:(0,tt.V5)(e),broadcastStatus:(0,s.at)(e),channelTitle:(0,Qe.Cp)(e),startTime:(0,s.RO)(e),scheduledStartTime:(0,Qe.z$)(e),broadcastId:(0,s.ZG)(e),unformattedLiveViewers:(0,s.Cx)(e),muted:(0,tt.gB)(e),nextBroadcast:a?(0,Ve.Hc)(e):(0,Ve.b4)(e),initialBroadcastSeekTime:(0,ze.Zr)(e),isWidgetExpanded:(0,et.IT)(e),sponsoredImageId:(0,s.Wy)(e),reportVideoStatus:(0,tt.qW)(e),reportedBroadcastIds:(0,tt.nL)(e),vttCaptionsURL:(0,tt.N1)(e),reminderSet:(0,Ge.R$)(e),reminderRequestStatus:(0,Ge.kl)(e),pipActive:(0,tt.Sk)(e),ariaLabel:(0,tt.VK)(e),liveCaptions:null===(t=(0,s.pT)(e))||void 0===t?void 0:t.parsedVtt,liveCaptionUrl:(0,s.G4)(e)}},e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,c.zH)(Ce.Ay,e)),(0,c.zH)({widgetExpanded:f.q8,widgetUnexpanded:f.$u,saveInitialBroadcastSeekTime:Fe.YA,changeBroadcast:f.YZ,saveInitialBroadcastScrollPosition:Fe.di,expandButtonClicked:f.ST,reportButtonClicked:Ce.UP,setReminderButtonClicked:Ce.Gx,playerTextTrackLoaded:ot.bE},e)),(0,c.zH)(Me.QC,e)),(0,c.zH)(Me.px,e)),(0,c.zH)({adOverlayClicked:Te.bd},e)),(0,c.zH)({emitOSA:xe.Cy,emitDwellTimeOSA:st.dA},e)),(0,c.zH)({videoLoaded:ot.Vw},e)),(0,c.zH)({storePlayerPlaybackStatus:ot.G_},e)),(0,c.zH)({playbackQualityChanged:Ue.t5},e)),(0,c.zH)({videoStartFailure:Ue.S3,exitBeforeVideoStart:Ue.L4,playTime:Ue.Gn},e)),(0,c.zH)({enterPip:st.P7,closePip:st.iu},e)),(0,c.zH)({timedMetadataEmitted:Ce.xr},e)),(0,c.zH)({posterLoaded:Ze.J},e)))(ct);dt.displayName="PlayerProviderContainer";var ut=dt,pt=a(1337),mt=a(8718),yt=a(8791),gt=a(8328),ft=a(7542),At=a(9578),Et=a(1755);const vt=()=>y.A.get(m.m.EnableSpecialEventBadge)?(()=>{const e=(0,J.Gh)(J.D$.specialEventBadging);if((0,J.Gh)(J.D$.pdBadgingHVE)===J.T1&&e===J.T1)return se.SpecialEvent.PrimeDay;if((0,J.Gh)(J.D$.peasBadgingHVE)===J.T1&&e===J.T2)return se.SpecialEvent.PrimeEarlyAccessSale;if((0,J.Gh)(J.D$.pbddBadgingHVE)===J.T1&&e===J.T3)return se.SpecialEvent.PrimeBigDealDays;if(O.A.isWeblabEnabled(O.A.Keys.BFCMBadgeGating)&&e===J.T4)switch(O.A.getTreatment(O.A.Keys.BFCMBadgeTreatments)){case"T4":return se.SpecialEvent.BlackFriday;case"T6":return se.SpecialEvent.CyberMonday}})():void 0;var Tt=a(4924),ht=a(3085);const St=(e,t)=>{const a=t?"Claim to see deal":w.A.get("amazon-live-promo-code-eligible-text-unclaimed"),n=t?"Take ${percentage} off at checkout":w.A.get("amazon-live-promo-code-eligible-text-claimed");return{addToCart:w.A.get("amazon-live-atc-button-text")||"Add to cart",addedToCart:w.A.get("gb_added_to_cart")||"Added",addToCartError:w.A.get("amazon-live-atc-failure-msg")||"Unable to add to cart",seeProductDetails:w.A.get("asv-see-all-details")||"See all details",seeDetails:w.A.get("amazon-live-see-details-button-text")||"See details",promoCodeEligibleUnclaimed:e&&a?a.replace("${percentage}",e):"",promoCodeEligibleClaimed:e&&n?n.replace("${percentage}",e):"",watchMore:w.A.get("amazon-live-watchmore-streams")||"Watch more livestreams"}};var bt=a(7052),It=a(614);const Pt={onInvalidRating:e=>F.A.error(`EnergyEfficiency: Invalid Rating ${e}`),onInvalidMarketplace:e=>F.A.error(`EnergyEfficiency: Invalid Marketplace ${e}`),onMissingText:()=>F.A.error("EnergyEfficiency: Missing Text"),onLegacyDataLoad:()=>F.A.info("EnergyEfficiency: Legacy Data Loaded"),onMissingProductSheetLoad:()=>F.A.info("EnergyEfficiency: Loaded with missing product sheet"),onFullDataLoad:()=>F.A.info("EnergyEfficiency: Full Data Loaded"),onRatingSvgClick:()=>F.A.info("EnergyEfficiency: Rating SVG Clicked"),onProductSheetTextClick:()=>F.A.info("EnergyEfficiency: Product Sheet Clicked"),onVisualLoad:()=>F.A.info("EnergyEfficiency: Visual Loaded")},_t=i().memo(e=>{const{children:t,emitCarouselFeedClick:a,emitCarouselProductTitleClick:n,emitCarouselProductImageClick:o,emitCarouselProductReviewClick:s,emitCarouselProductShopIconClick:l,emitCarouselProductInView:c,emitCarouselCustomTitleClick:d,emitCarouselCustomImageClick:p,emitCarouselCustomActionButtonClick:g,emitCarouselCustomInView:f,emitCarouselCardImpression:A,emitCarouselLoadImpression:E,emitCarouselLoadMADSImpression:v,emitCarouselLoadBSImpression:T,emitPollProductData:S,emitPollDealProductData:b,emitCarouselProductAddToCart:I,emitCarouselProductModifyCart:P,triggerPip:_,updateInViewAsins:C,items:O,featuredItemId:L,redirectUrl:N,emitCarouselFeedScroll:R,emitCarouselItemLoadedAction:k,linkCode:M,tag:x,subtag:B,activePromoCodeId:V,promoCodePercentageOff:j,promoCodeDisplayType:F,broadcastStatus:U,broadcastId:z,videoSource:G,promotionsFromState:$,carouselInView:W,itemsInCart:H,cartDetails:K,emitCarouselLoadMoreClick:Y,emitCarouselLoadMoreInView:q,getCustomNotificationSetting:Z,setCustomNotificationSetting:X,customNotifications:Q,isVSE:ee}=e,[ae,ne]=i().useState(!1),[re,ie]=i().useState(!1),{enabled:oe,triggerCallback:se}=(0,J.Tg)(J.D$.productCarouselAddToCart,(0,bt.St)()),{enabled:le,triggerCallback:ce}=(0,J.Tg)(J.D$.productCarouselAddToCartPreImmersive,(0,bt.Cf)());(0,r.useEffect)(()=>{var e;const t=(0,te.getQueryParameter)(u.ug)===u.VA,a=(0,te.getQueryParameter)(u.ki),n=null!==(e=null==a?void 0:a.startsWith(u.Iv.SOCIAL_ADS))&&void 0!==e&&e;ne(t),ie(n)},[]);const de=U===u.uj.LIVE?C:void 0,ue=(0,r.useMemo)(()=>({product:{onTitleClick:n,onImageClick:o,onReviewClick:s,onShopIconClick:l,onCardInViewport:c,onAddToCartButtonClick:I,onAddToCartStepperClick:P,onCardInViewportChanged:de,onAddToCartButtonTriggerCallback:se,onAddToCartButtonTriggerCallbackPreImmersive:ce,onCarouselItemLoad:k},custom:{onTitleClick:d,onImageClick:p,onActionButtonClick:g,onCardInViewport:f,onCarouselItemLoad:k,getCustomNotificationSetting:Z,setCustomNotificationSetting:X},carousel:{onNextPrevButtonClick:a,onScroll:R,onCardImpression:A,onCarouselImpression:E,onCarouselMADSImpression:v,onCarouselBSImpression:T,onCarouselLoadMoreClick:Y,onCarouselLoadMoreInView:q}}),[n,o,l,c,d,p,g,f,a,R,A,E,v,T,_,C,de,I,P,k,Z,X]),pe=!!y.A.get(m.m.Embedded),me=vt(),ye=(0,ht.R)(),ge=(0,ke.al)(z,void 0,G);ye.tag=x,ye.ascsubtag=B,ye.asc_contentid=ge,ye.linkCode=ae&&re?u.Iv.SOCIAL_ADS:M;const fe=(0,r.useMemo)(()=>({urlMetrics:ye}),[ye]),Ae=(0,r.useMemo)(()=>(0,At.l9)(O,U),[O]),Ee=(0,J.Gh)(J.D$.creatorWalletFlagship)===J.T1,ve=!!Ae.isBadgingAvailable&&(0,J.Gh)(J.D$.dealBadging)===J.T1;const Te=F===u.as.CLAIM_SUCCESS,he=St(j,Ee),Se=U===u.uj.LIVE?V:void 0,be=void 0!==$&&U===u.uj.LIVE?$.map(e=>{return{id:e.id,stringConstants:St((t=e.discountPercent,t?`${t}%`:void 0),Ee),discountPercent:e.discountPercent||0,associatedAsins:e.associatedAsins,groupClaimCode:e.groupClaimCode};var t}):void 0,Ie=w.A.get("amazon-live-featured-now"),Pe=h.A.get(h.A.Keys.MarketplaceId),_e=!!y.A.get(m.m.SpecialEventBadgeCustomTile),Ce=(0,r.useCallback)((e,t)=>(0,ke.al)(z,e,G,t),[z,G]),we=(0,J.Dg)(),Oe=(0,We.NJ)(Ae.isBadgingAvailable?Ae.dealBadgingItems:O,Pe),Le=w.A.get("energy-efficiency-product-sheet"),Ne=w.A.get("sponsored-product-label"),Re=w.A.get("energy-efficiency"),De=w.A.get("energy-efficiency-heading"),Me=w.A.get("energy-efficiency-accessibility-description"),xe=w.A.get("energy-efficiency-class"),Be=h.A.get(h.A.Keys.Locale),Ve=!!(0,Je.Y)(),je=(0,r.useMemo)(()=>({items:Oe,featuredItemId:L,redirectUrl:N,callbacks:ue,isEmbeddedRequest:pe,specialEvent:me,metrics:fe,activePromoCodeId:Se,isPromoCodeClaimed:Te,stringConstants:he,options:{useSwipeForMetrics:(0,We.NU)(Pe)},enableSpecialEventBadgeOnCustomTile:_e,getOsaAciIdForASIN:Ce,promotions:be,isDealBadgingEnabled:ve,featuringText:Ie,carouselInView:W,asvRebrandEnabled:we,isAddToCartButtonEnabled:oe,isAddToCartButtonEnabledPreImmersive:le,itemsInCart:H,cartDetails:K,obfuscatedMarketplaceId:Pe,productSheetText:Le,sponsoredProductText:Ne,energyEfficiencyText:Re,energyEfficiencyAndProductSheetText:De,energyEfficiencyAriaLabel:Me,energyEfficiencyClassText:xe,eeBadgeLogger:Pt,language:Be,customNotifications:Q,isLoggedIn:Ve,isVSE:ee}),[Oe,L,N,ue,pe,me,fe,Se,Te,he,_e,Ce,be,ve,Ie,W,we,oe,le,H,K,Pe,Le,Ne,Re,De,Me,xe,Be,ee,Q,Ve]);return(({broadcastStatus:e,emitPollProductData:t,emitPollDealProductData:a})=>{var n,i;const o=(0,r.useRef)(null),s=(0,r.useRef)(null),l=1e3*(null!==(n=D.A.get(D.A.Keys.POLL_PRODUCT_DATA_INTERVAL))&&void 0!==n?n:60),c=1e3*(null!==(i=D.A.get(D.A.Keys.POLL_DEAL_PRODUCT_DATA_INTERVAL))&&void 0!==i?i:12);(0,r.useEffect)(()=>(e===u.uj.LIVE&&D.A.get(D.A.Keys.IS_POLL_ENABLED)&&(o.current=setInterval(()=>{t()},l),s.current=setInterval(()=>{a()},c)),()=>{o.current&&clearInterval(o.current),s.current&&clearInterval(s.current)}),[e])})({broadcastStatus:U,emitPollProductData:S,emitPollDealProductData:b}),0===O.length?null:t(je)}),Ct=(0,l.Ng)(e=>({items:(0,yt.rA)(e),featuredItemId:(0,s.kD)(e),redirectUrl:(0,Ae.oy)(e),linkCode:(0,Tt.Yb)(e),tag:(0,Tt.Tg)(e),subtag:(0,Tt.$Q)(e),activePromoCodeId:(0,gt.KJ)(e),promoCodePercentageOff:(0,gt.et)(e),promoCodeDisplayType:(0,gt.UH)(e),broadcastStatus:(0,s.at)(e),broadcastId:(0,s.ZG)(e),videoSource:(0,s.jN)(e),promotionsFromState:(0,ft.PW)(e),carouselInView:(0,yt.rF)(e),itemsInCart:(0,yt.mN)(e),cartDetails:(0,yt.hH)(e),customNotifications:(0,Et.uN)(e),isVSE:(0,s.R2)(e)}),e=>(0,c.zH)(Object.assign(Object.assign({},mt.Ay),{updateInViewAsins:pt.I_,emitPollProductData:mt.ir,emitPollDealProductData:mt.GU,getCustomNotificationSetting:It.XZ,setCustomNotificationSetting:It.PP}),e))(_t);Ct.displayName="CarouselCallbacksProviderContainer";var wt=Ct;const Ot=i().memo(e=>{const{getRefObj:t,widgetIsInView:a,widgetIsOutOfView:n,widgetIsInViewWithDelay:i,broadcastId:o}=e,s={inView:a,outOfView:n},l={inView:i},c=t();return Oe(c,s),((e,t,a,n)=>{(0,r.useEffect)(()=>{if(null===e.current)return;const t=new te.PageFocusDetector,r=new te.ImmediateViewportDetector(e.current,{threshold:.5}),i=new te.DelayedViewportDetector(r,{delayInMillis:n}),o=new te.ViewportTimer(a,t,i);return o.register(),()=>{o.unregister()}},[e,t,a])})(c,o,l,1e3),null});Ot.displayName="WidgetViewabilityProvider";const Lt=(0,l.Ng)(e=>({broadcastId:(0,s.ZG)(e)}),e=>(0,c.zH)({widgetIsInView:be.xb,widgetIsOutOfView:be.Hy,widgetIsInViewWithDelay:be.Sr},e))(Ot);Lt.displayName="WidgetViewabilityProviderContainer";var Nt=Lt;class Rt extends i().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){F.A.fatal(e,t.componentStack)}render(){const{hasError:e}=this.state,{children:t}=this.props;return e?i().createElement(i().Fragment,null):t}}Rt.displayName="ErrorBoundary";var Dt=Rt,kt="WQcxEEdcRbIfnaeMObZtK",Mt="_1tkEG66iZ_simo9t7HMwMW",xt="_2Bd52OiAELasZd5cdvlPne";const Bt=[i().createElement(fe,{key:0,className:me})],Vt=()=>{const e=i().createRef(),t=i().createRef();return i().createElement(Dt,null,i().createElement(ve,null,i().createElement(Se,null),i().createElement(te.SafeFrameSwitch,{withSafeFrame:i().createElement(_e,null),withoutSafeFrame:i().createElement(Nt,{getRefObj:()=>e})}),i().createElement("div",{className:kt,ref:e},i().createElement(Dt,null,i().createElement("div",{className:Mt,ref:t},i().createElement(De,{getRefObj:()=>t}),i().createElement(ut,null,e=>i().createElement(le.Player,Object.assign({},e,{overlayTemplate:le.MobileAd414x125OverlayTemplate,overlayChildren:Bt,autoplay:!0,controls:!1,ccEnabled:!1,shareButtonEnabled:!1,cover:!0}))))),i().createElement(Dt,null,i().createElement("div",{className:xt},i().createElement(wt,null,e=>i().createElement(se.SingleTileCarousel,Object.assign({},e,{isEmbeddedRequest:!0,percentClaimedText:w.A.get("percent-claimed-text")}))))))))};Vt.displayName="MobileAd414x125Layout";var jt=Vt,Ft=a(1486),Ut=a.n(Ft),zt=(a(633),a(2887)),Gt=a(8820),$t=a.n(Gt),Wt=(a(2477),a(2052),a(3808),a(9401),a(4705),a(7025)),Ht=a(6630),Jt=a.n(Ht),Kt=(a(4139),a(1867)),Yt=a(8561),qt=a(3052),Zt=a(9068),Xt="DYd7dYtFhweqT_kw-0F0e",Qt="_3Q2Bs3AeWWSgKTjDrnHghp",ea="_1SMe536eHCvQ_72oULvvcg",ta="_1cLgdh5gzVaetyezk9OGvS",aa="_3ejk93eM4dnlkbEYYRKlrO",na="_1-YPtiWmXiUXpFcGhxSBe6",ra={white:"#fff",white100:"#f3f3f3",white300:"#eae6e6",black:"#000",blue100:"#d4e1ee",blue300:"#c8f3fa",blue500:"#647991",blue700:"#3c4a59",blue800:"#1e262e",blue900:"#1c2229",lightestGray:"#fafafa",gray200:"#e8e8e8",gray900:"#242f3e",silver:"#c1c1c1",smileOrange:"#ff6200",offWhite:"#cecece",app:"_2URmO8vniZo1VBFH6RZcMg",mobileIspV2:"_2BSggRlUJVcMDFWCOnRLw8",playerContainer:"_25SxjJIYM20acw1Z7-nRDL",verticalVideoWidget:"L2-EywXtZkiF2DAclb6UI",hasGridCarousel:"_13FEaeEnGXngCX77UCU1UY",feeDisclosure:"_2br5VdYYprsFlmtHd4sf_d",playerWrapper:"_2tMyHaj863dly-5C-laC4T",elementContainer:"_1kLEA8TJ0p4w_GirCtDGQi",carouselContainer:"_1ndfa5uYbAoI8Hw82A8sQo",elementContainerBg:"_1FSpZb4s-2MeRrJEwDJFJ2",hasATCEnabled:"_2VnaPW4JpHIVZ5OJz-mzoP",carouselContainerMultipleAsinT1:"_2J6ZP4Hv76KT2XcRNoOtI2",carouselContainerMultipleAsinT2:"vSBuS_uLjwHb2-ionIVFS",chatContainer:"_11kCu9z-5Z4j61tYoz0Oa5",gatewayMobile:"_2N8gIDgIcIAlO8pzFdnz6-",elementContainerMultipleAsin:"_2Ro117DAiZHklKZ8UH1UgC",mobileIspWithUpdatedHeight:"_2I2bUJ5jTyxlM3t60JYh9Z",mobileImmersive:"_3gq-4okFeACEXpbxj1BX3w",tabContainer:"Y3pKWeM12km70uH94Idad",flex:"_1gUheTuxRdmwOWwmVax-11",topPadding:"_31CP3YLJJBw83E0-LDzeXB",broadcastCarouselContainer:"_1zE62ghLL8wN92zS0HdzzW",hasFeeDisclosure:"_36NW3-qyt5JSNmS49VQSMY",feeDisclosureCreatorContainer:"CxfeX-55J9vGNSzPNjUo0",bottomPadding:"_3pQbFHM1JjboZXS1MCGFKg",reactionsOverride:"_3gX5GQ43QJ0m8sCaVtgbPI",scrollCarouselOverride:"_2dV7cfWimi-xPDv_9hFAJC",mobileImmersiveVertical:"_2Y-wwioWJlXQlvtiw1w_FJ",creatorInfoContainer:"_3jsZYvD7hmBHmVJ8G9Gf56",threeDotMenu:"_2qNQdFPb3F7aGZB3vJZQli",srOnly:"_1p2KMPNyaMYSVNsBO4jP5S",disclosure:"_1viveoTXxdhxTuf-cG7ahe",widgetTextTheme:"_23F40jQ-aEBfOC-xW-0Scx"};const ia=({dimension:e=12,color:t="#767676"})=>{const a=`${e}px`,n=`${e}px`;return i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",id:"body_1",width:n,height:a,viewBox:"0 -1 13 13",overflow:"visible"},i().createElement("g",{transform:"matrix(0.75 0 0 0.75 0 0)"},i().createElement("g",{transform:"matrix(1 0 0 1 -0 -0)"}),i().createElement("path",{transform:"matrix(1 0 0 1 -0 -0)",d:"M8 0C 12.418278 0 16 3.581722 16 8C 16 12.418278 12.418278 16 8 16C 3.581722 16 0 12.418278 0 8C 0 3.581722 3.581722 0 8 0zM8 7C 7.4477153 7 7 7.4477153 7 8L7 8L7 12C 7 12.552284 7.4477153 13 8 13C 8.552285 13 9 12.552284 9 12L9 12L9 8C 9 7.4477153 8.552285 7 8 7zM8 3C 7.4477153 3 7 3.4477153 7 4C 7 4.5522847 7.4477153 5 8 5C 8.552285 5 9 4.5522847 9 4C 9 3.4477153 8.552285 3 8 3z",stroke:"none",fill:t,fillRule:"nonzero"})))};ia.displayName="InfoIcon";var oa="_3bCEfsUEyIe6CDAJCFLkvh",sa="_3KcvC1pdQsFfekETPfKJw5",la="_27vbR_aLHNyPhrMnZ6FRpk",ca="_2D9-SGi2C20LBB9RLzAn7x",da={white:"#fff",white100:"#f3f3f3",white300:"#eae6e6",black:"#000",blue100:"#d4e1ee",blue300:"#c8f3fa",blue500:"#647991",blue700:"#3c4a59",blue800:"#1e262e",blue900:"#1c2229",lightestGray:"#fafafa",gray200:"#e8e8e8",gray900:"#242f3e",silver:"#c1c1c1",smileOrange:"#ff6200",offWhite:"#cecece"};const ua="--al-scrollbar-color",pa="--al-primary-color",ma="--al-highlight-color",ya="--al-text-color",ga={[k.Keys.WIDGET_PRIMARY_COLOR]:"#FFFFFF",[k.Keys.WIDGET_HIGHLIGHT_COLOR]:"#FF6200",[k.Keys.WIDGET_TEXT_COLOR]:"#000000",[k.Keys.WIDGET_SCROLLBAR_COLOR]:"#C1C1C1"};class fa{static createWidgetTheme({widgetPrimaryColor:e,widgetHighlightColor:t,widgetTextColor:a,scrollbarColor:n}){const r=document.documentElement.style;return r.setProperty(ua,n),r.setProperty(pa,e),r.setProperty(ma,t),r.setProperty(ya,a),{chat_view__gradient:da.white100,chat_view__background:da.white100,message_cluster__foreground:da.lighterGray,message__background__incoming:e,message__background__outgoing:e,message__foreground__incoming:a,message__foreground__outgoing:a,announcement__background:da.gray200,load_more__background:da.blue800,load_more__foreground:da.white,full_page_loader__background:da.white,chat_input__background:da.white,chat_input__border:da.lighterGray,chat_input_send_button__foreground:t,read_only_alert__background:da.gray900,read_only_alert__foreground:da.white300,no_message_in_chatreplay_prompt__background:da.gray900,no_message_in_chatreplay_prompt__foreground:da.white300,message__background__filtered:da.white300,message_filtered_link__foreground:da.black}}}const Aa=(e,t)=>y.A.get(e)||k.get(t)||ga[t],Ea=(e,t)=>document.documentElement.style.getPropertyValue(t)===ga[e],va=()=>({widgetTheme:(0,r.useMemo)(()=>{const e=Aa(m.m.WidgetPrimaryColor,k.Keys.WIDGET_PRIMARY_COLOR),t=Aa(m.m.WidgetHighlightColor,k.Keys.WIDGET_HIGHLIGHT_COLOR),a=Aa(m.m.WidgetTextColor,k.Keys.WIDGET_TEXT_COLOR),n=k.get(k.Keys.WIDGET_SCROLLBAR_COLOR)||ga[k.Keys.WIDGET_SCROLLBAR_COLOR];return fa.createWidgetTheme({widgetPrimaryColor:e,widgetHighlightColor:t,widgetTextColor:a,scrollbarColor:n})},[])}),Ta=i().memo(({className:e})=>{const t=h.A.get(h.A.Keys.MarketplaceId)===We.$1,a=(0,l.d4)(Qe.bT)===u.vp.THIRD_PARTY,n=(0,l.d4)(s.Kz),r=Ea(k.Keys.WIDGET_PRIMARY_COLOR,pa),o=document.documentElement.style,c=t?w.A.get("amazon-live-influencer-fee-revenue-disclosure-link-text"):w.A.get("amazon-live-influencer-fee-disclosure-link-text"),d=n?w.A.get("sponsored-product-label"):c;return i().createElement("div",{className:de()(oa,e)},i().createElement("span",{className:de()(sa,{[ca]:!r})},d),"Â ",!a&&!n&&i().createElement("a",{href:w.A.get("amazon-live-catamaran-influencer-fee-disclosure-url"),target:"_blank",rel:"noreferrer noopener","aria-label":d,className:de()({[ca]:!r})},i().createElement(ia,{color:r?"#767676":o.getPropertyValue(ya)})))});Ta.displayName="FeeDisclosureV1";var ha=Ta;const Sa=i().memo(({className:e,channelTitle:t,followButton:a,isFeeDisclosureEnabled:n,creatorLogoImageUrl:o,pageRedirectUrl:s,creatorImageTouchHandler:l,children:c})=>{const[d,p]=(0,r.useState)(!1),m=i().createElement("img",{className:de()(aa),src:d?u.sy:o,alt:t,onError:()=>p(!0)}),y=i().createElement(te.RenderIf,{validate:n},i().createElement(ha,{className:ra.feeDisclosureCreatorContainer})),g=i().createElement(i().Fragment,null,m,i().createElement("span",{className:na},t,y)),f=i().createElement(i().Fragment,null,i().createElement("a",{id:"store-front-redirect-tag",href:s,target:"_blank",rel:"noopener noreferrer",onClick:l,tabIndex:-1},m),i().createElement("span",{className:na},i().createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer",onClick:l,className:de()(na,ta),tabIndex:0},t),y));return i().createElement("div",{className:de()(e,Xt)},i().createElement("div",{className:Qt},s?f:g),c,i().createElement("div",{className:ea},a))});Sa.displayName="CreatorInfo";var ba=Sa,Ia=a(33),Pa=a(8044),_a=a.n(Pa),Ca=a(572);const wa=(0,r.memo)(({children:e,nextBroadcast:t,emitUpNextBroadcastSwiped:a})=>e((0,r.useMemo)(()=>({onSwiped:a,broadcastData:t}),[t,a]))),Oa=(0,l.Ng)(e=>{const t=(0,s.R2)(e);return{isVSE:t,nextBroadcast:t?(0,Ve.Hc)(e):(0,Ve.b4)(e)}},e=>(0,c.zH)({emitUpNextBroadcastSwiped:Ca.pp},e))(wa);Oa.displayName="SwipeableThumbnailProviderContainer";var La=Oa,Na=(a(6555),a(7393));var Ra=({children:e,active:t})=>(0,Na.i)()?i().createElement(La,null,a=>i().createElement(_a(),Object.assign({},a,{active:t}),e)):e,Da=a(1665),ka=a(1027),Ma=a(3259),xa=a.n(Ma),Ba=({error:e,pastDelay:t})=>e?i().createElement("div",null,"Error!"):t?i().createElement("div",null,"Loading..."):null;const Va=()=>e=>{const t=(0,s.Qt)(e),a=(0,s.pS)(e),n=(0,s.RO)(e);return!(!a||!n||t===u.BA.MODERATED)},ja=()=>e=>{const t=(0,s.Xn)(e),a=(0,s.yZ)(e),n=(0,s.ni)(e),r=(0,s.Qt)(e),i=Va()(e);return!!t&&!!y.A.get(m.m.IsChatEnabled)&&(i||!(!a||!n||r!==u.BA.ENABLED))},Fa=(e,t)=>t?F.A.error(e,t):F.A.error(e),Ua=(e=>xa()(Object.assign({loading:Ba,delay:1e3,timeout:5e3},e)))({loader(){return(0,p.rd)("huddles"),a.e(96).then(a.t.bind(a,3666,23)).then(e=>e.loadHuddlesChatbox(window.P).then(t=>({ChatWidget:e.ChatWidget,huddlesChatbox:t})))},render(e,t){const{ChatWidget:a,huddlesChatbox:n}=e;return i().createElement(a,Object.assign({huddlesChatbox:n},t))}});Ua.displayName="LoadableChatWidget";const za=i().memo(({chatDisplayed:e,huddleId:t,className:a,theme:n,chatReplayEnabled:o,startTimestamp:s,playerCurrentTime:l,playerStatus:c,trimmingMetadata:d,setNewChats:u})=>((0,r.useEffect)(()=>{(0,p.IT)(!e&&!t)},[e,t]),e&&t?i().createElement(Ua,{huddleId:t,className:a,theme:n,chatReplayEnabled:o,startTimestamp:(0,ka.g)(s,d),playerCurrentTime:l,playerStatus:c,logErrorUtil:Fa,addCountUtil:Z.pl,setNewChats:u}):null));za.displayName="BroadcastChatWidget";const Ga=(0,l.Ng)(e=>({chatDisplayed:ja()(e),chatReplayEnabled:Va()(e),huddleId:(0,s.Xn)(e),startTimestamp:(0,s.RO)(e),playerStatus:(0,tt.u3)(e),playerCurrentTime:(0,tt.pE)(e),trimmingMetadata:(0,Be.X)(e)}))(za);Ga.displayName="ConnectedBroadcastChatWidget";var $a=Ga,Wa=a(9347);const Ha=({refText:e,children:t,disableChannelNav:a=!1,className:n})=>{const r=(0,l.d4)(s.R2),o=(0,l.d4)(Qe.Ju),c=(0,l.d4)(Qe.FL),d=r?c?`${c}/ref=${e}`:"":`/live/channel/${o}/ref=${e}`,u=a||!d;return i().createElement("a",{style:u?{cursor:"default",textDecoration:"none"}:void 0,href:u?void 0:d,className:n},i().isValidElement(t)?t:w.A.get("amazon-live-view-past-livestreams"))};Ha.displayName="ChannelLink";var Ja="_1HXnhsBeGuEfQ-vfa8xMfO",Ka="SgX4b5dguYZxJC06WkiKY",Ya="CJJRU5rTwywP_xGUl2Ay7";const qa=({refText:e,disableChannelNav:t})=>i().createElement(i().Fragment,null,i().createElement("hr",{className:de()(Ja)}),i().createElement("div",{className:de()(Ka)},i().createElement("div",{className:de()(Ya)},i().createElement(Ha,{refText:e,disableChannelNav:t})),i().createElement(Wa.RightChevron,{height:14})));qa.displayName="ChannelLinkFooter";var Za=a(1754),Xa=a.n(Za),Qa=(a(5971),a(4347)),en=a(2353),tn=a(4033),an=(a(287),a(5686));const nn=i().lazy(()=>a.e(96).then(a.t.bind(a,5220,23))),rn=i().memo(({selectedSetting:e,isNotificationAssetsLoaded:t,isImmersive:a,updateToastMessage:n,successfulNotificationChange:o,loadNotificationSettingsAssets:s})=>{(0,r.useEffect)(()=>{t||s()},[s]);const l={liveNotifications:w.A.get("asv-lns-live-notifications"),liveNotificationsLabel:w.A.get("asv-lns-live-notifications-label"),allNotifications:w.A.get("asv-lns-all-notifications"),allNotificationsLabel:w.A.get("asv-lns-all-notifications-label"),allNotificationsToast:w.A.get("asv-lns-all-notifications-toast"),allNotificationsToastLabel:w.A.get("asv-lns-all-notifications-toast-label"),PersonalizedNotifications:w.A.get("asv-lns-Personalized-notifications"),PersonalizedNotificationsLabel:w.A.get("asv-lns-Personalized-notifications-label"),PersonalizedNotificationsToast:w.A.get("asv-lns-Personalized-notifications-toast"),PersonalizedNotificationsToastLabel:w.A.get("asv-lns-Personalized-notifications-toast-label"),noNotifications:w.A.get("asv-lns-no-notifications"),noNotificationsLabel:w.A.get("asv-lns-no-notifications-label"),noNotificationsToast:w.A.get("asv-lns-no-notifications-toast"),noNotificationsToastLabel:w.A.get("asv-lns-no-notifications-toast-label"),unfollowToast:w.A.get("asv-lns-unfollow-toast"),unfollowToastLabel:w.A.get("asv-lns-unfollow-toast-label"),popOver:w.A.get("asv-lns-pop-over"),popOverLabel:w.A.get("asv-lns-pop-over-label")},c={[u.wL.PersonalIZED_NOTIFICATIONS]:{toast:l.PersonalizedNotificationsToast,label:l.PersonalizedNotificationsToastLabel},[u.wL.ALL_NOTIFICATIONS]:{toast:l.allNotificationsToast,label:l.allNotificationsToastLabel},[u.wL.NO_NOTIFICATIONS]:{toast:l.noNotificationsToast,label:l.noNotificationsToastLabel},[u.wL.UNFOLLOW]:{toast:l.noNotificationsToast,label:l.noNotificationsToastLabel}};return i().createElement(te.RenderIf,{validate:t},i().createElement(r.Suspense,{fallback:i().createElement("div",null,"Loading...")},i().createElement(nn,{stringConstants:l,onChange:e=>{o(e),n({toastMessage:c[e].toast,toastMessageLabel:c[e].label})},selectedKey:e,isImmersive:!!a})))});rn.displayName="NotificationSettingsContainer";const on=(0,l.Ng)(e=>({selectedSetting:(0,an.v_)(e),isNotificationAssetsLoaded:(0,an.Uq)(e)}),e=>(0,c.zH)({updateToastMessage:Qa.Y,successfulNotificationChange:It.kd,loadNotificationSettingsAssets:It.GJ},e))(rn);on.displayName="NotificationSettingsWidget";var sn=on,ln="_2AJRgH7N6q8j19ShXcOxAc",cn="_1YRBeiYA5KfFwBgYBt98-x",dn="_3xaDuZBDrjyM22axFQWuIt",un=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};const pn=i().memo(({followEntityId:e,followEntityType:t,broadcastId:a,hideFollow:n,hideTooltip:o,color:s,followAssetsLoaded:l,isFollowing:c,shouldShowNotificationSettings:d,isImmersive:m,updateFollowAssetsLoaded:y,successfulFollow:g,successfulUnfollow:f,updateToastMessage:A,language:E,collapseIfUnfollowable:v=!1})=>{const T=(0,J.Gh)(J.D$.followV3Migration)===J.T1;(0,r.useEffect)(()=>{if(l)return;un(void 0,void 0,void 0,function*(){try{T?(0,p.rd)("follow"):yield(0,te.loadJSFile)("https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button_v2.js",{defer:!0}),y(!0)}catch(e){y(!1)}})},[l,T,y]);const h=N.A.get();return e&&t&&!n?i().createElement("div",{className:de()(ln,v&&dn)},i().createElement(Xa(),{entityId:e,entityType:t,broadcastId:a,hideTooltip:!!o,assetsLoaded:l,followClassName:de()({"amazon-follow-v3":T,"amazon-follow":!T}),csrfToken:h,onLoad:()=>{(0,Z.pl)("AmazonLiveFollowButtonLoaded")},successfulFollowCallback:()=>{g(),d&&A({toastMessage:w.A.get("asv-lns-Personalized-notifications-toast"),toastMessageLabel:w.A.get("asv-lns-Personalized-notifications-toast-label")})},successfulUnfollowCallback:()=>{f(),d&&A({toastMessage:w.A.get("asv-lns-unfollow-toast"),toastMessageLabel:w.A.get("asv-lns-unfollow-toast-label"),type:u.Ck.UNFOLLOW})},color:s,language:E}),i().createElement(te.RenderIf,{validate:!!c&&!!d},i().createElement("div",{className:cn,"data-id":"notificationSettingsContainer"},i().createElement(sn,{isImmersive:!!m})))):null});pn.displayName="FollowContainer";const mn=(0,l.Ng)(e=>({followEntityId:(0,tn.Wp)(e),followEntityType:(0,tn.Tw)(e),broadcastId:(0,s.ZG)(e),followAssetsLoaded:(0,tn.UT)(e),isFollowing:(0,tn.xW)(e),language:h.A.get(h.A.Keys.Locale)}),e=>(0,c.zH)({updateFollowAssetsLoaded:en.OI,successfulFollow:en.MU,successfulUnfollow:en.B,updateToastMessage:Qa.Y},e))(pn);mn.displayName="FollowWidget";var yn=mn,gn=a(6926),fn=a(674),An="_1Rfg_N-7xXVIYIa4V5kVEW",En="JlQjgd9QQIFO1xCtJVXX9",vn="_13ssDUKSE_ZwxYAOcc6_2u",Tn="_2VdiGZZH97rDz7JLQaDa-h",hn="_2wGFdMGxAkYZ19tIy-lC0I",Sn="_2RjZYeH9mpfU15uTqoHZlu",bn="_374Rppu-Ioah-_RJKIJXNc",In="_1tbKdr8nM2QTJpXrw8jrr3";a(4708);var Pn=i().memo(({reactionData:e,onStarClick:t})=>{const[a,n]=(0,r.useState)({localEvents:[],remoteEventsToRender:[],localEventsToRender:[]}),o=(0,r.useCallback)(()=>{t();const e=Date.now()+5e3,r={localEvents:[...a.localEvents],remoteEventsToRender:a.remoteEventsToRender,localEventsToRender:[e]};r.localEvents.push(e),n(r)},[a]);(0,r.useEffect)(()=>{if(e&&e.length>0){const{updatedLocalEvents:t,updatedRemoteEvents:r}=((e,t)=>{const a=Date.now();let n=e.filter(e=>e&&e>a),r=Array.from(t);return n.length>=r.length?(n.splice(0,r.length),r=[]):(r.slice(0,n.length),n=[]),{updatedLocalEvents:n,updatedRemoteEvents:r}})(a.localEvents,e);n({localEvents:t,remoteEventsToRender:r,localEventsToRender:a.localEventsToRender})}},[e]);const s={zIndex:le.styleConstants.overlayZLevels[8],marginRight:`-${le.styleConstants.overlayPadding}`};return i().createElement(i().Fragment,null,i().createElement("div",{className:Sn},i().createElement(fn.AlwaysEmitStarsContainer,{panelOpacity:.7,numberOfStars:10,starSize:"15px"}),i().createElement(fn.ReactionContainer,{reactions:a.remoteEventsToRender,particlesPerReaction:1,panelOpacity:.8}),i().createElement(fn.ReactionContainer,{reactions:a.localEventsToRender,particlesPerReaction:1,animationDelay:0,poolSize:15})),i().createElement("div",{className:bn,style:s},i().createElement("div",{className:In},i().createElement("div",{className:Tn},i().createElement(fn.InteractiveStar,{onButtonClick:o})))))});const _n=i().memo(({className:e,events:t,status:a,onStarClick:n})=>{if(a!==u.uj.LIVE)return null;if(!(0,Zt.yC)())return null;const o={zIndex:le.styleConstants.overlayZLevels[8],marginRight:`-${le.styleConstants.overlayPadding}`},s=(0,r.useMemo)(()=>(e=>e.map(e=>new Date(e.timestamp).getTime()).filter(e=>e&&e>0))(t),[t]);return i().createElement("div",{className:de()(le.styleConstants.persistentClass,An,e),style:o},i().createElement(Pn,{reactionData:s,onStarClick:n}))});_n.displayName="ReactionsPanel";const Cn=(0,l.Ng)(({reactionData:{events:e},broadcast:{status:t}})=>({events:e,status:t}),e=>(0,c.zH)({onStarClick:gn.SR},e))(_n);Cn.displayName="ReactionsPanelContainer";var wn=Cn,On=a(1147),Ln=a(2793),Nn=a(8670);const Rn=i().memo(({children:e,promoText:t,promoId:a,status:n,displayType:i,promoCodePercentageOff:o,promoCodeTextClicked:s,promoCodeInView:l,promotionsPromoId:c,promotionsPercentageOff:d,promotionsEnabled:p,isCreatorWallet:g})=>{const f=(0,Je.Y)(),A=(0,r.useMemo)(()=>({onClaimDealClick:s,onInView:l}),[s,l]),E=c||a,v=d?`${d}%`:o,T=d?(0,Ln.U)(d,g):t,h=p&&!i?u.as.MESSAGE:i,S={live:w.A.get("amazon-live-promo-code-live"),deal:w.A.get("amazon-live-promo-code-deal"),dealClaimed:w.A.get("amazon-live-promo-code-deal-claimed"),learnMore:w.A.get("amazon-live-promo-code-learn-more"),claimButtonText:w.A.get("amazon-live-promo-code-claim-button-text"),signInButtonText:w.A.get("amazon-live-promo-code-sign-in-button-text"),promoTextPrefix:w.A.get("amazon-live-promo-code-prefix"),claimSuccessText:(b=v,b?w.A.get("amazon-live-promo-code-claim-success").replace("${percentage}",b):""),claimNetworkErrorText:w.A.get("amazon-live-promo-code-claim-network-error"),claimGeneralErrorText:w.A.get("amazon-live-promo-code-claim-general-error")};var b;const I={label:w.A.get("asv-how-to-redeem-label"),titleText:w.A.get("asv-how-to-redeem-title"),instructionsText:w.A.get("asv-how-to-redeem-sop"),descriptionText:w.A.get("asv-how-to-redeem-description")},P=((e,t)=>`${(0,Nn.I)(e)}/promotion/details/${t}`)(!!y.A.get(m.m.Embedded),E),_=(0,J.Dg)();return e((0,r.useMemo)(()=>({promoText:T,promoId:E,status:n,displayType:h,customerId:f,callbacks:A,stringConstants:S,legalTermUrl:P,promotionsEnabled:p,howToRedeemStrings:I,isCreatorWallet:g,asvRebrandEnabled:_}),[T,E,n,h,f,A,S,P,p,I,g,_]))}),Dn=(0,l.Ng)(e=>({promoText:(0,gt.rL)(e),promoId:(0,gt.aC)(e),status:(0,gt.iG)(e),displayType:(0,gt.UH)(e),promoCodePercentageOff:(0,gt.et)(e),promotionsPromoId:(0,ft.Hc)(e),promotionsPercentageOff:(0,ft.uc)(e),promotionsEnabled:(0,ft.mc)(e)}),e=>(0,c.zH)({promoCodeTextClicked:On.R7,promoCodeInView:On.F1},e))(Rn);Dn.displayName="PromoCodeProviderContainer";var kn=Dn,Mn="_3cFszNtO3bIN9la_2yUfFc",xn="_1sflrMu5BCrY8eDK1_QeeY",Bn="_330IzUYFOtQOILZvkYp_Iz",Vn=a(9181),jn=a.n(Vn);const Fn=i().memo(({className:e,onLinkClick:t,linkText:a,linkUrl:n,featureGroup:r,fontSize:o})=>{let s=y.A.get(m.m.Title);const l=y.A.get(m.m.IsDetailPage),c=y.A.get(m.m.IsGatewayMobile),d="AmazonStores"===(0,te.getPageType)();return l&&(s=r===u.vp.THIRD_PARTY?w.A.get("amazon-live-brand-title"):w.A.get("amazon-live-detailpage-default-title")),s?i().createElement(jn(),{titleText:s,linkText:a,linkUrl:n,fontSize:o,className:de()(e,{bucket:l}),onLinkClick:t,isGatewayMobile:c,isAmazonStoresPage:d}):null}),Un=(0,l.Ng)(()=>e=>({featureGroup:(0,Qe.bT)(e)}),e=>(0,c.zH)({onLinkClick:be.Zt},e))(Fn);Un.displayName="TitleWidget";var zn=Un;let Gn=!1;const $n=i().lazy(()=>Promise.all([a.e(96),a.e(555)]).then(a.bind(a,6694))),Wn=i().memo(e=>{const{expanded:t,enableTitleLink:a,upNextLazyLoadStarted:n,showScrollBar:o,disableNavToAL:s}=e;return(0,r.useEffect)(()=>{t&&!Gn&&(n(),Gn=!0)},[t]),i().createElement(r.Suspense,{fallback:i().createElement("div",null,"Loading...")},t&&i().createElement($n,{enableTitleLink:a,showScrollBar:o,disableNavToAL:s}))}),Hn=(0,l.Ng)(e=>({expanded:(0,et.IT)(e)}),e=>(0,c.zH)({upNextLazyLoadStarted:Ca.i0},e))(Wn);Hn.displayName="LazyUpNextContainer";var Jn=Hn,Kn=a(4653),Yn=a(6216);const qn=e=>e.time,Zn=({isSocialAds:e,isImmersiveEnabled:t,broadcastStatus:a,expanded:n})=>(0,J.$v)(J.D$.mobileOverlayUpdate,!0)?le.UnifiedOverlay:e?le.MobileSocialAdOverlayTemplate:t&&(["LIVE","VOD"].includes(a)||n)?n?le.MobileImmersiveOverlayTemplate:le.MobileAd414x125OverlayTemplate:le.MobileAllOverlayTemplate;var Xn=a(3128);const Qn=e=>(0,Xn.S)(e),er=(e,t,a,n)=>(()=>{const e=y.A.get(m.m.EnableContentLevelInstrumentationOSA);return y.A.isValidWidgetOption(e,e=>"boolean"==typeof e)?e&&(0,J.Gh)(J.D$.OSAInstrumentation)===J.T1:m.s[m.m.EnableContentLevelInstrumentationOSA]})()?(0,Xn.i)({contentId:L.A.get(L.A.Keys.PlacementId),slotId:L.A.get(L.A.Keys.AdSlotName),painter:e,type:u.fT.WIDGET,channel:t,title:a,contentForm:n}):{};var tr=a(3295),ar="_3bGP-XStKluF27vSBNdQ5b",nr="_2mIDcVkMxnAiq0Zi70FOne";const rr=()=>{const e=(0,bt.vS)(),t=(0,bt.xM)(),a=!!y.A.get(m.m.EnableSeeMoreFooterDarkText);return i().createElement("div",{className:ar,"data-id":"SeeMoreFooter"},i().createElement("a",{className:de()({[nr]:a}),href:t},e))};rr.displayName="SeeMoreFooter";var ir=a(9706),or=a(4741),sr=a(6329),lr=a(3516),cr=a(4210),dr=a(1561),ur=a(4144),pr=a(9133);const mr=e=>e!==u.uj.LIVE,yr=e=>e===u.uj.LIVE,gr=()=>{const e=(0,pr.XC)(),t=h.A.get(h.A.Keys.MarketplaceId),a=(0,We.kh)(t);return`${(0,We.yk)(a,e)}/vap/ew/subcomponent/votes`};var fr=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};const Ar=i().memo(({children:e,broadcastStatus:t,broadcastId:a,onVoteButtonClicked:n,onVoteButtonLoad:i,appsyncReactionCounts:o})=>{const[s,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[p,m]=(0,r.useState)(dr.PO),[y,g]=(0,r.useState)(0),[f,A]=(0,r.useState)([]),E=(0,r.useRef)(new sr.g(F.A,Z.oY)),[v,T]=(0,r.useState)(!1),[S,b]=(0,r.useState)(0),[I,P]=(0,r.useState)(0),_=t===u.uj.LIVE,[C,w]=(0,r.useState)(!1),O=(0,J.Gh)(J.D$.interactiveCountsContract)===J.T1,N=h.A.get(h.A.Keys.MarketplaceId),R=N===We.$0,D=(0,We.kh)(N),k=(0,or.A)(e=>fr(void 0,void 0,void 0,function*(){yield E.current.updateVoteRemote(a,gr(),e,L.A.get(L.A.Keys.SessionId),lr.rJ).catch(e=>{F.A.error("Error during debouncedVoteUpdate",e)})}),500),M=(e,t)=>{A(a=>{return[...a,{floatingHeartId:(n=e%2,"floating-heart"+Math.ceil(Math.random()*Date.now()).toString()+n.toString()),isBackground:t,animationCompleted:!1}];var n})},x=e=>{A(t=>t.map(t=>t.floatingHeartId===e?Object.assign(Object.assign({},t),{animationCompleted:!0}):t))};function B(){return fr(this,void 0,void 0,function*(){try{if(O){const e=yield fr(void 0,void 0,void 0,function*(){return E.current.getVoteCountsAndStatus(a,gr(),L.A.get(L.A.Keys.SessionId),lr.rJ)});m(e.positive),l(e.status===lr.xl.Positive)}else{const[e,t]=yield fr(void 0,void 0,void 0,function*(){return Promise.all([E.current.getVoteType(a,gr(),L.A.get(L.A.Keys.SessionId),lr.rJ),E.current.getVoteCounts(a,gr(),L.A.get(L.A.Keys.SessionId),lr.rJ)])});m(t.positive),l(e===cr.Jd)}}catch(e){F.A.error("Error during initialLoadVote",e),Z.oY.addCount(lr.Cb.VOTE_BUTTON.loadVoteStatusError)}})}(0,r.useEffect)(()=>{const e=setTimeout(()=>{S>0&&E.current.updateVoteCount(a,S,(0,pr.XC)(),u.kL.AL,D).then(e=>{e?(n({eventTriggerType:ur.d.HelpfulVoteClickToVote,count:S}),b(0)):Z.oY.addCount(lr.Cb.VOTE_BUTTON.updateVoteError,1)})},500);return()=>clearTimeout(e)},[S]),(0,r.useEffect)(()=>{_&&c&&!R&&(k(cr.Jd),l(!0))},[c]),(0,r.useEffect)(()=>{if(o===dr.V3)return w(!1),void setTimeout(()=>{m(0)});if(o!==dr.oc){if(o>=0&&o>p){w(!1);!C&&P(o-p>38?38:o-p),m(o)}}else w(!0)},[o]),(0,r.useEffect)(()=>{const e=setTimeout(()=>{I&&(M(I,!0),P(e=>e-1))},100);return()=>clearTimeout(e)},[I]);const V=()=>{l(e=>!e),s?(n({eventTriggerType:ur.d.HelpfulVoteClickToUnVote,count:-1}),T(!1),m(e=>e-1),k(cr.dt)):(n({eventTriggerType:ur.d.HelpfulVoteClickToVote,count:1}),T(!0),m(e=>e+1),k(cr.Jd))},j=()=>{o!==dr.PO&&(m(e=>e+1),b(e=>e+1)),g(y+1),d(!0),M(y,!1)};(0,r.useEffect)(()=>{T(!1),w(!0),A([]),t&&a&&(m(o),t===u.uj.VOD&&B())},[t,a]),(0,r.useEffect)(()=>{i()},[a]);return e((0,r.useMemo)(()=>({selected:v,voteStatus:_?null:s,onPressHandler:_?j:V,enablePulsingAnimation:mr(t),enableFloatingAnimation:yr(t),displayCount:p,floatingHearts:_?f:[],onAnimationComplete:x}),[s,p,t,a,f]))}),Er=(0,l.Ng)(e=>({broadcastStatus:(0,s.at)(e),broadcastId:(0,s.ZG)(e)}),e=>(0,c.zH)({onVoteButtonClicked:gn.K$,onVoteButtonLoad:gn.nU},e))(Ar);Er.displayName="ReactionsProviderContainer";var vr=Er,Tr="_3f40C3NAUBxcVYhyTOwaTv",hr="_2XOoPQFTKaujcWWiva6Tov",Sr="_2VJJh2-WfIQuRG-KlDiC4Z",br="_2X2tHZ1iq16nywYEi9JZlb",Ir="_3WHo8ybkSXq4KErf4RAoDj";const Pr=i().lazy(()=>a.e(96).then(a.t.bind(a,7693,23))),_r=i().memo(({className:e,isDesktop:t,selected:a,voteStatus:n,onPressHandler:o,enablePulsingAnimation:s,onAnimationComplete:l,enableFloatingAnimation:c,displayCount:d,floatingHearts:u,title:p,channel:m,broadcastStatus:y,broadcastId:g})=>i().createElement("div",{className:de()(e),"data-csa-c-action":"like","data-csa-c-type":"action","data-csa-c-item-id":g,"data-csa-c-channel":m,"data-csa-c-title":p,"data-csa-c-content-form":y},i().createElement(r.Suspense,{fallback:i().createElement("div",{className:de()(Ir)})},i().createElement(Pr,{enablePulsingAnimation:s,enableFloatingAnimation:c,selected:a,voteStatus:n,onPressHandler:o,displayCount:d,floatingHearts:u,isDesktop:t,onAnimationComplete:l,accessibleLabel:((e,t)=>{let a;return a=1===t?e?w.A.get("amazon-live-single-reaction-reacted-label"):w.A.get("amazon-live-single-reaction-nonreacted-label"):e?w.A.get("amazon-live-multiple-reactions-react-label"):w.A.get("amazon-live-multiple-reactions-nonreacted-label"),a.replace("${displayCount}",(t||0).toString())})(n,d)}))));_r.displayName="ReactionsContainer";var Cr=_r,wr=a(3501),Or=a(5904),Lr=a(7931),Nr=a(2302),Rr={toastMessageContainer:"_12MAoRaeqS8_1eBJ8n7jY3",mobile:"_1VNI_PlY9VHF95LzaxOCNk",toastContents:"_2qhMxHbM-17xW7PeVrv59E",toastMessageBox:"yStW3_50_XZBjSfUjGk5u",toastMessageText:"_3BvI0O7XU85iKl_IPFPzuJ",unfollowEmoji:"_1VQGB14ryWfa4RHRCHj98L",waving:"_398m70iE2-usuKea0Irlv7","wave-animation":"_3FvHIPky57GlgNMQEh_4YT",crying:"_1Ap_5HXKI9D6uGUZYFCfgA","cry-animation":"_1I2dqfzN4yQItRjpb4fyyf"};const Dr=i().memo(({className:e,toast:t,toastLabel:a,type:n,timeout:o=4e3,updateToastMessage:s})=>{const[l,c]=(0,r.useState)(!1),d=()=>{s({toastMessage:void 0,toastMessageLabel:void 0,type:void 0})};(0,r.useEffect)(()=>{if(t){c(!0);const e=setTimeout(()=>{c(!1),d()},o);return()=>{clearTimeout(e)}}return Nr.A},[t]);const p=(0,Or.w)({onTriggered:()=>{c(!1),d()}}),m=n===u.Ck.UNFOLLOW;return i().createElement("div",{className:de()(e,le.styleConstants.persistentClass,Rr.toastMessageContainer,{[Rr.unfollowToast]:m,[Rr.error]:n===u.Ck.ERROR,[Rr.warn]:n===u.Ck.WARNING,[Rr.mobile]:(0,lt.Fr)()}),role:"status"},t&&l&&i().createElement("div",{className:Rr.toastContents},i().createElement("div",{"aria-label":a,className:Rr.toastMessageBox,ref:p},i().createElement("div",{className:Rr.toastMessageText},t)),m&&i().createElement("div",{className:Rr.unfollowEmoji},i().createElement("span",{className:Rr.waving,role:"img","aria-label":"unfollow waving emoji"},"ð"),i().createElement("span",{className:Rr.crying,role:"img","aria-label":"unfollow crying emoji"},"ð¢"))))}),kr=(0,l.Ng)(e=>({toast:(0,Lr.hP)(e),toastLabel:(0,Lr.zc)(e),type:(0,Lr.yC)(e)}),e=>(0,c.zH)({updateToastMessage:Qa.Y},e))(Dr);kr.displayName="ToastMessageOverlay";var Mr=kr;var xr=({showMutePrompt:e,setShowMutePrompt:t,setMuted:a,mutePromptRef:n})=>e?i().createElement("div",{role:"dialog","aria-labelledby":"mutePromptTitle",className:ra.srOnly},i().createElement("p",{id:"mutePromptTitle",ref:n,tabIndex:-1},w.A.get("amazon-live-accessibility-chat-tab-announcement")),i().createElement("button",{type:"button",onClick:()=>{a(!0),t(!1)},tabIndex:-1},w.A.get("amazon-live-accessibility-chat-mute-livestream")),i().createElement("button",{type:"button",onClick:()=>{a(!1),t(!1)},tabIndex:-1},w.A.get("amazon-live-accessibility-chat-keep-livestream-on"))):null;const Br=i().memo(({className:e,hasSponsoredProducts:t})=>{const a=h.A.get(h.A.Keys.MarketplaceId)===We.$1,{feeDisclosureText:n,feeDisclosureUrl:r}=(0,at.wt)(t,a);return t?i().createElement("span",{className:e},n):i().createElement("a",{href:r,target:"_blank",rel:"noreferrer noopener","aria-label":n,className:e},n)});Br.displayName="InfluencerDisclosureLink";var Vr=a(1522),jr=a.n(Vr),Fr="_1jqHtXiVNV17LLtirs0wBZ",Ur="FPAcbc_JBwvIyiknfYA6A",zr="_1VKRXzyhrYIfdau0oUSnBG",Gr="_2ak58FYzpibAn-oHRlqf2T",$r="_2TFxtgt1iovz_gKk5o0uMA",Wr="_20IB4nsYEXIlKMnYGS1RyR",Hr="aUsXpR7N1pelKRpKx2PHa";const Jr=i().memo(({broadcastTitle:e,channelName:t,isFeeDisclosureEnabled:a,disableChannelNav:n})=>{const o="vertical"===(0,l.d4)(s.CD),c=(0,l.d4)(s.Kz),d=(()=>{const e=(0,l.d4)(s.at),t=(0,l.d4)(Qe.z$),a=(0,l.d4)(s.RO);return(0,r.useMemo)(()=>rt(e,a,t),[e,a,t])})();return i().createElement("div",{className:de()(Fr,{[Gr]:o}),"data-id":"overlayDetails"},i().createElement("div",{className:zr,"data-id":"channelInfo"},i().createElement(Ha,{className:$r,refText:"al_desktop_ssw_overlay",disableChannelNav:n},i().createElement("span",null,t)),a&&i().createElement(Br,{className:Hr,hasSponsoredProducts:c})),!o&&i().createElement(jr(),{className:Wr,"data-id":"broadcastTitle"},e),d&&i().createElement("div",{className:Ur,"data-id":"messaging"},d))});Jr.displayName="PlayerOverlayDetails";var Kr=Jr,Yr=a(8674),qr=a.n(Yr),Zr=a(3538),Xr={white:"#fff",white100:"#f3f3f3",white300:"#eae6e6",black:"#000",blue100:"#d4e1ee",blue300:"#c8f3fa",blue500:"#647991",blue700:"#3c4a59",blue800:"#1e262e",blue900:"#1c2229",lightestGray:"#fafafa",gray200:"#e8e8e8",gray900:"#242f3e",silver:"#c1c1c1",smileOrange:"#ff6200",offWhite:"#cecece",transcriptNoData:"_1D-JqfViz6sveenyQaevL_",transcriptContainer:"_2MUZYdPvCm_x3gcJTL3OJX",segmentTimestamp:"gQG-NWTWGa-mWATQsiH9G"};const Qr=({transcriptData:e})=>{const t=(0,l.d4)(Be.X);return e&&e.length?i().createElement("div",{"data-id":"transcriptContainer",className:Xr.transcriptContainer},e.map(e=>{const{startTime:a,text:n}=e,r=(0,te.getFormattedTimestamp)((0,ka.g)(a,t));return i().createElement(i().Fragment,{key:`transcriptSegment-${a}`},i().createElement("span",{className:Xr.segmentTimestamp},r),i().createElement("span",{className:Xr.segmentText},n))})):i().createElement("div",{"data-id":"transcriptNoData",className:Xr.transcriptNoData},i().createElement("p",null,"Transcript is not available at this time."))};Qr.displayName="Transcript";var ei=Qr,ti={bottomSheet:"_3woTmwWZUgusfNrieUT7X7",transcriptContainer:"_3_RaGMTuDQpZYXJ-85Ly0R"};const ai=i().memo((0,l.Ng)(null,e=>(0,c.zH)({bottomSheetOptionClicked:Da.lY},e))(({isOpen:e,setIsOpen:t,bottomSheetOptionClicked:a})=>{const n=(0,l.d4)(e=>e.transcript||{segments:[],language:"en"},(e,t)=>e===t),o=(0,l.d4)(Kn.J),s=(0,r.useRef)(null),c=()=>(0,Zr.A)(s,"current.style.display","none"),d=()=>(t(!1),(0,Zr.A)(s,"current.style.display","unset"),null),u={};return o&&(u.transcript={id:"transcript",label:w.A.get("show-transcript"),title:w.A.get("transcript"),renderComponent:d,onClick:()=>a("transcript")}),i().createElement(i().Fragment,null,i().createElement(qr(),{isOpen:e,onClose:()=>{c(),t(!1)},menuData:u,title:w.A.get("more-options"),className:ti.bottomSheet}),o&&i().createElement("div",{ref:s,className:ti.transcriptContainer},i().createElement(qr(),{isOpen:!0,onClose:c,className:ti.bottomSheet,title:u.transcript.title},i().createElement(ei,{transcriptData:n.segments}))),o&&i().createElement("div",{className:ti.seoTranscript,style:{display:"none"}},i().createElement("h2",null,"Video Transcript"),n.segments.length>0?n.segments.map((e,t)=>i().createElement("p",{key:`${t}-${e.startTime}-${e.endTime}`},e.text)):i().createElement("p",null,"Loading transcript...")))}));ai.displayName="BottomSheet";var ni=ai;let ri=!1;const ii=e=>e===J.T1||e===J.T2?"auto":"288px",oi=e=>{const{expanded:t,broadcastId:a,videoSource:n,channel:o,creatorLogoImageUrl:c,pageRedirectUrl:d,chatDisplayed:g,immersiveTabClicked:f,creatorImageClicked:A,moreOptionsClicked:E,earnsCommissions:v,broadcastStatus:T,promoCodeId:S,promotionsEnabled:b,widgetUnexpanded:I,expandWidget:P,expandButtonClicked:_,changeBroadcastOrigin:C,changeBroadcast:O,saveInitialBroadcastScrollPosition:N,nativeLoaded:R,playerTimeUpdated:D,changeBroadcastBasedOnPageTypeNativePlayer:M,setCatamaranEnabled:x,catamaranEnabled:B,videoOrientation:V,interactiveCounts:j,title:F,broadcastUrl:U,slateImageUrl:z,isPreviouslyLive:G,setMuted:$,isLoading:W}=e,H=!!y.A.get(m.m.EnableExpandablePlayer)||!!y.A.get(m.m.EnableMobileImmersiveView),K=y.A.get(m.m.TitleFontSize)||"",Y=t&&(0,Na.i)(),q=y.A.get(m.m.Title),Z=h.A.get(h.A.Keys.MarketplaceId),X=i().createRef(),Q=i().createRef(),ee=i().createRef(),[ne,re]=(0,r.useState)(!1),[ie,oe]=(0,r.useState)(!1),[ce,ue]=(0,r.useState)(!1),[pe,me]=(0,r.useState)(!1),ye=(0,r.useRef)(null),ge=(0,l.d4)(s.Kz),Ae=(0,l.d4)(Kn.J),Ee=(0,r.useMemo)(()=>(0,J.Gh)(J.D$.mwebTranscripts)===J.T1&&(0,lt.Fr)()&&!(0,te.isMshop)()&&Ae,[Ae]),ve=(0,Zt.lM)(Z,!G),Te=!!y.A.get(m.m.ForceImmersiveView),he=y.A.get(m.m.Embedded),{widgetTheme:Se}=va(),be=Ea(k.Keys.WIDGET_PRIMARY_COLOR,pa);(0,r.useEffect)(()=>(Te&&P(),(0,p.$o)(u.TW.AMAZON_LIVE_INGRESS,P),()=>{(0,p.c9)(u.TW.AMAZON_LIVE_INGRESS,P)}),[]),(0,r.useEffect)(()=>{(0,p.wO)(e=>{const{isAmazonApp:t,android:a,ios:n}=e,r=(0,J.Gh)(J.D$.catamaranGateway)===J.T1,i=(0,J.Gh)(J.D$.catamaranDeals)===J.T1,o=(0,J.Gh)(J.D$.catamaranDetail)===J.T1,s=(0,J.Gh)(J.D$.catamaranCategory)===J.T1,l=(0,J.Gh)(J.D$.catamaranDestination)===J.T1,c=(0,J.Gh)(J.D$.catamaranAIP)===J.T1,d=(0,J.Gh)(J.D$.catamaranBrandStores)===J.T1,u=(0,J.Gh)(J.D$.anpAggressivePrewarming)===J.W3,g=(({isAmazonApp:e,catamaranGatewayWeblabEnabled:t,catamaranDealsWeblabEnabled:a,catamaranDetailWeblabEnabled:n,catamaranCategoryWeblabEnabled:r,catamaranDestinationWeblabEnabled:i,catamaranAIPWeblabEnabled:o,catamaranBrandStoresEnabled:s})=>e&&(t||a||n||r||i||o||s))({isAmazonApp:t,catamaranGatewayWeblabEnabled:r,catamaranDealsWeblabEnabled:i,catamaranDetailWeblabEnabled:o,catamaranCategoryWeblabEnabled:s,catamaranDestinationWeblabEnabled:l,catamaranAIPWeblabEnabled:c,catamaranBrandStoresEnabled:d});x(g);const f="liveDestination"!==((0,te.getPageType)()||L.A.get(L.A.Keys.PageType));oe(f);const A=a?J.D$.anpFederatedAndroid:J.D$.anpFederated,E=(0,J.Gh)(A,!1)!==J.W3,v=a?J.D$.anpASVHAndroid:J.D$.anpASVH,T=(({isAmazonApp:e,isFederated:t,amazonNativePlayerFederatedWeblabEnabled:a,amazonNativePlayerHomeWeblabEnabled:n})=>{const r=y.A.get(m.m.DisableANP),i=t&&a||!t&&n;if(y.A.get(m.m.Embedded)&&!r){const e=h.A.get(h.A.Keys.AppVersion);return!("string"!=typeof e||"NA"===e)&&i}return e&&!r&&i})({isAmazonApp:t,isFederated:f,amazonNativePlayerFederatedWeblabEnabled:E,amazonNativePlayerHomeWeblabEnabled:(0,J.Gh)(v,!1)!==J.W3});T&&u?(0,p.y3)({android:a,ios:n}):g&&((0,p.tc)({android:a,ios:n,broadcastUrl:U,slateImageUrl:z}),r&&ue((0,J.Gh)(J.D$.mShopGWPreload)===J.T1))}),(0,tr.n_)(u.TW.AMAZON_LIVE_CHANGE_BROADCAST,M,tr.D_),(0,tr.n_)(Yt.H.NativeLoaded,R,tr.D_),(0,tr.n_)(u.TW.PRODUCT_HIGHLIGHT_UPDATED,D,qn),(0,p.eh)(e=>{re(e)}),(0,p.GI)(e=>{var t,a;he&&!e&&(null===(a=null===(t=window.smash)||void 0===t?void 0:t.initialize)||void 0===a||a.call(t))})},[]);const Ie=(0,J.$v)(J.D$.carouselModularisation),Pe=!t&&(0,We.ZY)(Z)?J.T1:J.W3,_e=Ke()&&(void 0!==window.navigator.share||(0,te.isMshop)()||ne),Ce=t&&T===u.uj.LIVE&&(!!S||b),we=(0,r.useMemo)(()=>({isMobile:true,slideSize:t?"auto":ii(Pe),verticalCarousel:t,tileDirection:u.i7.ROW,gutterClassName:Ce?ra.topPadding:void 0,enablePromoCodePerAsin:t,scrollOverrideClassName:ra.scrollCarouselOverride}),[t,Ce]),[Oe,Le]=(0,r.useState)(t),[Ne,Re]=(0,r.useState)(t),Me=(0,Zt.G5)()&&!ve,[xe,Be]=(0,r.useState)(Yn.d.Products),Ve=t&&g;(0,r.useEffect)(()=>{Le(t&&xe!==Yn.d.Chat),Re(t&&xe!==Yn.d.Chat)},[t]),(0,r.useEffect)(()=>{Be(Yn.d.Products)},[a,t]),(0,r.useEffect)(()=>{Ve||Be(Yn.d.Products)},[Ve]);const je=y.A.get(m.m.UseGridCarousel),Fe=(0,r.useMemo)(()=>!t&&je,[t]);(0,r.useEffect)(()=>{je&&t&&$(!1)},[t]);const Ue=Boolean(Fe)&&(0,J.$v)(J.D$.gridCarouselAtcStepper),ze=Boolean(!y.A.get(m.m.DisableFeeDisclosure)&&v||ge),Ge=!t&&!!y.A.get(m.m.EnableChannelPageLink),$e=se.ProductCarouselV2,Je=String(y.A.get(m.m.ResizeMobileImmersiveView)||"").trim().toUpperCase(),Ye=Je===u.cp.SHRINK||!!y.A.get(m.m.ResizeIOSMobileImmersiveView),qe=Je===u.cp.PADDING&&ne,Ze=(e=>{const t=y.A.get(m.m.ChangeBroadcastAutoplay);return y.A.isValidWidgetOption(t,e=>"boolean"==typeof e)&&"mobileUnexpandButton"===e?t:m.s[m.m.ChangeBroadcastAutoplay]})(C),Qe=!t&&!!y.A.get(m.m.EnableSeeMoreFooter),{initialBroadcast:et}=(0,r.useContext)(Xe),{id:tt}=et,nt=(0,it.$_)(),rt=(0,ke.al)(a,void 0,n),ot=V===u.R_.VERTICAL,st=t&&ot,ct=!!Fe&&ot,dt=(0,r.useMemo)(()=>Zn({isSocialAds:!!Fe,isImmersiveEnabled:H,broadcastStatus:T,expanded:t}),[Fe,H,T,t]),pt=(0,J.Gh)(J.D$.creatorWalletFlagship)===J.T1,mt=y.A.get(m.m.IsGatewayMobile),yt=!Boolean(y.A.get(m.m.DenyPillarBoxing))&&ot,gt=(0,J.$v)(J.D$.feeDisclosureAndPriceDetailsUXUpdateExp),ft=!yt&&gt,At=(yt||ft)&&ze,{feeDisclosureText:Et,feeDisclosureUrl:vt}=(0,at.wt)(ge,Z===We.$1),Tt=(0,J.q3)(ne,ie),ht=(0,J.NT)(),St=!!y.A.get(m.m.DisableNavToAL),bt=We.Sn.has(Z)||St,It=(0,it.AW)({widgetUnexpanded:I,unexpandRestoreInitBroadcastEnabled:nt,changeBroadcast:O,initialBroadcastId:tt,enableRedirectOnExit:!0}),Pt=!t&&!ft,_t=!t&&ft,Ct=i().useMemo(()=>((e,t)=>(a={},n,r)=>{(0,He.X1)(a,{broadcastId:e,source:t,experience:(0,He.$e)()},()=>{n&&n()},()=>{r&&r()})})(a,n),[a,n]),Ot=(0,He.Mw)((0,He.$e)()),Lt=(0,it.TD)({saveInitialBroadcastScrollPosition:N,expandButtonClicked:_,redirectCallback:Ot?Ct:void 0}),Rt=(0,He.aN)(),kt=(0,r.useCallback)(e=>{Rt&&(0,He.X1)({},{broadcastId:a,source:n,experience:(0,He.$e)()},()=>{},()=>{});const t=e===Yn.d.Chat;e===Yn.d.Chat&&(me(!0),setTimeout(()=>{var e;null===(e=ye.current)||void 0===e||e.focus()},0)),Le(!t),Re(!t),Be(e),f(e),ri=ri||e===Yn.d.Chat},[a,n,Oe,Ne]),Mt=(0,r.useMemo)(()=>{if(Fe)return ot?3:2},[Fe,ot]),xt=dt===le.UnifiedOverlay,Bt=xt?[]:[i().createElement(fe,{key:0}),i().createElement(Mr,{key:1})],Vt=(0,r.useMemo)(()=>{if(!xt)return;const e=[];return H&&!t||e.push(i().createElement(Kr,{broadcastTitle:F,channelName:o,isFeeDisclosureEnabled:!1,disableChannelNav:bt})),At&&e.push(i().createElement(Br,{className:ra.disclosure,hasSponsoredProducts:ge})),e},[xt,H,t,At,F,o]),[jt,Ft]=(0,r.useState)(!1),Gt=(0,r.useCallback)(()=>{Ft(!0),E()},[]),Ht=i().createElement(Dt,null,i().createElement("div",Object.assign({className:de()(ra.playerContainer,{[ra.hasGridCarousel]:Fe}),ref:Q,id:Kt.EQ},(({loadCatamaran:e,playerOsaAciId:t,getItemLevelInstrumentation:a,channel:n,title:r,broadcastStatus:i})=>e?{}:Object.assign(Object.assign({},a({type:u.v6.ITEM,itemId:t,itemType:u.SP.LIVE_VIDEO,position:"1,1",channel:n,title:r,contentForm:i})),{key:t}))({loadCatamaran:!1,playerOsaAciId:rt,getItemLevelInstrumentation:Qn,channel:o,title:F,broadcastStatus:T})),i().createElement(De,{getRefObj:()=>Q,detectPlayerInViewImmediate:!1,executeWhenPlayerInView:{callback:p.Nu,delay:(0,wr.cD)("IN")?2e3:1e3}}),i().createElement(ir.m,{getRefObj:()=>ee}),i().createElement(Ra,{active:t},i().createElement(ut,null,e=>i().createElement(le.Player,Object.assign({ref:ee},e,{overlayEvents:Object.assign(Object.assign({},e.overlayEvents),{unexpandButtonClicked:It,expandButtonClicked:Lt}),overlayTemplate:dt,overlayChildren:Bt,autoplay:!0,shareButtonEnabled:_e,controls:!xt&&(H?t:e.controls),controlBarOptions:{fullscreenToggle:!1},pauseOutOfFocus:!0,changeBroadcastAutoplay:Ze,showPlayMuteButtons:!0,unmuteOnExpand:!(Fe&&ne||B||(0,We.dg)(Z)),preloadDistance:ce?200:void 0,broadcastStatus:T,showPillarBoxing:yt,showFeeDisclosureInPlayer:At,feeDisclosureText:Et,feeDisclosureUrl:vt,showLazyBlur:te.UserAgent.isIOS(),canvasDrawDelay:500,isFeeDisclosureUXUpdateExpEnabled:gt,verticalPlayer:ct,persistentOverlay:Boolean((Fe||xt&&H)&&!t),overlayDetails:Vt,isMobile:!0,expandEnabled:H,isExpanded:t,hideProgressBar:xt&&H&&!t}))))),i().createElement(te.RenderIf,{validate:ze&&!t&&ct},i().createElement(ha,{className:de()(ra.feeDisclosure,{[ra.hasGridCarousel]:!1,[ra.widgetTextTheme]:be})})));return i().createElement("div",{style:y.A.get(m.m.IsGatewayMobile)?{backgroundColor:"white",margin:"5px 0px"}:{}},i().createElement(Dt,null,i().createElement(Nt,{getRefObj:()=>X}),q&&i().createElement(zn,{className:de()(ra.title),fontSize:K}),i().createElement(Wt.ExpandableHistoryProvider,{expanded:t,expand:Lt,close:It}),i().createElement(Ut(),{expand:t,forceImmersive:Te,resizeImmersive:Ye,contentLevelInstrumentation:er(je?ae.t.MOBILE_GRID_CAROUSEL_PLAYER:ae.t.MOBILE_INLINE_SHOPPABLE_PLAYER,o,F,T)},i().createElement("div",{className:de()(ra.app,{[ra.mobileIspV2]:Pt,[ra.mobileIspWithUpdatedHeight]:_t,[ra.verticalVideoWidget]:yt,[ra.mobileImmersive]:t,[ra.mobileImmersiveVertical]:st,[ra.hasFeeDisclosure]:ze,[ra.bottomPadding]:qe,[ra.gatewayMobile]:mt,[ra.hasGridCarousel]:Fe}),ref:X},i().createElement(te.RenderIf,{validate:!ct&&(!W||t)},Fe?i().createElement("div",{className:ra.playerWrapper},Ht):Ht),i().createElement(te.RenderIf,{validate:ze&&!t&&!ft&&!yt},i().createElement(ha,{className:de()(ra.feeDisclosure,{[ra.hasGridCarousel]:Fe})})),i().createElement("div",{className:de()(ra.elementContainer,{[ra.elementContainerMultipleAsin]:Pe!==J.W3,[ra.elementContainerBg]:!t})},i().createElement(te.RenderIf,{validate:t},i().createElement("div",{className:ra.creatorInfoContainer},i().createElement(ba,{isFeeDisclosureEnabled:ze,channelTitle:o,creatorLogoImageUrl:c,pageRedirectUrl:bt?void 0:d,followButton:i().createElement(yn,{hideTooltip:!0,color:"gold",collapseIfUnfollowable:!0}),creatorImageTouchHandler:A},i().createElement(te.RenderIf,{validate:Ee},i().createElement("button",{type:"button",onClick:Gt,className:ra.threeDotMenu,"aria-label":w.A.get("more-options"),"data-id":"moreOptionsButton"},i().createElement(Jt(),null)))))),i().createElement(zt.TabsContainer,{showTabs:t,className:ra.tabContainer,onTabChangeCallback:kt,activeTabId:xe,activeTabColor:u.jl.ORANGE},i().createElement(zt.TabContent,{title:w.A.get("amazon-live-products"),id:Yn.d.Products},i().createElement("div",{className:de()(Pe===J.T1?ra.carouselContainerMultipleAsinT1:ra.carouselContainer,{[ra.flex]:Ce,[ra.hasATCEnabled]:ht,[ra.hasGridCarousel]:Fe,hasATCEnabled:ht}),"data-id":"Products"},Ce&&i().createElement(Dt,null,i().createElement(kn,{isCreatorWallet:pt},e=>i().createElement($t(),Object.assign({},e,{className:de()(Mn,{[xn]:pt})})))),i().createElement(Dt,null,i().createElement(wt,null,e=>i().createElement($e,Object.assign({},e,{getItemLevelInstrumentation:Qn,options:Object.assign(Object.assign({},e.options),we),isCreatorWallet:pt,title:F,channel:o,broadcastStatus:T,addToCartMode:Tt,carouselModularisationEnabled:Ie,multipleTileTreatment:Pe,isTrimmedPriceWithDiscountUXEnabled:gt,player:ct?Ht:null,numInitialProductsInView:Mt,isAddToCartStepperEnabled:Ue,percentClaimedText:w.A.get("percent-claimed-text")})))))),Ve&&i().createElement(zt.TabContent,{title:w.A.get("amazon-live-immersive-chat"),id:Yn.d.Chat},i().createElement(xr,{"data-testid":"chat-accessibility-settings",showMutePrompt:pe,setShowMutePrompt:me,setMuted:$,mutePromptRef:ye}),i().createElement(Dt,null,ri&&i().createElement($a,{className:ra.chatContainer,theme:Se}))),Y&&i().createElement(zt.TabContent,{title:w.A.get("amazon-live-watchmore"),id:Yn.d.WatchMore},i().createElement("div",{className:ra.broadcastCarouselContainer,"data-id":"WatchMore"},i().createElement(Dt,null,i().createElement(Jn,{enableTitleLink:!0,showScrollBar:!1,disableNavToAL:bt})))))),i().createElement(te.RenderIf,{validate:!Me&&Oe},i().createElement(wn,{key:1,className:de()(hn,ra.reactionsOverride)})),i().createElement(te.RenderIf,{validate:Me&&t},i().createElement(vr,{appsyncReactionCounts:j},e=>i().createElement(Cr,Object.assign({className:de()({[Tr]:Ne,[hr]:!Ne,[Sr]:Ne&&Te})},e,{title:F,channel:o,broadcastStatus:T,broadcastId:a})))),i().createElement(te.RenderIf,{validate:t&&Ee},i().createElement(ni,{isOpen:jt,setIsOpen:Ft})))),i().createElement(te.RenderIf,{validate:Qe},i().createElement(rr,null)),i().createElement(te.RenderIf,{validate:Ge},i().createElement(qa,{refText:"al_mobile_immersive_below_player",disableChannelNav:bt}))))};oi.displayName="MobileImmersiveLayout";const si=(0,l.Ng)(()=>{const e=ja();return t=>({expanded:(0,et.IT)(t),broadcastId:(0,s.ZG)(t),videoSource:(0,s.jN)(t),channel:(0,Qe.Cp)(t),creatorLogoImageUrl:(0,Qe.uI)(t),pageRedirectUrl:(0,Qe.FL)(t),chatDisplayed:e(t),broadcastStatus:(0,s.at)(t),promoCodeId:(0,gt.aC)(t),changeBroadcastOrigin:(0,s.W3)(t),promotionsEnabled:(0,ft.mc)(t),catamaranEnabled:(0,tt.uD)(t),isPreviouslyLive:(0,s.pS)(t),videoOrientation:(0,s.CD)(t),interactiveCounts:(0,qt.H)(t),title:(0,s.G9)(t),broadcastUrl:(0,s.f3)(t),slateImageUrl:(0,Qe._G)(t),earnsCommissions:(0,Qe.If)(t),isLoading:(0,A.Di)(t)})},e=>Object.assign(Object.assign({},(0,c.zH)(Da.Ay,e)),(0,c.zH)({widgetUnexpanded:f.$u,expandWidget:f.q8,changeBroadcast:f.YZ,saveInitialBroadcastScrollPosition:Fe.di,nativeLoaded:Ia.l,playerTimeUpdated:Ce.Zz,changeBroadcastBasedOnPageTypeNativePlayer:f.r6,setCatamaranEnabled:Ce.gF,expandButtonClicked:f.ST,setMuted:Ce.y5},e)))(oi);si.displayName="MobileImmersiveLayoutContainer";var li=si,ci=(a(7446),a(3637),a(2092),"xXvQjloQP6NrGV2SBiIqD"),di="_2YiqWNW1T295XNZPA8bSJC",ui="_3_21SSVUlI-yeJZFF83Gi3";const pi=i().lazy(()=>a.e(96).then(a.t.bind(a,7615,23))),mi=i().memo(({className:e,isSSWOverlay:t})=>{const a=i().createRef(),n=(0,te.useHalfView)(a),o={zIndex:le.styleConstants.overlayZLevels[8],marginLeft:`-${le.styleConstants.overlayPadding}`,marginRight:`-${le.styleConstants.overlayPadding}`},s=(0,J.Gh)(J.D$.creatorWalletFlagship)===J.T1;return i().createElement(kn,{isCreatorWallet:s},l=>{const{status:c,promotionsEnabled:d}=l;return c&&c!==u.WO.INACTIVE||d?i().createElement("div",{className:de()(le.styleConstants.persistentClass,e,{[ci]:!s,[di]:s,[ui]:t}),style:t?{}:o,ref:a},i().createElement(r.Suspense,{fallback:i().createElement("div",null,"Loading...")},i().createElement(pi,Object.assign({},l,{inView:n,isCreatorWallet:s})))):null})});mi.displayName="PinnedMessageOverlay";var yi=mi,gi="_2xeHYsvIuEjv6MFsYMkpdN",fi="_3KeSCG6sdKrI09xaOEChfY",Ai="_3_b-LyM8TVyol7NZ0d8NIL",Ei="_35yoS6ks1-w8YQp86G_WHj",vi="_2VFLJ3SJHqZQx7HpbZbU4Y",Ti="_2-LBvvWLwsvPu7ZMHBfXnU",hi="_1fn6we-i__0_P__eZ4O16X",Si="_3X521Zv3u4M6dQDIG3sWVL",bi="_1OvKVNELjN0bx_O1osHzGx",Ii="_1wv7zL-ZccWnkhBtV-bwiR",Pi="g1zJP1Ie4fsk2-WVMs2N8",_i="MKZKusqGvOdH9VvniTK4",Ci="_1TXcgwHc_X33jSi1u7r_O4",wi="_1_zdDhQy6oE6rlnH2KH4hq",Oi="_2XWocuj69LKhLu0X_P-CPc",Li="_1QRElJpmEveFP6rW8dPhPY",Ni="jq95a3Oomq48r8tkULY1O",Ri="_17IgNSEsxcqHX105ltW63c",Di="_1ViLYnZlpbmY3zdzVJ-OxC",ki="DW57w3h69nK4pMXcvbYhy",Mi="_2GWwpu50aqS0p3Zm6I0eX3",xi="_3eDWpT9_TLwjCC-Qd3Z3O_",Bi="_1MJlGzTtXrIB-w28WraIRL",Vi="_2Sn3CNA0qGfkz-MHSm8cn7",ji="_1VCPofkKvW694gu8_1Wrg3",Fi="joo8fDHeUvqNtc4KsaSAM",Ui="nhi4eH8nD-38W71D0ETcT",zi="QbhBlMOnTIIsJ59Hkl7ti",Gi="_1waVTgtSbuyfkex2uGXfkQ",$i="_8cSeONcQsFoKRabmdJ4WO",Wi="_2BZEx-m5puBQZ2fKB7pysi",Hi="_2i_7YU8zZWaNdBhGNn4EPB",Ji="_1mzXR_kK-7mxErVtHIgGWN",Ki="BglOiD2sDQzSblBtMGWbF",Yi="_3cvKR2ImFv9n6ScAAHNNlc",qi="_1a9t0UiDcLbHDVtXmHU2tn",Zi="_-0VSm63yJ3RD1gqPtvS-F",Xi="_3rjWVrvQlWX_y_eRMafBTB";const Qi=i().memo(({title:e,className:t,ariaLabel:a})=>i().createElement("div",{className:t,"aria-label":a},e));var eo=a(6582),to=(a(4256),a(117),a(2847)),ao=a.n(to),no=a(1971),ro=a.n(no),io=(a(230),a(8414));const oo=i().memo(({className:e})=>i().createElement("div",{className:e},w.A.get("amazon-live-influencer-fee-disclosure-tooltip-text"),"Â ",i().createElement("a",{href:w.A.get("amazon-live-influencer-fee-disclosure-url"),target:"_blank",rel:"noreferrer noopener"},w.A.get("amazon-live-influencer-fee-disclosure-tooltip-link-text"))));oo.displayName="ToolTipContent";var so=oo;const lo=i().memo(({id:e,className:t,onOpen:a,isUSMarketPlace:n})=>{const r=n?w.A.get("amazon-live-influencer-fee-revenue-disclosure-link-text"):w.A.get("amazon-live-influencer-fee-disclosure-link-text");return i().createElement("a",{className:t,onClick:a,onKeyDown:a,role:"button","aria-describedby":e,tabIndex:0},r)});lo.displayName="ToolTipOpener";var co=lo;const uo=i().memo(({hasSponsoredProducts:e,isUSMarketPlace:t})=>{const a=t?w.A.get("amazon-live-influencer-fee-revenue-disclosure-link-text"):w.A.get("amazon-live-influencer-fee-disclosure-link-text"),n=e?w.A.get("sponsored-product-label"):a;return i().createElement("span",null,n)});uo.displayName="ToolTipDisabled";var po=uo;const mo=i().memo(({className:e,tooltipClassName:t})=>{const a=(0,r.useMemo)(()=>(0,io.v4)(),[]),n=(0,l.d4)(Qe.bT),o=h.A.get(h.A.Keys.MarketplaceId)===We.$1,c=n===u.vp.THIRD_PARTY,d=Ea(k.Keys.WIDGET_PRIMARY_COLOR,pa),p=(0,l.d4)(s.Kz);return i().createElement("div",{className:de()(oa,e)},i().createElement("span",null,c||p?i().createElement(po,{hasSponsoredProducts:p,isUSMarketPlace:o}):i().createElement(ro(),{id:a,className:de()(la,t,{[ca]:!d}),offset:[2,20],placement:no.Placement.Top,text:i().createElement(so,null)},i().createElement(co,{id:a,isUSMarketPlace:o}))))});mo.displayName="DesktopShortFeeDisclosure";var yo=mo;const go=(0,l.Ng)(e=>({broadcastId:(0,s.ZG)(e),isVSE:(0,s.R2)(e),channelTitle:(0,Qe.Cp)(e),broadcastTitle:(0,s.G9)(e),slateImageUrl:(0,Qe._G)(e)}),e=>(0,c.zH)({onShareButtonClick:Me.k1,onCopyButtonClick:Me.og,onShareIconMouseOver:Me.Sw,onShareIconClick:Me.Sw},e))(e=>{const{children:t,broadcastId:a,onShareButtonClick:n,onCopyButtonClick:i,onShareIconMouseOver:o,onShareIconClick:s,isVSE:l,broadcastTitle:c,channelTitle:d,slateImageUrl:u}=e,p=(0,r.useMemo)(()=>({onShareButtonClick:n,onCopyButtonClick:i,onShareIconMouseOver:o,onShareIconClick:s}),[n,i,o,s]),m=l?te.DESTINATION_SUB_PAGE_TYPE.VIDEO:te.DESTINATION_SUB_PAGE_TYPE.BROADCAST;return t((0,r.useMemo)(()=>({broadcastId:a,callbacks:p,theme:eo.ShareButtonTheme.DARK,poppupPosition:eo.ShareButtonPoppupPosition.TOP,shareButtonText:w.A.get("share-button-text"),copyButtonText:w.A.get("copy-button-text"),image:u,title:`${d}: ${c}`,shareUrl:(0,te.getDestinationPageURL)("",m,a),refId:te.AMAZON_LIVE_SOCIAL_SHARE_REF_MARKER}),[a,p,u,d,c,m]))});go.displayName="SocialShareProviderContainer";var fo=go,Ao="_2P7GZnAFOr8oYXbr7eq6LH",Eo="Su69OoaRp57Gg5qmSwBq7",vo="tdgxEH6lIYjl-cNbSK2MR",To="imMKO4xMTYhK9vr-W8lPi",ho="kXeevNF4txdk0bl8ItQHr",So="P45LzNRPgO-UY9QO1OpUN",bo="_3tDUo0ZeXR0w7Pr48T5489",Io="_15cTBOgk6ZlV8ajx-LgMJl",Po="_1wKoUCIjK15IitDx2P_06B",_o="_1MxMrfrOp35Duvygsv92rG",Co="_1_AdFqz7xfu6hmAKeSGhIy",wo="_1DrX-ONL9cx8XL0ewBFLy2",Oo="_19d59_iP2fh6PmObtkxZA_",Lo="oVhSzgSJd3TSkJWkYK5xr",No="_1KC0dq6JxankHQ9Mry74bE",Ro="_21WZueV7KiLDUIna1XH-Z1",Do="_12RpofqZRJNoF2FxWpkrm9",ko="_263cx9E92s0shXR3TV0oMt";const Mo=i().memo(({broadcastTitle:e,channelName:t,isFeeDisclosureEnabled:a,messaging:n,isReactionsEnabled:o,showPromoCodeV1:s,showPromoCodeV2:l,isShareButtonEnabled:c,isCreatorWallet:d,isHeartsReactionsEnabled:p,interactiveCounts:m,broadcastStatus:y,broadcastId:g,channelImage:f,shouldShowNotificationSettings:A,isImmersive:E,disableChannelNav:v})=>{const[T,h]=(0,r.useState)(!1),S=Ea(k.Keys.WIDGET_PRIMARY_COLOR,pa),b=(0,r.useMemo)(()=>{const e=(0,te.getPageType)(),t=(0,te.getPageId)();return(0,te.isASVHVideoDetailPage)(e,t)?Vr.Heading.H1:Vr.Heading.H2},[]);return i().createElement("div",{className:Eo,"data-id":"playerDetailBar"},i().createElement(te.RenderIf,{validate:s&&!l&&!d},i().createElement(yi,{className:Lo})),i().createElement(te.RenderIf,{validate:l&&!d},i().createElement(kn,null,e=>i().createElement(ao(),Object.assign({},e,{className:de()(Bn,No)})))),i().createElement("div",{className:ho},i().createElement("div",{className:Po},i().createElement("div",{className:Oo},i().createElement(jr(),{"data-id":"broadcastTitle",tag:b},e),n&&i().createElement("div",{className:de()(So,{[ko]:!S}),"data-id":"messaging"},n))),i().createElement("div",{className:_o},i().createElement(te.RenderIf,{validate:!!c},i().createElement(fo,null,e=>i().createElement(eo.ShareIconDesktop,Object.assign({},e,{className:Ao})))),i().createElement(te.RenderIf,{validate:!p&&!!o},i().createElement("div",{className:Do,"data-id":"reactions"},i().createElement(wn,{className:vn}))),i().createElement(te.RenderIf,{validate:!!p&&!o},i().createElement(vr,{appsyncReactionCounts:m},a=>i().createElement(Cr,Object.assign({},a,{className:de()(br),isDesktop:!0,channel:t,title:e,broadcastStatus:y,broadcastId:g})))))),i().createElement("div",{className:vo},i().createElement("div",{className:Co},i().createElement("div",{className:bo,"data-id":"channelInfo"},i().createElement(Ha,{refText:"al_desktop_flex_title_bar",disableChannelNav:v},i().createElement("img",{className:Io,src:T?u.sy:f,alt:t,onError:()=>h(!0)})),i().createElement("div",null,i().createElement("span",{className:wo},t),a&&i().createElement(yo,{className:To}))),i().createElement("div",{className:Ro,"data-id":"followButton"},i().createElement(yn,{hideTooltip:!0,color:"black",shouldShowNotificationSettings:A,isImmersive:E})))))});Mo.displayName="PlayerDetailBar";var xo=Mo;const Bo=i().memo(e=>{const{children:t,broadcastTitle:a,channelName:n,broadcastStatus:i,startTime:o,scheduledStartTime:s,hasPromoCode:l,expanded:c,hasPromotions:d,interactiveCounts:p,channelImage:g,isFeeDisclosureEnabled:f}=e,A=h.A.get(h.A.Keys.MarketplaceId),E=We.Sn.has(A)||!!y.A.get(m.m.DisableNavToAL),v=!c,T=i===u.uj.LIVE&&(0,Zt.yC)(),S=(l||d)&&!v,b=(l||d)&&!v,I=!!y.A.get(m.m.IsShareEnabled),P=(0,r.useMemo)(()=>rt(i,o,s),[i,o,s]);return t((0,r.useMemo)(()=>({broadcastTitle:a,channelName:n,channelImage:g,isFeeDisclosureEnabled:f,messaging:P,isReactionsEnabled:T,showPromoCodeV1:S,showPromoCodeV2:b,isShareButtonEnabled:I,interactiveCounts:p,disableChannelNav:E}),[a,n,g,f,P,T,S,b,I,p,E]))}),Vo=(0,l.Ng)(e=>({broadcastTitle:(0,s.G9)(e),channelName:(0,Qe.Cp)(e),channelImage:(0,Qe.uI)(e),startTime:(0,s.RO)(e),broadcastStatus:(0,s.at)(e),scheduledStartTime:(0,Qe.z$)(e),hasPromoCode:(0,gt.Np)(e),expanded:(0,et.IT)(e),hasPromotions:(0,ft.mc)(e),interactiveCounts:(0,qt.H)(e),isFeeDisclosureEnabled:Boolean(!y.A.get(m.m.DisableFeeDisclosure)&&(0,Qe.If)(e)||(0,s.Kz)(e))}))(Bo);Vo.displayName="PlayerDetailBarProviderContainer";var jo=Vo,Fo=a(1776);const Uo=()=>{const e=(0,l.d4)(et.IT),t=(0,l.d4)(tt.gB);return!e&&!t&&!!y.A.get(m.m.desktopPip)},zo=(e,t=!0)=>{const a=Uo(),[n,o]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),d=((e,t,a=.5)=>{const[n,o]=i().useState(null);return(0,r.useEffect)(()=>{if(!e.current||!t)return void(n&&o(!1));const r=new te.ImmediateViewportDetector(e.current,{threshold:a});return r.setCallbacks({inView:()=>{o(!0)},outOfView:()=>{o(!1)}}),r.register(),()=>{r.unregister()}},[e,t,a,n]),n})(e,t||!n,.7),u=i().useRef(null),p=(0,l.d4)(tt.bg),m=(0,l.d4)(et.IT),y=(0,l.wA)(),g=()=>c(!1),f=(0,r.useCallback)(()=>{g(),y((0,st.fk)()),null===window||void 0===window||window.scrollTo({top:0,behavior:"smooth"})},[e]),A=(0,r.useCallback)(()=>{!n&&a&&((0,J.$v)(J.D$.desktopPiP,!0),o(!0)),t&&c(!0)},[t,a,n]);return(0,r.useEffect)(()=>{null!==u.current&&null!==d&&(d||!p||m?d&&g():A()),u.current=d},[d]),(0,r.useEffect)(()=>{null!==u.current&&(s?y((0,st.P7)()):u.current&&y((0,st.W1)()))},[s]),[s,()=>{y((0,st.iu)()),g()},f]};const Go=()=>{const e="vertical"===(0,l.d4)(s.CD),t=!!y.A.get(m.m.ISPVerticalRedesign);return(0,l.d4)(s.IV)&&e&&(t||(0,J.$v)(J.D$.desktopISPVerticalRedesign,!0))};var $o="_3Dd5VzTw4jjDmJ0l8Mdq_1",Wo="_341gX7JRfdso-QvKJ1d89o",Ho="_1oy7eQ0KZ3-aU0gkZiqves",Jo="EWSqqzEKw08MlOOKCwj4a",Ko="_3k4qG8hIg2n83kXkuexu88",Yo="zh3gEjYoRgI2ld5d_ahQN";const qo=({collapsed:e,newChats:t,className:a,onClick:n,vertical:r,iconColor:o="white"})=>i().createElement("button",{"data-id":"ChatCollapse",type:"button","aria-label":e?w.A.get("amazon-live-chat-toggle-minimzed"):w.A.get("amazon-live-chat-toggle-expanded"),className:de()(a,$o,{[Yo]:r}),onClick:n},e&&t&&i().createElement("div",{className:Wo},w.A.get("amazon-live-new-chats")),i().createElement("div",{className:Ho},i().createElement("div",{className:de()(Jo,e&&Ko)},i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"7",height:"12",viewBox:"0 0 7 12",fill:"none"},i().createElement("g",{id:"icons"},i().createElement("path",{id:"Vector",d:"M0.950223 12C0.761503 11.9991 0.577257 11.9382 0.42078 11.825C0.264303 11.7117 0.142623 11.5512 0.0711273 11.3638C-0.000368444 11.1763 -0.0184693 10.9703 0.0191129 10.7718C0.0566952 10.5732 0.148273 10.3912 0.282267 10.2485L4.25184 5.99784L0.282267 1.74717C0.104542 1.55527 0.00478515 1.29567 0.00478515 1.02507C0.00478515 0.75448 0.104542 0.494881 0.282267 0.302973C0.370974 0.206971 0.476512 0.130773 0.592793 0.0787724C0.709074 0.0267723 0.833796 0 0.959765 0C1.08573 0 1.21046 0.0267723 1.32674 0.0787724C1.44302 0.130773 1.54856 0.206971 1.63726 0.302973L7 5.99784L1.62772 11.7029C1.53856 11.7979 1.43282 11.873 1.31656 11.924C1.2003 11.9749 1.0758 12.0008 0.950223 12Z",fill:o}))))));var Zo="_1iGq2OWxR46Wb9Ad8ptpzl",Xo="_33-Cr1fcz0pHTkydeJHUo8",Qo="_3rMzRZzC0qdOwArGDZ4CGA",es="_1JNMlBvMWOmfoK68ZSvamY",ts="_3O9XpDQe07JsNtrXLN7e0O";const as=({linkText:e,linkUrl:t,refText:a,showChannelLink:n,showTitle:r,disableChannelNav:o,fontSize:c,showBroadcastTitle:d=!1,className:u})=>{const p=(0,l.d4)(s.zH),m=(0,l.d4)(s.G9);return i().createElement("div",{className:de()(Zo,u)},i().createElement(te.RenderIf,{validate:r},i().createElement(zn,{className:Xo,linkText:e,linkUrl:t,fontSize:c})),i().createElement(te.RenderIf,{validate:n},i().createElement("div",{className:de()(Qo,{[es]:!r})},i().createElement(Ha,{refText:a,disableChannelNav:o}))),i().createElement(te.RenderIf,{validate:d},i().createElement("h3",{className:ts},i().createElement(te.RenderIf,{validate:p},i().createElement("b",null,`${w.A.get("amazon-live-previouslylive-badge")}: `)),m)))};as.displayName="PlayerTitleBar";var ns="_2iph_nl4TjUqTTucHH2znX",rs="_2-f7SsHoA9ARcKntARwXUx",is="_2T2Y0WW-gnkE6hC16ybyFp",os="_3cj21f1tI3Gn9hKzwc0GIp",ss="_2HbrRwvaNDiMaPFlNde7S8",ls="_2BFu4XA7TaCFcLOA5EFjBq",cs="_5A_8Ua_RqL1xorfhpE3zx",ds="_1jDkxf2Jwv8GJGJR6JonYj",us="_3W_ldDYEdezZXuoYxSL73",ps="_1aP0FKB5t9G9Er5kj_wSNd",ms="_2TyUBV5hy7u1UgE226jRCy",ys="_3BfZuHY1gM-aXq9c0Ln6ve",gs="BdSvRqH3zQ92IobYpv6Zt",fs="-d5nogZBSwOmMv6LbU337",As="_3-2iPtr1HUdU5HzqrpJKmF",Es="_1iQ0q05XfXQjZY4-idMWOO",vs="wPe4wj6VSwY-GP2HlICS6",Ts="-dGJ6oTeT5FrpfncepVCf",hs="_1Q5h_xXiYUthj98zBM-AOG",Ss="AIUZl3FGG94Z73nNsk3Qg",bs="_1CpNNZNpvHLPKvJW1Mdcp8",Is="_3JkSmQSptfVi6WDnAjE76z";const Ps=i().memo(({className:e,expanded:t})=>{const a=y.A.get(m.m.BrandImageUrl)||"";let n="";return a.indexOf(".png")>-1&&(n="png"),a&&!t?i().createElement(te.ResponsiveImage,{url:a,scaleUpTo:3,className:e,height:300,format:n}):null}),_s=i().memo(({className:e,channelTitle:t})=>i().createElement("span",{className:e},t)),Cs=(0,l.Ng)(e=>({channelTitle:(0,Qe.Cp)(e)}))(_s);Cs.displayName="FeeDisclosureContainer";var ws=Cs;const Os=i().memo(({className:e,tooltipClassName:t})=>{const a=(0,r.useMemo)(()=>(0,io.v4)(),[]),n=(0,l.d4)(Qe.bT)===u.vp.THIRD_PARTY,o=h.A.get(h.A.Keys.MarketplaceId)===We.$1,c=(0,l.d4)(s.Kz);return i().createElement("div",{className:de()(oa,e)},i().createElement(ws,null),"Â ",n||c?i().createElement(po,{hasSponsoredProducts:c,isUSMarketPlace:o}):i().createElement(ro(),{id:a,className:de()(la,t),offset:[2,8],placement:no.Placement.Top,text:i().createElement(so,null)},i().createElement(co,{id:a,isUSMarketPlace:o})))});Os.displayName="DesktopFeeDisclosure";var Ls=Os;const Ns=e=>{window.GWI&&(window.GWI.recordLatency(e),window.GWI.register(e))},Rs=i().memo(()=>((0,r.useEffect)(()=>{const e=L.A.get(L.A.Keys.AdSlotName);"Gateway"===((0,te.getPageType)()||L.A.get(L.A.Keys.PageType))&&(Ns(`${e}-visible`),Ns(`${e}-active`))},[]),null));Rs.displayName="GatewayMetricProvider";var Ds=Rs,ks=a(9161);const Ms=e=>{const t=(()=>{const e=y.A.get(m.m.BackgroundImageUrls);return e&&(e.at1x||e.at2x)?te.AssetSelector.selectAssetForDPI(e.at1x||"",e.at2x||""):""})();return t&&!e?{backgroundImage:`url(${t})`}:{}},xs=()=>(0,J.$v)(J.D$.flexBannerRedesign,!0),Bs=(e,t,a)=>{const n={maxWidth:(0,bt.IJ)(t)},r=Object.assign(Object.assign({},Ms(t)),n),i="Landing"===(0,te.getPageType)()||a;return{expandableContainerStyle:Object.assign(Object.assign({},e||i?n:{}),!e&&i?{margin:"0 auto"}:{}),widgetStyle:r}},Vs={height:500,width:500},js="chat",Fs="watchMore",Us={T1:se.FlexBannerPFOTheme.WITH_PERCENTAGE_SAVINGS,T2:se.FlexBannerPFOTheme.WITHOUT_SAVINGS,T3:se.FlexBannerPFOTheme.WITH_SAVINGS_BADGE,T4:se.FlexBannerPFOTheme.IMAGE_ONLY_WITH_BADGE},zs=({expanded:e,widgetUnexpanded:t,onMenuButtonClicked:a,chatDisplayed:n,broadcastId:o,isPreviouslyLive:c,immersiveTabClicked:d,moreStreamsClicked:p,titleBarLogoClicked:g,channel:f,title:A,broadcastStatus:E,videoSource:v,isVSE:T,earnsCommissions:S})=>{const b=xs(),I=(0,l.d4)(s.CD)===u.R_.VERTICAL,P=!!y.A.get(m.m.FlexBannerCompact)&&b,_=P&&!I,C=(0,J.Gh)(J.D$.creatorWalletFlagship)===J.T1&&!c&&e,O=h.A.get(h.A.Keys.MarketplaceId),L=!!y.A.get(m.m.DisableNavToAL),N=We.Sn.has(O)||L,R=(0,We.D1)(O,(0,J.Dg)()),D=(0,J.Gh)(J.D$.asvhCAIngress)===J.W3&&(0,We.ep)(O)&&(0,bt.fO)(),M=(0,We.SA)(O)||!(0,bt.fs)(),x=(0,J.NT)(),{widgetTheme:B}=va(),V=(0,l.d4)(s.Kz),j=Boolean(!y.A.get(m.m.DisableFeeDisclosure)&&S||V),F=!!y.A.get(m.m.EnableExpandablePlayer),U=y.A.get(m.m.Title),z=(0,r.useMemo)(()=>{const t=[];return b&&!e||t.push(i().createElement(fe,{key:0}),i().createElement(Mr,{key:1})),b||e||F||t.push(i().createElement(wn,{key:t.length,className:En})),C&&t.push(i().createElement(yi,{key:t.length})),t},[b,e,C,F]),G=(0,r.useMemo)(()=>{if(b&&!e)return[i().createElement(Kr,{broadcastTitle:A,channelName:f,isFeeDisclosureEnabled:j,disableChannelNav:N})]},[b,e,A,f,j]),[$,W]=(0,r.useState)(!1),H=i().createRef(),K=i().createRef(),Y=i().createRef(),q=i().createRef(),Z=Ke(),X=(0,Zt.lM)(O,!c),Q=(0,Zt.G5)()&&!X,ee="AmazonStores"===(0,te.getPageType)(),{widgetStyle:ne,expandableContainerStyle:re}=(0,r.useMemo)(()=>Bs(b,e,ee),[b,e,ee]),ie=!!y.A.get(m.m.BrandImageUrl),oe=D?y.A.get(m.m.FlexTitleLinkText):"",ce=D?y.A.get(m.m.FlexTitleLinkUrl):"",ue=(0,r.useMemo)(()=>({isMobile:false,slideSize:e?void 0:"174px",tileDirection:u.i7.COLUMN,verticalCarousel:e,enablePromoCodePerAsin:!0,showScrollBar:e}),[e,b]),pe=e&&n,me=e&&(0,Na.i)(),ye=pe||me,[ge,Ae]=(0,r.useState)(pe?js:Fs),Ee=(0,r.useCallback)(e=>{Ae(e),d(e)},[e]);(0,r.useEffect)(()=>{Ae(pe?js:Fs)},[o,e]),(0,r.useEffect)(()=>{if(b)return;const e=new ResizeObserver(e=>{var t,a;const n=null===(a=null===(t=e[0])||void 0===t?void 0:t.contentRect)||void 0===a?void 0:a.width;n>0&&n<160&&W(!0)});return H.current&&e.observe(H.current),()=>{H.current&&e.unobserve(H.current)}},[H,b]);const ve=!e&&!!U,Te=y.A.get(m.m.TitleFontSize)||"",he=!!y.A.get(m.m.EnableChannelPageLink),Se=(0,ke.al)(o,void 0,v),be=!T&&(0,J.Gl)(!0);let Ie=y.A.get(m.m.FlexBannerPFOTheme)||"";if(!e&&!Ie){const e=(0,J.Gh)(J.D$.flexBannerDesktopExp,!0);Ie=Us[e]}const Pe=Ie&&Ie===se.FlexBannerPFOTheme.IMAGE_ONLY_WITH_BADGE,_e=Ie===se.FlexBannerPFOTheme.IMAGE_ONLY_WITH_BADGE,Ce=((e,t)=>{const a=!!y.A.get(m.m.EnableExpandablePlayer),n=xs();return e?t?le.DesktopAllOverlayTemplate:le.DesktopImmersiveOverlayTemplate:n?le.UnifiedOverlay:a?le.DesktopFlexWatchNowOverlayTemplate:le.FlexBannerOverlayTemplate})(e,C),we=(0,r.useMemo)(()=>_?le.OverlaySize.COMPACT:I?le.OverlaySize.VERTICAL:le.OverlaySize.HORIZONTAL,[_,I]);return i().createElement(Dt,null,i().createElement(Nt,{getRefObj:()=>K}),i().createElement(Ds,null),i().createElement(Wt.ExpandableContainer,{expand:e,placeholder:Vs,onCloseClick:t,contentLevelInstrumentation:er(ae.t.DESKTOP_FLEX_BANNER,f,A,E),initialFocusRef:q,shouldRestrictTabNavigation:!0,className:de()({[ps]:b&&!e,[Es]:_,[As]:P,[Is]:Ea(k.Keys.WIDGET_PRIMARY_COLOR,pa)}),style:re},i().createElement(i().Fragment,null,i().createElement(te.RenderIf,{validate:!e},i().createElement(as,{linkText:oe,linkUrl:ce,refText:"al_desktop_flex_immersive_title_bar",showChannelLink:he,showTitle:ve,disableChannelNav:N,fontSize:Te,showBroadcastTitle:b&&ee,className:fs})),i().createElement("div",{className:de()(ra.app,ms,{[ns]:!e&&!b,[rs]:Ie&&!e&&!b,[ls]:Pe&&!e,[is]:j&&!e&&!b,[Bi]:e,[ds]:ie,[Fi]:e&&(pe||me),[os]:!e&&x&&!Pe}),style:ne,ref:K},e&&i().createElement(Wt.TitleBar,{className:Yi,onClickCloseButton:t,onClickMoreStreams:p,onClickLogo:g,linkText:w.A.get("amazon-live-more-livestreams"),shouldIngressToASVH:D,logoURL:R,disableLogo:M,logoRef:q}),i().createElement(Dt,null,i().createElement(Ps,{expanded:e,className:Ss})),i().createElement(Dt,null,i().createElement("div",Object.assign({className:de()({[ss]:!e,[Vi]:e,[ys]:I}),ref:Y},Qn({type:u.v6.ITEM,itemId:Se,itemType:u.SP.LIVE_VIDEO,position:"1,1",channel:f,title:A,contentForm:E}),{key:Se}),i().createElement(De,{getRefObj:()=>Y}),i().createElement(ut,null,t=>{const{overlayEvents:n,live:r,channelTitle:o}=t;n[le.OverlayEventName.MenuButtonClicked]=a;const{isRedirectEnabled:s}=(0,ks.p)(!1);return i().createElement(le.Player,Object.assign({},t,{overlayTemplate:Ce,overlayChildren:z,overlayDetails:G,overlaySize:we,title:!F||e&&C?"":t.title,channelTitle:C?"":o,autoplay:!0,controls:F?e&&!C:!r||e,shareButtonEnabled:!C&&Z,overlayEvents:n,className:de()(hs,{[us]:!e,[qi]:e,[Xi]:r,[Zi]:!r}),controlBarOptions:{volumePanel:!0},customVJSComponentOptions:{toggleCaptionsButton:!0},redirectEnabled:s,disableCCAdjustment:_e}))}),!e&&!b&&j&&i().createElement(Ls,{className:de()(vs,{[Ts]:Boolean(Ie)})})),e&&i().createElement(Dt,null,i().createElement(jo,null,e=>i().createElement("div",{className:ji},i().createElement(xo,Object.assign({},e,{isFeeDisclosureEnabled:j,isCreatorWallet:C,isHeartsReactionsEnabled:Q,broadcastStatus:E,broadcastId:o,shouldShowNotificationSettings:be,isImmersive:!0})))))),e&&i().createElement(i().Fragment,null,ye&&i().createElement("div",{className:de()(zi)},i().createElement(zt.TabsContainer,{showTabs:e,className:Gi,onTabChangeCallback:Ee,activeTabId:ge,activeTabColor:u.jl.ORANGE},pe&&i().createElement(zt.TabContent,{className:de()(Mi,Hi),title:w.A.get("amazon-live-immersive-chat"),id:js},i().createElement(Dt,null,i().createElement($a,{className:xi,theme:B}))),me&&i().createElement(zt.TabContent,{title:w.A.get("amazon-live-desktop-watch-more"),id:Fs,label:w.A.get("amazon-live-watchmore-streams")},i().createElement("div",{className:de()($i,{[Wi]:!n}),"data-id":"WatchMore"},i().createElement(Dt,null,!pe&&i().createElement(Qi,{className:Ki,title:w.A.get("amazon-live-desktop-watch-more"),ariaLabel:w.A.get("amazon-live-watchmore-streams")}),i().createElement(Jn,{enableTitleLink:!1,showScrollBar:!0,disableNavToAL:L}))))))),i().createElement(Dt,null,i().createElement("div",{className:de()({[cs]:!e,[Ui]:e,[bs]:!e&&$}),ref:H,"data-id":"Products"},i().createElement(te.RenderIf,{validate:e},i().createElement(Qi,{className:Ji,title:w.A.get("amazon-live-products")})),i().createElement(wt,null,t=>i().createElement(se.ProductCarouselV2,Object.assign({key:Pe?`carousel-exp-${e}`:void 0},t,{getItemLevelInstrumentation:Qn,options:Object.assign(Object.assign({},t.options),ue),isCreatorWallet:C,title:A,channel:f,showTileDefaultBorder:!Ie,broadcastStatus:E,flexBannerPFOTheme:Ie,flexBannerCompact:P&&!e,tileClassName:de()({[gs]:b}),percentClaimedText:w.A.get("percent-claimed-text")})))))))))};zs.displayName="DesktopFlexBannerImmersiveLayout";const Gs=(0,l.Ng)(()=>{const e=ja();return t=>({broadcastId:(0,s.ZG)(t),videoSource:(0,s.jN)(t),expanded:(0,et.IT)(t),chatDisplayed:e(t),isPreviouslyLive:(0,s.pS)(t),channel:(0,Qe.Cp)(t),title:(0,s.G9)(t),broadcastStatus:(0,s.at)(t),isVSE:(0,s.R2)(t),earnsCommissions:(0,Qe.If)(t)})},e=>Object.assign(Object.assign(Object.assign({},(0,c.zH)({widgetUnexpanded:f.$u,onMenuButtonClicked:Ce.He},e)),(0,c.zH)(Da.Ay,e)),(0,c.zH)(Fo.Ay,e)))(zs);Gs.displayName="DesktopFlexBannerImmersiveLayoutContainer";var $s=Gs,Ws="GeRVgx5Nr7tVW8cVA_Zdd",Hs="_36ORWUsm477LeTMNzhFzES",Js="_2r6Y_vDyRVDPl8R5m-DT8w";const Ks=({setMuted:e})=>i().createElement("div",{className:Ws,role:"dialog"},i().createElement("p",{className:Hs},w.A.get("amazon-live-accessibility-chat-tab-announcement")),i().createElement("button",{type:"button",onClick:()=>{e(!0)},className:de()(Hs,Js)},w.A.get("amazon-live-accessibility-chat-mute-livestream")),i().createElement("button",{className:de()(Hs,Js),type:"button",onClick:()=>{e(!1)}},w.A.get("amazon-live-accessibility-chat-keep-livestream-on"))),Ys={height:500,width:500},qs="chat",Zs="watchMore",Xs=({expanded:e,widgetUnexpanded:t,onMenuButtonClicked:a,chatDisplayed:n,broadcastIsLive:o,broadcastId:s,immersiveTabClicked:l,moreStreamsClicked:c,titleBarLogoClicked:d,channel:p,title:g,broadcastStatus:f,videoSource:A,isVSE:E,setMuted:v})=>{const T=(0,J.Gh)(J.D$.creatorWalletFlagship)===J.T1&&o,S=h.A.get(h.A.Keys.MarketplaceId),b=(0,We.D1)(S,(0,J.Dg)()),I=(0,We.SA)(S)||!(0,bt.fs)(),P=!!y.A.get(m.m.DisableNavToAL),_=(0,J.Gh)(J.D$.asvhCAIngress)===J.W3&&(0,We.ep)(S)&&(0,bt.fO)(),C=Go();let O;if(!e&&C){const e=(0,J.Gh)(J.D$.flexBannerDesktopExp,!0);O=Us[e]}const L=(0,r.useMemo)(()=>o&&!e||T?i().createElement(yi,{key:3,isSSWOverlay:C&&!e}):null,[o,e,C,T]),N=(0,r.useMemo)(()=>{const t=[];return C&&!e||t.push(i().createElement(Mr,{key:1}),i().createElement(fe,{key:0})),L&&t.unshift(L),t},[L,C,e]),R=i().createRef(),D=i().createRef(),k=i().createRef(),M=Ke(),x=(0,r.useMemo)(()=>{let t=C?"165px":"320px";return e&&(t=void 0),{isMobile:false,slideSize:t,tileDirection:e||C?u.i7.COLUMN:u.i7.ROW,verticalCarousel:e,showCustomTileButton:!1,enablePromoCodePerAsin:!0,showScrollBar:e}},[e,C]),B=e&&(0,Na.i)(),V=n||B,j=(0,ke.al)(s,void 0,A),[F,U]=i().useState(n?qs:Zs),z=(0,Zt.lM)(S,o),G=(0,Zt.G5)()&&!z,$=(0,r.useCallback)(e=>{U(e),l(e)},[e]);(0,r.useEffect)(()=>{U(n?qs:Zs)},[s,e,n]);const W=y.A.get(m.m.EnableDarkMode),H=(0,J.Gh)(J.D$.playerRedesignDesktop)===J.T1,{widgetTheme:K}=va(),Y=function(e){return(0,We.a)(e)}(S)&&!e,q=!E&&(0,J.Gl)(!0),Z=Uo()&&(0,J.$v)(J.D$.desktopPiP,!1),[X,Q,ee]=zo(R,Z),te=((e,t,a)=>{const n=Go();return e?a?le.DesktopAllOverlayTemplate:le.DesktopImmersiveOverlayTemplate:t?le.DesktopPiPOverlay:n?le.UnifiedOverlay:le.DesktopMinimalOverlayTemplate})(e,X,T),ne=(0,r.useMemo)(()=>e?void 0:i().createElement(yn,{hideTooltip:!0}),[e]),re=(0,r.useMemo)(()=>({volumePanel:!0}),[]),ie=(0,r.useMemo)(()=>({toggleCaptionsButton:!0}),[]);(0,r.useEffect)(()=>{Y&&(document.body.style.backgroundColor="transparent")},[Y]);const[oe,ce]=i().useState(!1),[ue,pe]=i().useState(!1),me=(0,r.useCallback)(()=>{pe(!ue),ce(!1)},[ue]);return i().createElement(Dt,null,i().createElement(Nt,{getRefObj:()=>R}),i().createElement(Wt.ExpandableContainer,{expand:e,placeholder:Ys,onCloseClick:t,className:de()(gi,{[fi]:!e,amazonLiveDarkMode:W,brandingCXEnabled:Y}),contentLevelInstrumentation:er(ae.t.DESKTOP_INLINE_SHOPPABLE_PLAYER,p,g,f),initialFocusRef:k,shouldRestrictTabNavigation:!0},i().createElement("div",{className:de()(ra.app,_i,{[Ei]:!e,[Di]:y.A.get(m.m.disableISPResponsive),[Bi]:e,[Fi]:e&&(n||B),[vi]:C,[Ri]:!n,[Ai]:ue,[Ni]:!!L}),ref:R},C&&!e&&i().createElement(Mr,{className:wi}),n&&!e&&C&&i().createElement(qo,{collapsed:ue,newChats:oe,onClick:me,className:Pi}),e&&i().createElement(Wt.TitleBar,{className:Yi,onClickCloseButton:t,onClickMoreStreams:c,onClickLogo:d,linkText:w.A.get("amazon-live-more-livestreams"),shouldIngressToASVH:_,logoURL:b,disableLogo:I,logoRef:k}),i().createElement(Dt,null,i().createElement("div",Object.assign({className:de()({[Ti]:!e,[Vi]:e,[Ci]:H&&n}),ref:D},Qn({type:u.v6.ITEM,itemId:j,itemType:u.SP.LIVE_VIDEO,position:"1,1",channel:p,title:g,contentForm:f}),{key:j}),i().createElement(De,{getRefObj:()=>D}),i().createElement(ut,null,t=>{const{overlayEvents:n,live:r,title:o}=t;n[le.OverlayEventName.MenuButtonClicked]=a,n[le.OverlayEventName.PipCloseButtonClicked]=Q;const s=!T&&(e||!C&&!r);return i().createElement(le.Player,Object.assign({},t,{overlayTemplate:te,title:T?void 0:o,channelTitle:T?void 0:p,overlayChildren:N,followButton:ne,autoplay:!0,shareButtonEnabled:!T&&M,controls:s,className:de()(Oi,{[hi]:!e&&!C,[qi]:e,[Xi]:r,[Zi]:!r,[ki]:X}),controlBarOptions:re,customVJSComponentOptions:ie,onPipRestoreClicked:ee}))}),n&&!e&&!C&&i().createElement(qo,{collapsed:ue,newChats:oe,onClick:me,className:Pi})),i().createElement(Dt,null,i().createElement(jo,null,t=>i().createElement("div",{className:de()(ji,Si)},i().createElement(xo,Object.assign({},t,{isCreatorWallet:T,isHeartsReactionsEnabled:G,broadcastStatus:f,broadcastId:s,shouldShowNotificationSettings:q,isImmersive:e})))))),e&&i().createElement(i().Fragment,null,V&&i().createElement("div",{className:de()(zi)},i().createElement(zt.TabsContainer,{showTabs:e,className:Gi,onTabChangeCallback:$,activeTabId:F,activeTabColor:u.jl.ORANGE},n&&i().createElement(zt.TabContent,{className:de()(Mi,Hi),title:w.A.get("amazon-live-immersive-chat"),id:qs},i().createElement(Dt,null,i().createElement($a,{className:xi,theme:K,setNewChats:ce}))),B&&i().createElement(zt.TabContent,{title:w.A.get("amazon-live-desktop-watch-more"),id:Zs,label:w.A.get("amazon-live-watchmore-streams")},i().createElement("div",{className:de()($i,{[Wi]:!n}),"data-id":"WatchMore"},i().createElement(Dt,null,!n&&i().createElement(Qi,{className:Ki,title:w.A.get("amazon-live-desktop-watch-more"),ariaLabel:w.A.get("amazon-live-watchmore-streams")}),i().createElement(Jn,{enableTitleLink:!1,showScrollBar:!0,disableNavToAL:P}))))))),i().createElement(Dt,null,i().createElement("div",{className:de()(bi,Ui),"data-id":"Products"},i().createElement(wt,null,e=>i().createElement(se.ProductCarouselV2,Object.assign({},e,{getItemLevelInstrumentation:Qn,options:Object.assign(Object.assign({},e.options),x),isCreatorWallet:T,channel:p,title:g,showTileDefaultBorder:!0,broadcastStatus:f,flexBannerPFOTheme:O,tileClassName:de()({[Li]:C}),percentClaimedText:w.A.get("percent-claimed-text")}))))),i().createElement(Dt,null,!e&&n&&i().createElement("div",{className:de()(Ii,Mi),"aria-label":ue?w.A.get("amazon-live-chat-toggle-minimzed"):w.A.get("amazon-live-chat-toggle-expanded"),role:"region"},i().createElement(Ks,{setMuted:v}),i().createElement($a,{className:de()(xi),theme:K,setNewChats:ce}))))))};Xs.displayName="DesktopISPImmersiveLayout";const Qs=(0,l.Ng)(()=>{const e=ja();return t=>({broadcastId:(0,s.ZG)(t),expanded:(0,et.IT)(t),chatDisplayed:e(t),broadcastIsLive:(0,s.yZ)(t),featureGroup:(0,Qe.bT)(t),isPreviouslyLive:(0,s.pS)(t),channel:(0,Qe.Cp)(t),title:(0,s.G9)(t),broadcastStatus:(0,s.at)(t),videoSource:(0,s.jN)(t),isVSE:(0,s.R2)(t)})},e=>Object.assign(Object.assign(Object.assign({},(0,c.zH)({widgetUnexpanded:f.$u,onMenuButtonClicked:Ce.He,widgetExpanded:f.q8,setMuted:Ce.y5},e)),(0,c.zH)(Da.Ay,e)),(0,c.zH)(Fo.Ay,e)))(Xs);Qs.displayName="DesktopISPImmersiveLayoutContainer";var el=Qs;var tl=i().memo(({displayType:e,deviceType:t})=>{switch(e){case ae.t.MOBILE_AD_414X125:return i().createElement(jt,null);case ae.t.DESKTOP_FLEX_BANNER:return i().createElement($s,null);case ae.t.DESKTOP_INLINE_SHOPPABLE_PLAYER:return i().createElement(el,null);case ae.t.MOBILE_INLINE_SHOPPABLE_PLAYER:case ae.t.MOBILE_GRID_CAROUSEL_PLAYER:return i().createElement(li,null);default:switch(F.A.warn(`Cannot find layout for display type ${e}. Using ${t} instead.`),t){case u.PX.MOBILE:return i().createElement(li,null);case u.PX.DESKTOP:default:return i().createElement(el,null)}}});const al=(e,t)=>{try{if((0,Z.mL)(),(0,Z.kA)(),(0,Z.lt)(Z.FV),(0,Z.lt)(Z.CO),!oe())return(0,Z.pl)("AmazonLiveBrowserUnsupported"),null;(0,Z._B)();const a=document.getElementById(t),{store:r}=ne(e),l=r.getState(),c={initialBroadcast:{id:(0,s.ZG)(l),url:(0,s.f3)(l)}};return(0,o.render)(i().createElement(Xe.Provider,{value:c},i().createElement(b,{store:r},i().createElement(tl,{displayType:h.A.get(h.A.Keys.Display),deviceType:h.A.get(h.A.Keys.DeviceType)}))),a,Z.Yw),{getState:()=>(0,n.A)(r.getState()),dispatch:r.dispatch}}catch(e){return F.A.fatal(e,"Could not initialize Flagship Assets. "),null}};window.initLivePage=al,window.P&&window.P.when("A").execute(e=>{e&&e.trigger("amazonLiveEvent:initLivePage:available")});try{(0,p.dm)("amazon-live-widget-library",()=>(e=>{const t={};return{initializeWidget:(a,n)=>{if(t[n])(0,Z.pl)("AmazonLiveWidgetLibraryUsingAlreadyRegisteredWidget");else{const r=e(a,n);if(!r)return null;t[n]=r}const{getState:r,dispatch:i}=t[n];return{getState:r,openImmersiveView:e=>{i((0,f.YZ)({broadcastId:e,origin:"videoCarouselWidgetTile"}))}}},isWidgetRegistered:e=>!(!e||!t[e])}})(al))}catch(e){F.A.error(e,"There was an error registering Amazon Live Widget Library")}},296:function(e,t,a){"use strict";a.d(t,{Lw:function(){return o},tD:function(){return r},wO:function(){return n}});var n,r,i=a(2607);!function(e){e.COMPASS="compass",e.SOCIAL="social",e.LANDING="landing"}(n||(n={})),function(e){e.REDIRECT="redirect",e.NEW_TAB="newTab"}(r||(r={}));const o={[r.REDIRECT]:i.M9.SELF,[r.NEW_TAB]:i.M9.NEW_TAB}},542:function(){},614:function(e,t,a){"use strict";a.d(t,{GJ:function(){return d},NL:function(){return r},PP:function(){return p},XZ:function(){return u},eW:function(){return o},kd:function(){return c},kv:function(){return i},ni:function(){return s},pJ:function(){return l},qQ:function(){return n}});a(2607);const n="SUCCESSFUL_NOTIFICATION_CHANGE",r="LOAD_NOTIFICATION_ASSETS",i="GET_CUSTOM_NOTIFICATION_SETTING",o="SET_CUSTOM_NOTIFICATION_SETTING",s="CUSTOM_NOTIFICATION_SETTING",l="CUSTOM_NOTIFICATION_SETTING_RECEIVED",c=e=>({type:n,payload:e}),d=()=>({type:r}),u=e=>({type:i,payload:{type:s,eventId:e}}),p=(e,t)=>({type:o,payload:{type:s,eventId:e,setting:t}})},639:function(e,t,a){"use strict";var n;a.d(t,{S:function(){return n}}),function(e){e.EventId="event_id",e.ReportedTime="reported_time",e.RequestId="request_id",e.SessionId="session_id",e.MarketplaceId="marketplace_id",e.StreamSessionId="stream_session_id",e.CustomerId="customer_id",e.ShowId="show_id",e.BroadcastId="broadcast_id",e.BroadcastIdType="broadcast_id_type",e.Asin="asin",e.PageType="page_type",e.PageId="page_id",e.Widget="widget",e.SlotId="slot_id",e.EventType="event_type",e.EventTriggerType="event_trigger_type",e.PromotedItemId="promoted_item_id",e.BroadcastStatus="broadcast_status",e.PlayerStatus="player_status",e.WeblabIds="weblab_ids",e.RefMarker="ref_marker",e.UserAgent="user_agent",e.TrafficType="traffic_type",e.StringPayload="string_payload",e.IntPayload="int_payload",e.JsonPayload="json_payload",e.Context="context",e.Platform="platform",e.Experience="experience",e.SlotName="slot_name",e.PipActive="pip_active",e.ImpressionId="impression_id"}(n||(n={}))},743:function(e,t,a){"use strict";a.d(t,{a:function(){return n},x:function(){return r}});const n="SET_PLAYLIST",r=e=>({type:n,payload:e})},791:function(e,t,a){"use strict";let n;n=a(8156).A;const r=n;t.A=r},1385:function(e,t,a){"use strict";a.d(t,{$_:function(){return l},AW:function(){return d},TD:function(){return u},Ve:function(){return c},g_:function(){return p},k6:function(){return m}});var n=a(3799),r=a(2231),i=a(4248),o=a(4436),s=a(5439);const l=()=>{const e=i.A.get(s.m.UnexpandRestoreInitBroadcast);return i.A.isValidWidgetOption(e,e=>"boolean"==typeof e)?e:s.s[s.m.UnexpandRestoreInitBroadcast]},c=(e,t)=>t?e:0,d=({widgetUnexpanded:e,unexpandRestoreInitBroadcastEnabled:t,changeBroadcast:a,initialBroadcastId:n,enableRedirectOnExit:i=!1})=>()=>{t&&a({broadcastId:n,origin:"mobileUnexpandButton"});const s=new URLSearchParams(window.location.search),l=(0,r.O8)(s.get("postImmersiveLanding")),c=i&&Boolean(l);o.A.initialize({willRedirect:c}),e(),c&&(window.location.href=l)},u=({saveInitialBroadcastScrollPosition:e,expandButtonClicked:t,redirectCallback:a})=>()=>{e({x:window.scrollX,y:window.scrollY}),o.A.initialize({willRedirect:Boolean(a)}),t(),a&&a()},p=()=>{const e=i.A.get(s.m.DeeplinkAsin)||"";return e||((0,n.getQueryParameter)("deeplinkAsin")||"")},m=(e,t,a)=>{const r=Number(i.A.get(s.m.DeeplinkTimestamp))||Number((0,n.getQueryParameter)("deeplinkTimestamp"))||0,o=p();return r||(o?((e,t,a,n)=>{var r;const i=null===(r=null==a?void 0:a.segmentItems)||void 0===r?void 0:r.find(t=>t.asin===e),o=null==i?void 0:i.segmentItemId,s=null==t?void 0:t.find(e=>"highlightedSegmentItemId"===e.eventType&&e.eventValue===o),l=Number(null==n?void 0:n.secondsTrimmed)||0;return Number(null==s?void 0:s.eventOffsetMS)/1e3+l||0})(o,e,t,a):0)}},1408:function(e,t,a){"use strict";a.d(t,{$e:function(){return g},Je:function(){return l},Mw:function(){return u},X1:function(){return y},aN:function(){return p}});var n=a(4181),r=a(3799),i=a(9968),o=a(8406),s=a(7569);const l={DESKTOP:"DESKTOP",MSHOP:"MSHOP",MWEB:"MWEB"},c=()=>(0,s.M)()?n.SV:n.dz,d="asvh",u=e=>{const t=c(),a=new URL(window.location.href).searchParams.get(d)||"",u="liveDestination"!==((0,r.getPageType)()||o.A.get(o.A.Keys.PageType)),p=r.UserAgent.isAndroid()&&null!==(window.navigator.userAgent.match(/FBAN|FBAV/i)||window.navigator.userAgent.match(/Instagram/i));return!(u||e!==l.MWEB||a.startsWith(t.FAIL)||p)&&(0,i.Gh)((0,s.M)()?i.D$.mWebmShopRedirectSignedIn:i.D$.mWebmShopRedirect)===n.ts.T1},p=()=>(0,i.Gh)(i.D$.mWebmShopRedirectV2)===n.ts.T1,m=({broadcastId:e,source:t,experience:a,peekAsin:r,productNav:i})=>{if(!u(a))return!1;const o=window.location.origin,{destinationUrl:s,fallbackUrl:l}=((e,t,a)=>{const r=window.location.origin,i=`/${t!==n.kL.VSE?"broadcast":"video"}/${e}`,o=new URL(`${r}/live${i}`),s=new URL(`${r}/live${i}`),l=c(),u=new URLSearchParams(window.location.search);u.delete("broadcast"),u.delete("video"),u.delete("fallback"),u.delete("url"),u.delete("campaignId"),u.delete("postImmersiveLanding"),[o,s].forEach(e=>{e.searchParams.delete("fallback"),e.searchParams.delete("url"),e.searchParams.delete("campaignId"),u.forEach((t,a)=>{e.searchParams.set(a,t)})}),o.searchParams.set("placementId",n.$5),a&&(o.searchParams.set("peekAsin",a),o.searchParams.set("deeplinkAsin",a)),o.searchParams.set("widgetId",l.SUCCESS),o.searchParams.set(d,l.SUCCESS),s.searchParams.set(d,l.FAIL);const p=window.location.pathname;if(!/^\/live\/(broadcast|video)/.test(p)){const e=new URL(window.location.href);e.searchParams.set(d,l.SUCCESS),o.searchParams.set("postImmersiveLanding",e.href),s.searchParams.set(d,l.FAIL_INTERNAL)}return{destinationUrl:o,fallbackUrl:s}})(e,t,r),p=i&&r?new URL(`${o}${i}`):l,m=(({url:e,customFallbackUrl:t,campaignId:a})=>`https://dl.amazon.com/redirect?url=${encodeURIComponent(e)}&customFallbackUrl=${encodeURIComponent(t)}&campaignId=${a}&failureMode=MobileWebMostly`)({url:s.toString(),customFallbackUrl:p.toString(),campaignId:"k5k5"});return window.location.href=m,!0},y=(e,t,a,n)=>{var r,i;null===(r=e.preventDefault)||void 0===r||r.call(e),null===(i=e.stopPropagation)||void 0===i||i.call(e),a&&a();!m(t)&&n&&n()},g=()=>(0,r.isMshop)()?l.MSHOP:r.UserAgent.isAndroid()||r.UserAgent.isIOS()?l.MWEB:l.DESKTOP},1665:function(e,t,a){"use strict";a.d(t,{BZ:function(){return r},Lq:function(){return i},lY:function(){return s},o:function(){return n},wN:function(){return o}});const n="IMMERSIVE_TAB_CLICKED",r="CREATOR_IMAGE_CLICKED",i="MORE_OPTIONS_CLICKED",o="BOTTOM_SHEET_OPTION_CLICKED",s=e=>({type:o,payload:e});t.Ay={immersiveTabClicked:e=>({type:n,payload:e}),creatorImageClicked:()=>({type:r}),moreOptionsClicked:()=>({type:i}),bottomSheetOptionClicked:s}},1755:function(e,t,a){"use strict";a.d(t,{a_:function(){return r},lJ:function(){return o},uN:function(){return s}});var n=a(614);const r="customNotifications",i={},o=(e=i,t)=>t.type===n.pJ?Object.assign(Object.assign({},e),{[t.payload.eventId]:t.payload.setting}):e,s=e=>e[r]||{}},1776:function(e,t,a){"use strict";a.d(t,{L3:function(){return r},cl:function(){return n}});const n="TITLE_BAR_MORE_LIVE_STREAMS_CLICKED",r="TITLE_BAR_LOGO_CLICKED";t.Ay={moreStreamsClicked:()=>({type:n}),titleBarLogoClicked:()=>({type:r})}},1786:function(e,t){"use strict";var a;!function(e){let t;e.initialize=function(e){t=e},e.get=function(){return t}}(a||(a={})),t.A=a},2033:function(e,t,a){"use strict";a.d(t,{G_:function(){return s},So:function(){return i},Vw:function(){return l},Zi:function(){return n},aU:function(){return r},bE:function(){return c},uv:function(){return o}});const n="STORE_PLAYER_STATUS",r="VIDEO_LOADED",i="PLAYER_STATUS_CHANGE",o="PLAYER_TEXT_TRACK_LOADED",s=e=>({type:"STORE_PLAYER_STATUS",payload:e}),l=()=>({type:"VIDEO_LOADED"}),c=()=>({type:"PLAYER_TEXT_TRACK_LOADED"})},2231:function(e,t,a){"use strict";a.d(t,{Fr:function(){return i},O8:function(){return o},d4:function(){return s}});var n=a(4181),r=a(4436);const i=()=>r.A.get(r.A.Keys.DeviceType)===n.PX.MOBILE,o=e=>{if(!e)return"";let t;try{const a=decodeURIComponent(e);t=new URL(a,window.location.origin)}catch(e){return""}return t.origin===window.location.origin?t.href:""},s=()=>window.self!==window.top},2353:function(e,t,a){"use strict";a.d(t,{B:function(){return l},CQ:function(){return n},MU:function(){return s},OI:function(){return o},Sx:function(){return i},zd:function(){return r}});const n="FOLLOW_ASSETS_LOADED",r="SUCCESSFUL_FOLLOW",i="SUCCESSFUL_UNFOLLOW",o=e=>({type:n,payload:e}),s=()=>({type:r}),l=()=>({type:i})},2608:function(e,t,a){"use strict";a.d(t,{$_:function(){return f},CO:function(){return l},CY:function(){return O},FV:function(){return i},Hg:function(){return x},Kj:function(){return d},Li:function(){return o},MT:function(){return u},Qm:function(){return D},Qr:function(){return A},Qt:function(){return p},RB:function(){return E},XG:function(){return R},Yw:function(){return U},_B:function(){return k},ab:function(){return C},bB:function(){return F},gb:function(){return B},j1:function(){return c},kA:function(){return M},kO:function(){return w},lt:function(){return N},mL:function(){return j},mS:function(){return s},oT:function(){return m},oY:function(){return z},pl:function(){return _},uA:function(){return g},v8:function(){return V},xs:function(){return y}});var n=a(791);const r="AmazonLiveReact",i="AmazonLiveFlagshipPlayerInitLatency",o="AmazonLiveFlagshipVideoLoadLatency",s="AmazonLiveFlagshipVideoPlayFromVideoLoadLatency",l="AmazonLiveFlagshipCarouselLoadLatency",c="AmazonLiveFlagshipCarouselViewLatency",d="AmazonLiveFlagshipTotalPlaybackLatency",u="AmazonLiveFlagshipTimeToVideoLoad",p="AmazonLiveFlagshipTimeToPosterLoad",m="AsinHasProductInsights",y="AnyAsinHasProductInsight",g="TotalProductInsightRequest",f="AAPIRequestLatency",A="AAPIRequestLatency_ProductInsight",E="CarouselStateBuildLatency",v=new Set,T={wb:1},h="be",S="bb";let b=0,I=0,P=0;const _=(e,t=1)=>{n.A.debug(`Add count: ${e}:${t}`),window.ue&&window.ue.count(e,(e=>window.ue&&window.ue.count(e)||0)(e)+t)},C=()=>2e3,w=(e,t)=>{n.A.debug(`Emit count value: ${e}:${t}`),window.ue&&window.ue.count(e,t)},O=(e,t)=>{v.has(e)||(w(e,t),v.add(e))},L=e=>{n.A.debug(`Start timer: ${e}`),window.uet&&window.uet(h,e,T)},N=e=>{n.A.debug(`Start timer: ${e}`),window.uet&&window.uet(S,e,T)},R=e=>{n.A.debug(`End timer: ${e}`),window.uex&&window.uex("ld",e,T)},D=()=>window&&window.AmazonLiveHTMLPrintDateTime?(new Date).getTime()-window.AmazonLiveHTMLPrintDateTime:null,k=()=>{L(r)},M=()=>{b=Date.now()},x=()=>b,B=()=>{I=Date.now()},V=()=>I,j=()=>{P=Date.now()},F=()=>P,U=()=>{R(r)},z={addCount:_,startTimer:L,endTimer:R}},2726:function(e,t,a){"use strict";var n;a.d(t,{t:function(){return n}}),function(e){e.DESKTOP_FLEX_BANNER="desktopFlexBanner",e.DESKTOP_INLINE_SHOPPABLE_PLAYER="desktopInlineShoppablePlayer",e.MOBILE_INLINE_SHOPPABLE_PLAYER="mobileInlineShoppablePlayer",e.MOBILE_GRID_CAROUSEL_PLAYER="mobileGridCarouselPlayer",e.MOBILE_AD_414X125="mobileAd414x125"}(n||(n={}))},3063:function(e,t,a){"use strict";a.d(t,{Cb:function(){return O},Ay:function(){return z},gR:function(){return B},Iv:function(){return F},L0:function(){return U},uy:function(){return V},BT:function(){return j}});var n=a(4181),r=a(9968),i=a(2608),o=a(7961),s=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};var l=a(122),c=a(9367),d=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};class u{constructor(e){this.context=e}buildRequestHeaders(e,t){return Object.assign(Object.assign({[c.Y.Accept]:t.options.acceptHeader,[c.Y.AcceptLanguage]:e.acceptLanguage,[c.Y.Api_CSRF_Token]:e.csrfToken},t.options.contentTypeHeader&&{[c.Y.CONTENT_TYPE]:t.options.contentTypeHeader}),{[c.Y.AAPI_Slate_Token]:this.getEncryptedSlateToken()})}getEncryptedSlateToken(){const e=document.querySelector('meta[name="encrypted-slate-token"]');return e&&e.content?e.content:""}createAmazonAPIPlatform(){return{fetch:this.buildFetch(this.context),logger:()=>console}}buildFetch(e){return(t,a)=>d(this,void 0,void 0,function*(){const n=l.Z[e.stage][t.marketplaceId];if(!n)throw new Error(`Invalid marketplaceId value provided : ${t.marketplaceId}`);const r=`https://${n.endpoint}${a.path}`,i=this.buildRequestHeaders(t,a),o=Date.now(),c=yield((e,t)=>s(void 0,void 0,void 0,function*(){return fetch(e,Object.assign({credentials:"include",method:t.method,headers:t.headers},t.body&&{body:t.body}))}))(r,{method:a.options.method,headers:i,body:a.options.body||""}),d=Date.now()-o,u=new Map;return c.headers.forEach((e,t)=>{u.set(t,e)}),{headers:u,status:c.status,url:c.url,text:()=>c.text(),networkTimeMs:d}})}}class p extends Error{constructor(e,t){super(e),this.response=t}getErrorDetails(){return{errorName:"AmazonAPIErrorEntity",message:this.message,details:this.response}}toString(){return JSON.stringify(this.getErrorDetails()).replace(/"/g,"").replace(/\\/g,"")}}var m=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};class y{constructor(e,t){this.headers=new Map,e.headers.forEach((e,t)=>{this.headers.set(t,e)}),this.status=e.status,this.url=e.url,this.response=e,this.fetchTimeMs=t,this.networkTimeMs=e.networkTimeMs}json(){return m(this,void 0,void 0,function*(){if(this.responseJSON)return this.responseJSON;const e=yield this.response.text();return this.responseJSON=function(e){try{return JSON.parse(e)}catch(t){throw new p("AmazonAPI response is invalid: ",e)}}(e),this.responseJSON})}}var g=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};class f{constructor(e){this.platform=e}withSession(e){return{fetch:this.fetch(e)}}fetch(e){return t=>g(this,void 0,void 0,function*(){const a=Date.now(),n=t.build(),r=Date.now()-a,i=Date.now(),o=yield this.platform.fetch(e,n),s=Date.now()-i,l=new y(o,s);return this.platform.logger().debug(`Request build time = ${r}, fetch time = ${s}`),l})}}class A{withStage(e){return this.stage=e,this}build(){this.stage||(this.stage=o.BI.Devo);const e=new u({stage:this.stage}).createAmazonAPIPlatform();return new f(e)}}class E{constructor(e,t,a,n,r,i,o){this.acceptApiMediaType=e,this.pathAndQuery=t,this.method=a,this.body=n,this.contentTypeHeader=r,this.currencyOfPreferenceHeader=i,this.lobHeader=o}build(){const e=Object.assign(Object.assign(Object.assign(Object.assign({method:this.method,acceptHeader:this.acceptApiMediaType},this.contentTypeHeader&&{contentTypeHeader:this.contentTypeHeader}),this.currencyOfPreferenceHeader&&{currencyOfPreferenceHeader:this.currencyOfPreferenceHeader}),this.lobHeader&&{lobHeader:this.lobHeader}),{body:this.body});return{path:this.pathAndQuery,options:e}}}class v{constructor(){this.acceptEntityType="",this.requestEntityType=void 0,this.body="",this.expandFields=[],this.experimentIds=[],this.method="GET",this.paths=[],this.queryParams=new Map}withAcceptEntityType(e){return this.acceptEntityType=e,this}withRequestEntityType(e){return e&&(this.requestEntityType=e),this}appendURIPath(...e){return e.forEach(e=>this.paths.push(e)),this}withMethod(e){return this.method=e,this}withBody(e){return this.body=e,this}includeResource(...e){return e.forEach(e=>{this.expandFields.push(e)}),this}addQueryParam(e,t){return this.queryParams.set(e,t.toString()),this}includeExperiments(...e){return e.forEach(e=>{this.experimentIds.push(e)}),this}withCurrencyOfPreference(e){return this.currencyOfPreferenceHeader=e,this}withLineOfBusiness(e){return this.lobHeader=e,this}buildUri(){let e="";if(this.paths.forEach(t=>{e+=`/${t}`}),this.queryParams&&this.queryParams.size>0){e+="?";new Map([...this.queryParams.entries()].sort()).forEach((t,a)=>{e+=`${a}=${t}&`})}return e}buildAPIMediaType(e,t,a,n,r){let i=`application/vnd.com.amazon.api+${n}; type="${e}"`;return t&&t.length>0&&(i+=`; expand="${t.toString()}"`),r&&(i+="; skipMetadata=true"),a&&a.length>0&&(i+=`; experiments="${a.toString()}"`),i}buildAcceptApiMediaType(){return this.buildAPIMediaType(this.acceptEntityType,this.expandFields,this.experimentIds,"json",!1)}buildRequestMediaType(){return this.requestEntityType?this.buildAPIMediaType(this.requestEntityType,[],[],"json",!1):""}build(){const e=this.buildAcceptApiMediaType(),t=this.buildRequestMediaType();return new E(e,this.buildUri(),this.method,this.body,t,this.currencyOfPreferenceHeader,this.lobHeader)}}var T=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};class h{constructor({csrfToken:e,language:t,marketplaceId:a}){this.stage=o.BI.Devo,this.getSessionParameters=()=>({acceptLanguage:this.language,marketplaceId:this.marketplaceId,csrfToken:this.csrfToken}),this.language=t?t.replace("_","-"):"en-US",this.marketplaceId=a||"ATVPDKIKX0DER",this.csrfToken=e}getAmazonAPIClient(){return(new A).withStage(this.stage).build()}handleAAPIError(e){throw new p("Error occurred when fetching response from AmazonAPI",JSON.stringify(e))}withStage(e){return this.stage=(0,o.Tm)(e),this}request(e){return T(this,void 0,void 0,function*(){try{const t=this.getAmazonAPIClient(),a=this.getSessionParameters(),n=e({marketplaceId:this.marketplaceId,requestBuilder:new v}),o=yield t.withSession(a).fetch(n);if((0,i.kO)(i.$_,o.networkTimeMs),(0,i.kO)(`${i.Qr}_${(0,r.Gh)(r.D$.productInsights,!1)}`,o.networkTimeMs),o){const e=yield o.json();return o.status.toString().startsWith("2")||this.handleAAPIError(o),e}}catch(e){this.handleAAPIError(e)}})}}var S=a(4241),b=a(3541),I=a(8163),P=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};const _="BadgeColors_4da10b4",C="insightType_72rvpj15";class w{constructor(e){this.amazonApiService=e}getBatchProductData(e,t=!1){return P(this,void 0,void 0,function*(){try{const o=()=>a=>{const{requestBuilder:i,marketplaceId:o}=a;return i.withRequestEntityType(b.E.Response.product.resource).withAcceptEntityType(b.E.Response.collection.product.resource).appendURIPath("api","marketplaces",o,"products",e.join(",")).includeResource(...(e=>[`productImages(${b.E.Response.product.subResources.productImages})`,`buyingOptions[].dealBadge(${b.E.Response.product.subResources.buyingOptions.dealBadge})`,`buyingOptions[].dealDetails(${b.E.Response.product.subResources.buyingOptions.dealDetails})`,`buyingOptions[].price(${b.E.Response.product.subResources.buyingOptions.price})`,`title(${b.E.Response.product.subResources.title})`,(0,r.Gh)(r.D$.socialProofingAndStarRating,!1)===n.ts.T1||(e===I.Y_||e===I.D)&&(0,r.Gh)(r.D$.productInsights,!1)===n.ts.T1?`insights(${b.E.Response.product.subResources.insights})`:"",`buyingOptions[].promotionsUnified((${b.E.Response.product.subResources.buyingOptions.promotionsUnified})`,(0,r.NT)()?`buyingOptions[].callToAction(${b.E.Response.product.subResources.buyingOptions.callToAction})`:"",(0,S.isValidMarketplace)(e)&&(0,r.Gh)(r.D$.energyEfficiency,!1)===n.ts.T1?`energyEfficiency(${b.E.Response.product.subResources.energyEfficiencyV2})`:""].filter(e=>e))(o)).includeExperiments(...(e=>[_,C,(0,S.isValidMarketplace)(e)&&(0,r.Gh)(r.D$.energyEfficiency,!1)===n.ts.T1?"newEnergyEfficiencyRegulation_adh3j34sa":""].filter(e=>e))(o)).withMethod(c.v.GET),t&&i.appendURIPath("canonical"),i.build()},s=yield this.amazonApiService.request(o());if(s instanceof Error)return s;const l=s;return a=l,i=b.E.Response.collection.product.resource,a.type===i?l:new Error(`ProductV2AAPI received response that is not of the types: [${b.E.Response.collection.product.resource}, ${b.E.Response.error}]`)}catch(e){return new Error(`ProductV2AAPI unknown error: ${e instanceof Error?e.toString().substring(0,1e3):""}`)}var a,i})}}var O,L=a(6409),N=a(7067),R=a(791),D=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};let k,M;!function(e){e.ProductV2FetchSuccess="ProductV2FetchSuccess",e.ProductV2FetchError="ProductV2FetchError",e.ProductV2PollSuccess="ProductV2PollSuccess",e.ProductV2PollError="ProductV2PollError",e.ProductV2DealPollSuccess="ProductV2DealPollSuccess",e.ProductV2DealPollError="ProductV2DealPollError",e.ProductV2PollNoInViewAsins="ProductV2PollNoInViewAsins",e.ProductV2PollNoInViewDealAsins="ProductV2PollNoInViewDealAsins",e.ProductV2SegmentPollSuccess="ProductV2SegmentPollSuccess",e.ProductV2SegmentPollError="ProductV2SegmentPollError"}(O||(O={}));const x={locale:void 0},B=()=>x.locale,V=()=>M,j=e=>!(e.type!==n.j9.PRODUCT||!e.asin),F=e=>{const t=[];for(let a=0;a<e.length;a+=30){const n=e.slice(a,a+30);t.push(k.getBatchProductData(n))}return Promise.all(t)},U=(e,t)=>D(void 0,void 0,void 0,function*(){const a={},r={},o=e.filter(j).map(({asin:e,segmentItemId:t,revealData:n})=>(a[e]=t,r[e]=n,e)),s=e.filter(e=>e.type===n.j9.CUSTOM_TILE),l=yield F(o),c=e.reduce((e,{segmentItemId:t})=>Object.assign(Object.assign({},e),{[t]:{}}),{}),d={};return l.forEach(e=>{if(!e||e instanceof Error)return(0,i.pl)(O.ProductV2FetchError),void R.A.error(e,"Failed to fetch AAPI product data for initial load. ");(0,i.pl)(O.ProductV2FetchSuccess),(0,N.AY)(e).forEach(({carouselItem:e,deal:n})=>{c[a[e.asin]]=Object.assign(Object.assign({},e),t?t.get(e.asin):{}),r[e.asin]&&(c[a[e.asin]].revealData=r[e.asin]),d[e.asin]=Object.assign({},n)})}),s.forEach(e=>{c[e.segmentItemId]=Object.assign({},e)}),{items:c,deals:d}});var z={initialize:({csrfToken:e,locale:t,marketplaceId:a,stageFlag:n})=>{const r="prod"===n?o.BI.Prod:o.BI.PreProd,i=new h({csrfToken:e,language:t,marketplaceId:a}).withStage(r);k=new w(i),M=new L.mT(i),x.locale=t.replace("_","-")}}},3085:function(e,t,a){"use strict";a.d(t,{R:function(){return A},n:function(){return f}});var n,r=a(3799),i=a(4181),o=a(4436),s=a(8406);!function(e){e.MShop="mShop",e.Other=""}(n||(n={}));var l=a(5848),c=a(639),d=a(3472),u=a(6656),p=a(9968),m=a(9545);const y=()=>{const e=function(){const e=[];return m.A.isWeblabEnabled(m.A.Keys.ShoppingNotificationEvent)&&e.push(`AMAZONLIVE_SHOPPING_NOTIFICATION_EVENT_169131:${m.A.getTreatment(m.A.Keys.ShoppingNotificationEvent)}`),[p.D$.alssDeprecationBroadcastEvents,p.D$.alssDeprecationShoppingCarouselV2,p.D$.alssDeprecationCarouselV2,p.D$.alssDeprecationCarouselProducts].forEach(t=>{const a=(0,p.Gh)(t,!1);e.push(`${t}:${a}`)}),e}(),t=(0,p.WD)();return t&&e.push(...t),`${e}`};var g=a(1385);const f=e=>{const t=o.A.get(o.A.Keys.AppVersion),a=!!window.Globals.A&&window.Globals.A.capabilities.isAmazonApp,p=!(!t||"NA"===t),{source:m,showId:f,broadcastId:A,broadcastStatus:E,isMshop:v=a||p,isDocked:T=!1,playerExpanded:h=!1,playerMuted:S=!0,promotedItemId:b="",isPlayerInViewAfterDelay:I=!1,videoOrientation:P,strategyId:_,ingressWidget:C,isPipActive:w,linkCode:O,placementId:L,tag:N,ascsubtag:R}=e,D=s.A.get(s.A.Keys.PlacementId),k={[c.S.SlotName]:s.A.get(s.A.Keys.AdSlotName),[c.S.CustomerId]:s.A.get(s.A.Keys.CustomerId),[c.S.MarketplaceId]:o.A.get(o.A.Keys.MarketplaceId),[c.S.PageType]:(0,r.getPageType)()||s.A.get(s.A.Keys.PageType),[c.S.RequestId]:s.A.get(s.A.Keys.RequestId),[c.S.SessionId]:s.A.get(s.A.Keys.SessionId),[c.S.RefMarker]:(0,r.getQueryParameter)("ref")||(0,r.getQueryParameter)("ref_")||s.A.get(s.A.Keys.RefMarker),[c.S.Experience]:o.A.get(o.A.Keys.Display),[c.S.TrafficType]:"",[c.S.EventId]:"",[c.S.StreamSessionId]:"",[c.S.BroadcastIdType]:"",[c.S.Asin]:"",[c.S.SlotId]:"",[c.S.PromotedItemId]:"",[c.S.PlayerStatus]:"",[c.S.StringPayload]:"",[c.S.IntPayload]:"",[c.S.Context]:"",[c.S.Platform]:"",[c.S.JsonPayload]:"",[c.S.ShowId]:"",[c.S.BroadcastId]:"",[c.S.BroadcastStatus]:"",[c.S.Widget]:"",[c.S.EventTriggerType]:"",[c.S.EventType]:"",[c.S.WeblabIds]:"",[c.S.PageId]:"",[c.S.PipActive]:!1,[c.S.CarouselItemMetadata]:""},M=JSON.stringify(Object.assign(Object.assign(Object.assign({source:m,isMshop:v,isDocked:T,playerExpanded:h,isPlayerInViewAfterDelay:I,videoOrientation:P,appVersion:t,strategyId:_,ingressWidget:C},D&&{amabotPlacementId:D}),{linkCode:O,deeplinkAsin:(0,g.g_)()}),L===i.VA&&{placementId:L,tag:N,ascsubtag:R}));return Object.assign(Object.assign({},k),{[c.S.JsonPayload]:M,[c.S.ShowId]:f,[c.S.BroadcastId]:A,[c.S.BroadcastStatus]:E,[c.S.PlayerStatus]:S?l.M.Muted:l.M.Unmuted,[c.S.PromotedItemId]:b,[c.S.Platform]:v?n.MShop:n.Other,[c.S.WeblabIds]:y(),[c.S.PageId]:(0,r.getPageIdForMetrics)(),[c.S.TrafficType]:(0,u.qE)(),[c.S.Experience]:(0,d.$)(k.experience,h),[c.S.PipActive]:w,[c.S.ReportedTime]:Math.floor((new Date).getTime()),[c.S.UserAgent]:navigator.userAgent})},A=()=>{const{pf_rd_r:e="",pf_rd_p:t="",pd_rd_w:a="",pd_rd_r:n="",pd_rd_wg:o=""}=s.A.get(s.A.Keys.LinkParameters);return{pf_rd_r:e||(0,r.getRequestId)(),pf_rd_p:t||s.A.get(s.A.Keys.PlacementId),pf_rd_m:(0,r.getMerchantId)(),pf_rd_t:(0,r.getPageType)()||s.A.get(s.A.Keys.PageType),pf_rd_i:(0,r.getPageId)(),pf_rd_s:s.A.get(s.A.Keys.AdSlotName),pd_rd_w:a,pd_rd_r:n,pd_rd_wg:o,pd_rd_i:"",linkCode:(0,r.getQueryParameter)(i.ki)||"",tag:(0,r.getQueryParameter)(i.Dk)||"",ascsubtag:(0,r.getQueryParameter)(i.XB)||"",asc_contentid:"",placementId:(0,r.getQueryParameter)(i.ug)||""}}},3172:function(e,t,a){"use strict";a.d(t,{E3:function(){return p},N8:function(){return u},gQ:function(){return c}});var n=a(1081),r=a(772),i=a(4181),o=a(8272),s=a(743),l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const c="unifiedPlaylist",d={corePlaylist:[]},u=(e=d,t)=>t.type===s.a?Object.assign(Object.assign({},e),{corePlaylist:t.payload.map(e=>e.source===i.kL.AL?Object.assign(Object.assign({},(0,o.V)([e])[0]),{source:i.kL.AL}):Object.assign(Object.assign({},(0,o.B)([e])[0]),{source:i.kL.VSE}))}):e;const p=(0,n.Mz)([r.ZG,r.jN,e=>e[c].corePlaylist],(e,t,a)=>a.map(e=>{var{source:t}=e,a=l(e,["source"]);return t===i.kL.AL?function({channelTitle:e,durationInSeconds:t,id:a,slateImageUrl:n,status:r,title:o,selectionReason:s}){return{channelTitle:e,videoLength:t,broadcastId:a,slateImageUrl:n,status:r,broadcastTitle:o,selectionReason:s,source:i.kL.AL}}(a):function({channel:{title:e,slateImageUrl:t,logoImageUrl:a},broadcast:{id:n,title:r}}){return{channelTitle:e,broadcastId:n,slateImageUrl:t,status:i.qd.VOD,broadcastTitle:r,selectionReason:"VSE",source:i.kL.VSE,creatorProfileImageUrl:a}}(a)}).filter(a=>a.source!==t||a.broadcastId!==e))},3224:function(e,t,a){"use strict";a.d(t,{a_:function(){return o},oy:function(){return c},um:function(){return d}});var n=a(1081),r=a(8232),i=a(3912);const o="ads",s={safeFramePresent:!1,redirectUrl:void 0},l=(0,i.A)(s,{[r.Xt]:e=>Object.assign(Object.assign({},e),{safeFramePresent:!0}),[r.NI]:(e,t)=>Object.assign(Object.assign({},e),{redirectUrl:t.payload})});t.Ay=l;const c=e=>e[o].redirectUrl,d=(0,n.j8)({safeFramePresent:e=>e[o].safeFramePresent,redirectUrl:c})},3295:function(e,t,a){"use strict";a.d(t,{D_:function(){return l},LB:function(){return d},md:function(){return u},n_:function(){return c}});var n=a(3799),r=a(4181),i=a(791),o=a(9133),s=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const l=e=>e,c=(e,t,a)=>{window.P&&window.P.when("mash").execute(r=>{r.addEventListener(e,r=>{if(r.detail&&r.detail.payload){const o=r.detail.payload,{requestId:l}=o,c=s(o,["requestId"]);if((0,n.getRequestId)()===l)try{const e=a(c);t(e)}catch(t){i.A.error((({event:e,rawPayload:t})=>`There was an issue transforming the payload when listening to the MASH event '${e}', for this payload ${JSON.stringify(t)}.`)({event:e,rawPayload:r}))}}})})};function d({mash:e,broadcastUrl:t,slateImageUrl:a}){const n=({detail:{name:i,data:s}})=>{if(i!==r.Zw.HOT_LOAD_HANDSHAKE_REQUEST||!s||!s.ssnapRootViewId)return;e.removeEventListener(r.kz.CATAMARAN_TO_FLAGSHIP,n),(0,o.QH)(s.ssnapRootViewId);const l={type:r.kz.FLAGSHIP_TO_CATAMARAN,detail:{name:r.Zw.HOT_LOAD_HANDSHAKE_RESPONSE,data:{ssnapRootViewId:(0,o.Ky)(),parentViewInstanceId:(0,o.YP)(),broadcastUrl:t,slateImageUrl:a}}};e.dispatchEvent(l)};e.addEventListener(r.kz.CATAMARAN_TO_FLAGSHIP,n)}const u=e=>{window.P&&window.P.when("mash").execute(t=>{t.appCX.bottomSheet.present(Object.assign({type:"modal",id:"BottomSheet",extendable:!0,bottomTabVisible:!1,dragDownToCloseEnabled:!0},e))})}},3472:function(e,t,a){"use strict";a.d(t,{$:function(){return n}});const n=(e,t)=>e+(t?";playerExpanded":"")},3501:function(e,t,a){"use strict";a.d(t,{q7:function(){return d},NW:function(){return l},cD:function(){return u},Zu:function(){return c}});var n,r=a(4181),i=a(6338),o=a(8163);!function(e){e.SELLER="Seller",e.VENDOR="Vendor",e.CUSTOMER="Customer",e.INFLUENCER="Influencer",e.FIRST_PARTY="1P",e.THIRD_PARTY="3P",e.UNKNOWN="UNKNOWN"}(n||(n={}));var s=a(4436);const l=(e,t="")=>{const a={creatorType:n.UNKNOWN,publicName:t,profileLink:"",profileImageUrl:"",followMetadata:{entityId:"",entityType:""}};return(0,i.A)(a,e)},c=e=>{switch(e){case n.INFLUENCER:return r.vp.INFLUENCER;case n.CUSTOMER:return r.vp.CUSTOMER;case n.SELLER:return r.vp.SELLER;case n.THIRD_PARTY:return r.vp.THIRD_PARTY;case n.FIRST_PARTY:return r.vp.FIRST_PARTY;case n.VENDOR:return r.vp.VENDOR;default:return r.vp.UNKNOWN}};function d(e,t){const a=s.A.get(s.A.Keys.MarketplaceId);return e?(0,o.Qb)(a)+e:e||t!==r.vp.INFLUENCER?"":`${(0,o.Qb)(a)}/live`}function u(e){const t=(0,o.Qb)(s.A.get(s.A.Keys.MarketplaceId));switch(e){case"IN":return t.endsWith("amazon.in");case"US":return t.endsWith("amazon.com");default:return!1}}},3541:function(e,t,a){"use strict";a.d(t,{E:function(){return n}});const n={Request:{sharedContents:{votes:{castCustomerVote:"sharedcontents.cast-vote.request/v1",removeCustomerVote:"sharedcontents.remove-vote.request/v1"}},cart:{addItems:"cart.add-items.request/v1",modifyItems:"cart.modify-items.request/v1",items:"cart.items.request/v1"}},Response:{feed:{stories:"feeds.feed-stories/v1"},sharedContents:{resource:"sharedcontents.content/v1",votes:{getVotesAndCustomerVote:"sharedcontents.votes-and-customer-vote/v1",getVotes:"sharedcontents.votes/v1",getCustomerVote:"sharedcontents.customer-vote/v1",castCustomerVote:"sharedcontents.cast-vote/v1",removeCustomerVote:"sharedcontents.remove-vote/v1"}},customer:{profile:"customer.profile.mini/v1",inflluencer:"customer.influencer/v1"},product:{resource:"product/v2",subResources:{productImages:"product.product-images/v2",productVideos:"product.offer.product-videos/v1",buyingOptions:{dealBadge:"product.deal-badge/v1",dealDetails:"product.deal-details/v1",price:"product.price/v1",promotionsUnified:"product.promotions-unified/v1",callToAction:"product.call-to-action/v1"},title:"product.offer.title/v1",insights:"product.product-insights/v2",energyEfficiencyV2:"product.energy-efficiency/v2"}},collection:{product:{resource:"collection(product/v2)/v1"}},entity:{videoDetails:"aapi.vsevideodataaggregatorcontracts.vse.get-video-metadata.response/v1"},cart:{addItems:"cart.add-items/v1",modifyItems:"cart.modify-items/v1",items:"cart.items/v1",count:"cart.count/v1"},error:"error/v1"}}},3839:function(e,t,a){"use strict";a.d(t,{iW:function(){return d},kx:function(){return p},l$:function(){return u},wt:function(){return m}});var n=a(4373),r=a(4181),i=a(3799),o=a(4248),s=a(5491),l=a(5439),c=a(9968);const d=e=>{const t=(o.A.get(l.m.LiveBadgeType)||n.LiveBadgeTypes.Live).toUpperCase();switch(t){case n.LiveBadgeTypes.Live:case n.LiveBadgeTypes.None:case n.LiveBadgeTypes.NoPreviouslyLive:return t;case n.LiveBadgeTypes.ViewerCount:return e===r.uj.LIVE?t:n.LiveBadgeTypes.Live;default:return n.LiveBadgeTypes.Live}},u=(e,t,a)=>null!=a&&!0===a.trimmingEnabled&&null!=a.hlsUrl&&null!=a.secondsTrimmed&&(0,c.$v)(c.D$.trimmingEnabled)?a.hlsUrl:e||(t||""),p=(e,t,a)=>e&&!t?a===n.LiveBadgeTypes.NoPreviouslyLive?i.StatusBadgeTypes.Live:a.toString():t&&!e&&a!==n.LiveBadgeTypes.None&&a!==n.LiveBadgeTypes.NoPreviouslyLive&&(0,c.Gh)(c.D$.previouslyLiveBadge,!0)===c.W3?i.StatusBadgeTypes.PreviouslyLiveBadge:i.StatusBadgeTypes.None,m=(e,t=!1)=>e?{feeDisclosureText:s.A.get("sponsored-product-label"),feeDisclosureUrl:""}:{feeDisclosureText:t?s.A.get("amazon-live-influencer-fee-revenue-disclosure-link-text"):s.A.get("amazon-live-influencer-fee-disclosure-link-text"),feeDisclosureUrl:s.A.get("amazon-live-catamaran-influencer-fee-disclosure-url")}},3912:function(e,t,a){"use strict";function n(e,t){return function(a=e,n){return Object.prototype.hasOwnProperty.call(t,n.type)?t[n.type](a,n):a}}a.d(t,{A:function(){return n}})},4033:function(e,t,a){"use strict";a.d(t,{Tw:function(){return l},UT:function(){return c},Wp:function(){return s},a_:function(){return i},xW:function(){return d}});var n=a(2607),r=a(2353);const i="follow",o={followAssetsLoaded:!1,followingEntity:!1};t.Ay=(e=o,t)=>{switch(t.type){case n.jm:return Object.assign(Object.assign({},e),t.data);case r.CQ:return Object.assign(Object.assign({},e),{followAssetsLoaded:t.payload});case n.j5:return Object.assign(Object.assign({},e),{followingEntity:t.payload});default:return e}};const s=e=>e[i].entityId,l=e=>e[i].entityType,c=e=>e[i].followAssetsLoaded,d=e=>e[i].followingEntity},4035:function(e,t,a){"use strict";a.d(t,{A:function(){return ks}});var n=a(2960),r=a(6986),i=a(772),o=a(8791),s=a(8742),l=a(2056),c=a(2246),d=a(3052),u=a(7644),p=a(8263),m=a(6515),y=a(8328),g=a(7542),f=a(5174),A=a(4920),E=a(1906),v=a(4249),T=a(7931),h=a(5061),S=a(5224),b=a(6049),I=a(2607);const P="lazyLoad",_={isCoreReady:!1};var C=(e=_,t)=>t.type===I.jO?Object.assign(Object.assign({},e),{isCoreReady:!0}):e;var w=a(3224),O=a(4033),L=a(4924),N=a(7573),R=a(8718),D=a(6328),k=a(9773),M=a(2033);const x="PAGE_LOAD",B="latencyTimestamps",V={pageloadTimestamp:0,playerInitTimestamp:0,videoLoadedTimestamp:0,carouselHighlightChangeTimestamp:{timedMetadataEvent:{viewerTimestamp:0,creatorTimestamp:0,segmentItemId:""},highlightedSegmentChangeEvent:{timestamp:0,segmentItemId:""}},widgetInViewTimestamp:0,posterLoadEndTimestamp:0,carouselLoadEndTimestamp:0};var j=(e=V,t)=>{switch(t.type){case N.wf:return Object.assign(Object.assign({},e),{playerInitTimestamp:Date.now()});case x:return Object.assign(Object.assign({},e),{pageloadTimestamp:Date.now()});case M.aU:return Object.assign(Object.assign({},e),{videoLoadedTimestamp:Date.now()});case N.$9:{const a=JSON.parse(t.payload.text),n=null==a?void 0:a.highlightedSegmentItemId,r=null==a?void 0:a.creatorTimestamp;return n&&r?Object.assign(Object.assign({},e),{carouselHighlightChangeTimestamp:Object.assign(Object.assign({},e.carouselHighlightChangeTimestamp),{timedMetadataEvent:{viewerTimestamp:Date.now(),creatorTimestamp:new Date(r).getTime(),segmentItemId:n}})}):e}case R.NL:return Object.assign(Object.assign({},e),{carouselHighlightChangeTimestamp:Object.assign(Object.assign({},e.carouselHighlightChangeTimestamp),{highlightedSegmentChangeEvent:{timestamp:t.time,segmentItemId:t.itemId}})});case R.Bf:return Object.assign(Object.assign({},e),{carouselHighlightChangeTimestamp:V.carouselHighlightChangeTimestamp});case D.re:return Object.assign(Object.assign({},e),{widgetInViewTimestamp:Date.now()});case k.O:return Object.assign(Object.assign({},e),{posterLoadEndTimestamp:t.payload.timestamp});case R.NE:return Object.assign(Object.assign({},e),{carouselLoadEndTimestamp:Date.now()});default:return e}};const F=e=>e[B].playerInitTimestamp,U=e=>e[B].pageloadTimestamp,z=e=>e[B].videoLoadedTimestamp,G=e=>e[B].carouselHighlightChangeTimestamp,$=e=>e[B].widgetInViewTimestamp,W=e=>e[B].posterLoadEndTimestamp,H=e=>e[B].carouselLoadEndTimestamp;var J=a(3172),K=a(5686);const Y="SET_TRANSCRIPT",q="transcript",Z={segments:[],language:"en",displayTranscriptAllowed:!1};var X=a(1755),Q=(0,n.HY)({broadcast:i.s1,configuration:s.p,vod:l.a,carousel:o.Ay,shoppingNotification:c.A,reactionData:p.A,interactiveCounts:d.j,engagementHeatmaps:u.v,upNext:m.Ay,pinnedMessage:y.Ay,promotions:g.Ay,trimming:f.A,initialBroadcast:A.id,[h.a_]:h.Ay,[S.a_]:S.Ay,[b.a_]:b.Ay,[w.a_]:w.Ay,[K.a_]:K.Ay,[O.a_]:O.Ay,[P]:C,[L.a_]:L.Ay,[E.a_]:E.Lq,[v.a_]:v.Ow,[B]:j,[J.gQ]:J.N8,[T.Yk]:T.Pp,[q]:function(e=Z,t){return t.type===Y?Object.assign(Object.assign({},e),{segments:t.payload.segments,language:t.payload.language}):e},[X.a_]:X.lJ}),ee=a(167),te=a(6389),ae=a(4181),ne=a(3799);const re="FETCH_VIDEO_METADATA",ie=(e,t,a,n)=>({type:re,payload:{broadcastId:e,stage:t,csrfToken:a,playlist:n}});var oe=a(2289);var se,le;!function(e){e.VIDEO_DETAILS="videoDetails",e.VIDEO_RESOURCES="videoResources",e.ENTITY="entity"}(se||(se={})),function(e){e.CREATOR="CREATOR",e.PRODUCT_ASIN="PRODUCT_ASIN",e.UNKNOWN="UNKNOWN",e.VIDEO_CONTENT_ID="VIDEO_CONTENT_ID"}(le||(le={}));const ce={id:"",url:"",title:"",status:ae.uj.VOD,source:ae.kL.NONE,moderated:!1,chatStatus:ae.BA.DISABLED,publicChatroomHuddleId:"",videoMetadata:{contentId:"",customerId:"",sessionId:""},startTime:0,endTime:0,createdTime:0,changeBroadcastOrigin:"initial",videoOrientation:ae.R_.HORIZONTAL,livePlaybackUrl:"",asin:"",trimming:void 0,segments:{name:"",segmentItems:[]},inViewAsins:new Set,hasSponsoredProducts:!1,sponsoredCarouselItems:null},de={id:"",pageUrl:"",slateImageUrl:"",title:"",featureGroup:ae.vp.THIRD_PARTY,logoImageUrl:"",startTime:0},ue={follow:{entityId:"",entityType:"",followAssetsLoaded:!1,followingEntity:void 0},associate:{linkCode:"",tag:"",subtag:"",offSiteTag:""},channel:de,broadcast:Object.assign(Object.assign({},ce),{source:ae.kL.VSE}),carouselAsins:[],captionsURL:""};var pe=a(3501);const me=e=>{if(e){return e[se.ENTITY][se.VIDEO_DETAILS].map(e=>((e,t=ue)=>{const{contentId:a,url:n,title:r,vendorTrackingId:i,vendorName:o,referenceId:s,relatedProductsAsins:l,vendorCode:c,closedCaptions:d,creator:u,imageResource:{url:p},height:m,width:y}=e,{creatorType:g,publicName:f,profileLink:A,profileImageUrl:E,followMetadata:v}=(0,pe.NW)(u,o),T=(0,pe.Zu)(g),h=(0,pe.q7)(A,T),S=(0,oe.k1)({heightPx:m,widthPx:y});return{follow:Object.assign(Object.assign({},t.follow),{entityId:v.entityId,entityType:v.entityType}),associate:Object.assign(Object.assign({},t.associate),{linkCode:ae.Iv.AL,tag:i,subtag:s}),channel:Object.assign(Object.assign({},t.channel),{id:c,pageUrl:h,slateImageUrl:p,logoImageUrl:E,title:f,featureGroup:T}),broadcast:Object.assign(Object.assign({},t.broadcast),{url:n,title:r,id:a,videoOrientation:S,relatedProductsAsins:l}),carouselAsins:l.split(","),captionsURL:d}})(e))}throw new Error("Data not valid")};var ye=a(4436),ge=a(1786),fe=a(122),Ae=a(8163);const Ee=new Map([[Ae.$1,"en-US"],[Ae.NY,"en-CA"],[Ae.hw,"es-MX"],[Ae.sp,"es-MX"],[Ae.o2,"pt-BR"],[Ae.Zv,"pt-BR"],[Ae.D,"en-IN"],[Ae.Y_,"en-IN"],[Ae.$0,"ja-JP"],[Ae.Ng,"en-GB"],[Ae.md,"de-DE"],[Ae.Zu,"fr-FR"],[Ae.xk,"es-ES"],[Ae.Gm,"it-IT"]]);function ve(e,t){if(!(e=(null==e?void 0:e.trim())||null)&&!t)return"en-US";if(!e)return Ee.get(t)||"en-US";if(/^[a-z]{2}-[A-Z]{2}$/.test(e))return e;const a=e.match(/^([a-zA-Z]{2})_([a-zA-Z]{2})$/);return a?`${a[1].toLowerCase()}-${a[2].toUpperCase()}`:e}var Te=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};function he(e,t,a){return Te(this,void 0,void 0,function*(){const n=ye.A.get(ye.A.Keys.MarketplaceId),r=ve(ye.A.get(ye.A.Keys.Locale)||"en-US",n),i=`https://${(0,fe.d)(n,t)}/custom/vsevideodataaggregatorcontracts/amazon-api-vse`,o=ge.A.get(),s=yield fetch(`${i}/${n}/get-video-metadata`,{method:"POST",body:JSON.stringify({identifiers:[{id:e,type:le.VIDEO_CONTENT_ID}],queryContext:{placement:"ASVH"}}),credentials:"include",headers:Object.assign({"Accept-Language":`${r}`,Accept:'application/vnd.com.amazon.api+json; type="aapi.vsevideodataaggregatorcontracts.vse.get-video-metadata.response/v1"',"Content-type":'application/vnd.com.amazon.api+json; type="aapi.vsevideodataaggregatorcontracts.vse.get-video-metadata.request/v1"',"x-api-csrf-token":a},o&&{"x-amzn-encrypted-slate-token":o})});if(200!==s.status){const t=yield s.text();throw new Error(`Failed to get videoId: ${e}. Error: ${t}`)}return s.json()})}var Se=a(791),be=a(8414),Ie=a(2608),Pe=a(3063),_e=a(7067);function*Ce(e,t){const a=(yield(0,ee.T1)(Pe.Iv,e)).reduce((e,t)=>(!t||t instanceof Error?((0,Ie.pl)(Pe.Cb.ProductV2FetchError),Se.A.error(t,"Failed to fetch VOD AAPI product data")):((0,Ie.pl)(Pe.Cb.ProductV2FetchSuccess),(0,_e.AY)(t).forEach(({carouselItem:t,deal:a})=>{e[t.asin]={carouselItem:t,deal:a}})),e),{}),{items:n,deals:r}=function(e,t){const a={},n={};return((null==t?void 0:t.carouselItems)||Object.keys(e).map(e=>({asin:e}))).forEach(r=>{const i=e[r.asin];i&&i.carouselItem&&(a[(0,be.v4)()]=Object.assign(Object.assign({},i.carouselItem),t?r:{}),n[r.asin]=i.deal)}),{items:a,deals:n}}(a,t);yield(0,ee.yJ)({type:I._I,data:{items:n,deals:r}})}var we=a(9968),Oe=a(6965),Le=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};function Ne(e,t,a,n){return Le(this,void 0,void 0,function*(){const r=ye.A.get(ye.A.Keys.MarketplaceId),i=ye.A.get(ye.A.Keys.DeviceType),o=ge.A.get(),s=ve(ye.A.get(ye.A.Keys.Locale)||"en-US",r),l=`https://${(0,fe.d)(r,t)}/custom/asvmetadataaggregationservicecontracts/amazon-api-asv`,c=yield fetch(`${l}/${r}/get-metadata`,{method:"POST",body:JSON.stringify({acis:e,requestContext:{userAgent:window.navigator.userAgent,deviceType:i===ae.PX.DESKTOP?"desktop":"mWeb",widgetId:"sp_asv_ssw",getSponsoredProducts:n}}),credentials:"include",headers:Object.assign({"Accept-Language":`${s}`,Accept:'application/vnd.com.amazon.api+json; type="aapi.asvmetadataaggregationservicecontracts.asv.get-metadata.response/v1"',"Content-type":'application/vnd.com.amazon.api+json; type="aapi.asvmetadataaggregationservicecontracts.asv.get-metadata.request/v1"',"x-api-csrf-token":a},o&&{"x-amzn-encrypted-slate-token":o})});if(200!==c.status){const t=yield c.text();throw new Error(`Failed to get metadata for: ${e.join(", ")}. Error: ${t}`)}return c.json()})}const Re=e=>{if(!e.asin||!e.type)throw new Error("Invalid ASVMAS AAPI carousel item: missing required fields");return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({asin:e.asin,type:e.type},e.id&&{id:e.id}),e.clickUrl&&{clickUrl:e.clickUrl}),e.adId&&{adId:e.adId}),e.sku&&{sku:e.sku}),e.merchantId&&{merchantId:e.merchantId})},De={[ae.kL.VSE]:{success:"AmazonLiveFlagship:FetchASVMASMetadata:Success",error:"AmazonLiveFlagship:FetchASVMASMetadata:Error"},[ae.kL.AL]:{success:"AmazonLiveFlagship:FetchASVMASMetadataAL:Success",error:"AmazonLiveFlagship:FetchASVMASMetadataAL:Error"}};function*ke({broadcastId:e,stage:t,csrfToken:a,source:n}){try{const r=(e=>{if(!e||!e[se.ENTITY]||!e[se.ENTITY][se.VIDEO_RESOURCES])throw new Error("Invalid ASVMAS AAPI response structure");const t=e[se.ENTITY][se.VIDEO_RESOURCES];if(!Array.isArray(t)||0===t.length)throw new Error("No video resources found in ASVMAS AAPI response");const a=t[0];if(!Array.isArray(a.carouselItems))throw new Error("Invalid ASVMAS AAPI carousel response");return{carouselItems:a.carouselItems.map(Re)}})(yield(0,ee.T1)(Ne,[(0,Oe.al)(e,void 0,n)],t,a,!0));return(0,Ie.pl)(De[n].success),r}catch(e){return Se.A.error(e,"ASVMAS metadata fetch failed"),(0,Ie.pl)(De[n].error),null}}var Me=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};var xe=a(5732);const Be=e=>{var t,a;if(!e)throw new Error("Invalid file url");const n=(new xe.WebVTTParser).parse(e,e=>{if(e)throw new Error(`WebVTT parsing failed: ${e}`)});return null!==(a=null===(t=null==n?void 0:n.cues)||void 0===t?void 0:t.map(e=>({startTime:e.startTime,endTime:e.endTime,text:e.text})))&&void 0!==a?a:[]};var Ve;!function(e){e.VTT="vtt",e.JSON="json"}(Ve||(Ve={}));var je=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};function Fe(e="en",t,a){return je(this,void 0,void 0,function*(){try{const n=yield function(e){return Me(this,void 0,void 0,function*(){const t=new AbortController,a=setTimeout(()=>t.abort(),5e3);try{const n=yield fetch(e,{signal:t.signal});if(clearTimeout(a),!n.ok){const t=new Error(`Failed to download transcript file: ${n.status} ${n.statusText}`);throw Se.A.error(t,`URL: ${e}`),t}return yield n.text()}catch(t){if(clearTimeout(a),"AbortError"===t.name)throw Se.A.error("Request timed out",`Download request timeout for URL: ${e}`),new Error(`Download request timeout for URL: ${e}`);throw Se.A.error(t,`Network error while downloading transcript file from: ${e}`),t}})}(t);let r;switch(a){case Ve.VTT:r=Be(n);break;case Ve.JSON:r=[];break;default:throw new Error(`Unsupported transcript type: ${a}`)}return{transcript:{language:e,segments:r}}}catch(a){return Se.A.error(a,`Failed to download and parse transcript from URL: ${t}`),{transcript:{language:e,segments:[]}}}})}var Ue=a(4653),ze=a(2231);const Ge="AmazonLiveFlagship:FetchVseMetaData:Success",$e="AmazonLiveFlagship:FetchVseMetaData:Error",We="AmazonLiveFlagship:FetchVideoMetadata:Error";function*He(e,t,a){try{yield(0,ee.yJ)({type:I.po,data:!0});const n=yield(0,ee.T1)(he,e,t,a),r=me(n);if(!r.length)throw Error(`Missing VSE metadata: ${e}`);const{broadcast:i,channel:o,associate:s,carouselAsins:l,follow:c,captionsURL:d}=r[0];(0,Ie.pl)(Ge),yield(0,ee.yJ)({type:N.Ol,payload:d});const u=yield(0,ee.Lt)(Ue.J);if((0,we.Gh)(we.D$.mwebTranscripts,!0)===we.T1&&(0,ze.Fr)()&&!(0,ne.isMshop)()&&u)try{const[e,t]=d.split(","),a=yield(0,ee.T1)(Fe,e,t,Ve.VTT);yield(0,ee.yJ)(((e,t)=>({type:Y,payload:{segments:e,language:t}}))(a.transcript.segments,a.transcript.language))}catch(e){Se.A.error(e,`Failed to fetch transcript from URL: ${d}`)}return yield(0,ee.yJ)({type:I.hX,data:i}),yield(0,ee.yJ)({type:I.po,data:!1}),yield(0,ee.yJ)({type:I.MC,data:s}),yield(0,ee.yJ)({type:I.ZN,data:o}),yield(0,ee.yJ)({type:I.jm,data:Object.assign(Object.assign({},c),{followAssetsLoaded:!0})}),l}catch(e){return Se.A.error(e,"VSE metadata fetch failed"),(0,Ie.pl)($e),null}finally{yield(0,ee.yJ)({type:I.po,data:!1})}}function*Je(e){const{broadcastId:t,stage:a,csrfToken:n}=e.payload;try{if(!n)throw new Error("Missing csrfToken");const e=[(0,ee.T1)(He,t,a,n),...(0,we.$v)(we.D$.sponsoredProducts,!0)?[(0,ee.T1)(ke,{broadcastId:t,stage:a,csrfToken:n,source:ae.kL.VSE})]:[]],[r,i]=yield(0,ee.Q7)(e);yield(0,ee.T1)(Ce,i?i.carouselItems.map(e=>e.asin):r,i)}catch(e){Se.A.fatal(e,"Failed to fetch video metadata"),(0,Ie.pl)(We)}}function*Ke(){yield(0,ee.p8)(re,Je)}var Ye=a(8550);const qe={[I.M9.NEW_TAB]:"NewTabNavigation:Failed",[I.M9.SELF]:"SelfNavigation:Failed"},Ze=(e,t,a)=>{const n=new URL(t.startsWith("/")?`${document.location.origin}/${t}`:t),r=`${n.hostname}/${n.pathname.split("/")[2]}`;if(e)return void Se.A.info(`Navigated using ${a} to ${r}`);const i=ne.UserAgent.getBrowserName();if("WebKit"===i||!(0,ne.isMshop)()&&"Chrome WebView"===i)return(0,Ie.pl)("Navigation:Attempted"),void Se.A.warn(`Navigation attempted in browser ${i} using ${a} to ${r}`);(0,Ie.pl)(qe[a]),Se.A.fatal(`Failed to navigate using ${a} to ${r}`)};function Xe({payload:{hrefUrl:e,target:t}}){const a=window.open(e,t);Ze(a,e,t)}function*Qe(){yield(0,ee.jP)(I.Fy,Xe)}var et=a(3295),tt=a(6656),at=a(9133);const nt="amazonlive",rt=(0,Oe.Lv)({producerId:nt,schemaId:"csa.VideoInteractions.1"}),it=(0,Oe.gQ)({producerId:nt,schemaId:ae._w.IMPRESSION});var ot=a(1408);const st=({asin:e,hrefUrl:t,broadcastId:a,isVSE:n,failCallback:r,successCallback:i,urlMetrics:o})=>{if(!e||!t)return;const s=ye.A.get(ye.A.Keys.Display),l=(0,Oe.al)(a,e,n?ae.kL.VSE:ae.kL.AL),c=new URL(t,(()=>{const e=(0,at.XC)(),t=ye.A.get(ye.A.Keys.MarketplaceId),a=(0,Ae.kh)(t);return(0,Ae.yk)(a,e)})()).href,d=Date.now().toString(),u=(0,ne.getPageId)(),p=(0,tt.h3)(),m=(0,ne.getSubPageType)(),y=n?"video":"broadcast",g={placementId:s,csaProducerId:nt,requestId:(0,ne.getRequestId)(),pageId:u,pageType:p,subPageType:m,pageVisitTime:d,itemId:l,elementId:a,elementType:y},f=o?o.tag:void 0,A=o?Object.entries(o).map(([e,t])=>({key:e,value:t})):void 0,E={aci:l,asin:e,displayPageUrl:c,getPageId:u,getPageVisitTime:d,shouldNotUseSkylineUIBottomSheet:!0,mediaId:a,experience:s,placementContext:g,tag:f,linkParameters:A},v=window.screen.height-104;(0,et.md)({id:"ANPShopSheet",ssnap:{featureName:"anp-shop-sheet",launchPoint:"ShopSheet",props:E},defaultHeight:v,defaultHeightAbsolute:v,snapPoints:[{relativeHeight:.7,accessibilityLabel:""}],successCallback:i,failCallback:()=>{Se.A.error(`Failed to trigger Shop Sheet for ${e}`),r&&r()}})};function*lt(e){yield(0,ee.yJ)((0,R.gH)(e))}function*ct(e){const t=I.M9.NEW_TAB,a=yield(0,ee.Lt)(S.IT),n=yield(0,ee.Lt)(i.ZG),r=yield(0,ee.Lt)(i.R2),{asin:o,urlMetrics:s}=e.payload,l=null==s?void 0:s.tag;if(o&&l){const t=e.payload.hrefUrl.includes("?")?"&":"?";e.payload.hrefUrl=`${e.payload.hrefUrl}${t}creativeASIN=${encodeURIComponent(o)}`}const c={broadcastId:n,source:r?ae.kL.VSE:ae.kL.AL,experience:(0,ot.$e)(),peekAsin:e.payload.asin,productNav:e.payload.hrefUrl};let d=!1;(0,ot.X1)({},c,()=>{},()=>{d=!0}),d&&(yield*function*(e,t,a,n,r){const i=t=>st({asin:e.payload.asin,hrefUrl:e.payload.hrefUrl,broadcastId:n,isVSE:r,successCallback:t,urlMetrics:e.payload.urlMetrics});ne.UserAgent.isIOS()&&"Chrome"!==ne.UserAgent.getBrowserName()&&!(0,ne.isMshop)()&&(a&&(0,we.Gh)(we.D$.pipForMwebImmersive)===we.T1||!a&&(0,we.Gh)(we.D$.pipForMwebInline)===we.T1)?(yield(0,ee.yJ)({type:R.hi}),setTimeout(()=>{const{hrefUrl:a}=e.payload,n=window.open(a,t);Ze(n,a,t)})):e.payload.addToCartMode===ae.Gy.SHOP_ICON_OPEN_SHOP_SHEET?e.type===R.Fn?i(yield lt(e.payload.asin)):yield(0,ee.yJ)((0,I.NF)({hrefUrl:e.payload.hrefUrl,target:t})):e.payload.addToCartMode!==ae.Gy.TILE_OPEN_SHOP_SHEET||e.type!==R.Lf&&e.type!==R.Ak?yield(0,ee.yJ)((0,I.NF)({hrefUrl:e.payload.hrefUrl,target:t})):i(yield lt(e.payload.asin))}(e,t,a,n,r))}var dt=a(4248),ut=a(5439);function*pt(){(0,ne.isMshop)()&&(dt.A.get(ut.m.EnableInlineAddToCartDestination)&&dt.A.get(ut.m.EnableInlineAddToCartFex)?Se.A.error(`Invalid widget options. Cannot have both ${ut.m.EnableInlineAddToCartDestination} and ${ut.m.EnableInlineAddToCartFex} to be true`):dt.A.get(ut.m.EnableInlineAddToCartDestination)?yield(0,ee.T1)(we.$v,we.D$.inlineAddToCartDestinationExp):dt.A.get(ut.m.EnableInlineAddToCartFex)&&(yield(0,ee.T1)(we.$v,we.D$.inlineAddToCartFexExp)))}const mt=(e,t=!1)=>e!==ae.uj.VOD||t?e:ae.uj.POST_LIVE;var yt=a(3085);const gt=()=>!!window.ue_pty&&!!window.ue_mid,ft=()=>{let e=0;return new Promise((t,a)=>{!function n(){return gt()?t():(e+=1,e>10?a(new Error("window ue values are still not available 10 seconds after page load.")):void setTimeout(n,1e3))}()})};function*At(){const e=yield(0,ee.Lt)(i.jN),t=yield(0,ee.Lt)(h.Ju),a=yield(0,ee.Lt)(i.ZG),n=yield(0,ee.Lt)(i.at),r=yield(0,ee.Lt)(S.IT),s=yield(0,ee.Lt)(b.gB),l=yield(0,ee.Lt)(o.U4),c=yield(0,ee.Lt)(b.N9),d=yield(0,ee.Lt)(i.CD),u=yield(0,ee.Lt)(m.Jy),p=yield(0,ee.Lt)(m.sR),y=yield(0,ee.Lt)(b.Sk),g=yield(0,ee.T1)(yt.R),{linkCode:f,tag:A,placementId:E,ascsubtag:v}=function(e){return{linkCode:(null==e?void 0:e.linkCode)||"",tag:(null==e?void 0:e.tag)||"",placementId:(null==e?void 0:e.placementId)||"",ascsubtag:(null==e?void 0:e.ascsubtag)||""}}(g),T=e||ae.kL.AL,I=e===ae.kL.VSE,P={source:T,showId:t,broadcastId:a,broadcastStatus:mt(n,I),playerExpanded:r,playerMuted:s,promotedItemId:l,isPlayerInViewAfterDelay:c,videoOrientation:d,strategyId:u,ingressWidget:p,isPipActive:y,linkCode:f,tag:A,placementId:E,ascsubtag:v};if(!gt())try{yield(0,ee.T1)(ft)}catch(e){Se.A.error(e)}return yield(0,ee.T1)(yt.n,P)}var Et=a(4879),vt=a.n(Et);var Tt,ht=new class{constructor(){this.metrics=new(vt().SushiMetrics)}sanitizeValue(e){return"string"==typeof e&&e.length>=32766?e.slice(0,32766):e}sanitize(e){return Object.entries(e).map(([e,t])=>[e,this.sanitizeValue(t)]).reduce((e,[t,a])=>(e[t]=a,e),{})}sanitizeBatchPayload(e){const t={};Object.entries(e.cs.dct).forEach(([e,a])=>{t[e]=this.sanitizeValue(a)});const a=e.events.map(e=>({data:Object.entries(e.data).reduce((e,[t,a])=>(e[t]=this.sanitizeValue(a),e),{})}));return{cs:{dct:t},events:a}}emitMetricsPayload(e,t){this.metrics.emitMetricsPayload(this.sanitize(e))}emitBatchMetricsPayload(e){const t=ye.A.get(ye.A.Keys.MarketplaceId);this.metrics.emitBatchMetricsPayload(this.sanitizeBatchPayload(e),t)}emitMetricsPayloadBeacon(e,t){this.metrics.emitMetricsPayloadBeacon(this.sanitize(e))}};!function(e){e.ClientSideLatency="clientSideLatency",e.PlayerReadyLatency="playerReadyLatency"}(Tt||(Tt={}));var St,bt,It=a(639);!function(e){e[e.High=0]="High",e[e.Medium=1]="Medium",e[e.Low=2]="Low",e[e.SuperLow=3]="SuperLow"}(St||(St={})),function(e){e.Impression="impression",e.Click="click",e.InView="inView",e.Reaction="reaction",e.MouseOver="mouseover",e.Muted="playerMuted",e.Unmuted="playerUnmuted",e.MutedVOD="mute",e.UnmutedVOD="unmute",e.BufferEmpty="bufferEmpty",e.VideoError="videoError",e.TwitchError="error",e.PlayInViewport="videoPlayInViewport",e.PlayInViewportVOD="vodPlayInViewport",e.TTFF="ttff",e.PlayerReady="playerReady",e.MinWatched="minWatched",e.PlaybackLatency="videoPlay",e.PlaybackBlocked="playbackBlocked",e.WidgetInViewport="widgetInViewport",e.StarClicked="customerStarred",e.PageLoad="pageload",e.AssetsLoad="assetsLoadLatency",e.ShareServiceSelected="shareServiceSelected",e.BroadcastFallback="broadcastFallback",e.TotalPlaybackLatency="totalPlaybackLatency",e.PlayerInitLatency="playerInitLatency",e.VideoLoadLatency="videoLoadLatency",e.VideoPlayFromVideoLoadLatency="videoPlayFromVideoLoadLatency",e.VideoPlayFromWidgetInViewLatency="videoPlayFromWidgetInViewLatency",e.WidgetInViewLatency="widgetInViewLatency",e.PosterLoadLatency="posterLoadLatency",e.CarouselLoadLatency="carouselLoadLatency",e.CarouselViewLatency="carouselViewLatency"}(bt||(bt={}));var Pt=a(6216);function _t(e){const t={};return e.forEach(e=>{const a=e.associatedAsins||[],n=e.id||"";a.forEach(e=>{t[e]?t[e].push(n):t[e]=[n]})}),t}function*Ct(){const e=_t(yield(0,ee.Lt)(g.PW));yield(0,ee.yJ)({type:I.fI,data:{promoCodes:e}})}function*wt({asins:e,items:t,deals:a,idMap:n,errorMetric:r,successMetric:o}){if(0===e.length)return void(yield(0,ee.yJ)({type:I.fI,data:{items:t,deals:a}}));const s=yield(0,ee.Lt)(i.a3),l=yield(0,ee.T1)(Pe.Iv,e);let c=!1;if(l.forEach(e=>{if(!e||e instanceof Error)return(0,Ie.pl)(r),void Se.A.error(e,"Failed to fetch AAPI product data during polling. ");(0,Ie.pl)(o),(0,_e.AY)(e).forEach(({carouselItem:e,deal:r})=>{t[n[e.asin]]=Object.assign(Object.assign({},e),s?s.get(e.asin):{}),a[e.asin]=Object.assign({},r),c=!0})}),c){const e=_t(yield(0,ee.Lt)(g.PW));yield(0,ee.yJ)({type:I.fI,data:{items:t,deals:a,promoCodes:e}})}}function*Ot(){const e=yield(0,ee.Lt)(i.Wv);if(e)return e.segmentItems}function*Lt(e){const t=Date.now(),a=yield(0,ee.Lt)(i.a3),{items:n,deals:r}=yield(0,ee.T1)(Pe.L0,e,a),o=_t(yield(0,ee.Lt)(g.PW));yield(0,ee.yJ)({type:I.fI,data:{items:n,deals:r,promoCodes:o}});const s=yield(0,ee.T1)(At);s[It.S.EventTriggerType]=Pt.d.CarouselAAPICallLatency,s[It.S.EventType]=bt.TTFF,s[It.S.StringPayload]=Tt.ClientSideLatency,s[It.S.Widget]="carousel",s[It.S.IntPayload]=Date.now()-t,ht.emitMetricsPayload(s,St.High)}function*Nt(){const e=yield(0,ee.T1)(Ot);e&&0!==e.length&&(yield(0,ee.T1)(Lt,e))}function*Rt(e){var t;const a=yield(0,ee.Lt)(i.fP);if(0===a.size)return void(0,Ie.pl)(Pe.Cb.ProductV2PollNoInViewAsins);const n=[...a],r=yield(0,ee.Lt)(o.L7),s={};Object.entries(r).forEach(([e,t])=>{t.asin&&a.has(t.asin)&&(s[t.asin]=e)});const l=null!==(t=yield(0,ee.Lt)(o.Wb))&&void 0!==t?t:{},c=e?((e,t)=>e.filter(e=>t[e]&&"LIGHTNING_DEAL"===t[e].dealType))(n,l):n;0!==c.length?yield(0,ee.T1)(wt,{asins:c,items:r,deals:l,idMap:s,errorMetric:e?Pe.Cb.ProductV2DealPollError:Pe.Cb.ProductV2PollError,successMetric:e?Pe.Cb.ProductV2DealPollSuccess:Pe.Cb.ProductV2PollSuccess}):(0,Ie.pl)(Pe.Cb.ProductV2PollNoInViewDealAsins)}function*Dt(){yield(0,ee.T1)(Rt,!0)}function*kt(){yield(0,ee.T1)(Rt,!1)}function*Mt(){var e;const t=yield(0,ee.T1)(Ot);if(!t)return;const a=yield(0,ee.Lt)(o.L7),n=t.reduce((e,t)=>{var n;return Object.assign(Object.assign({},e),{[t.segmentItemId]:null!==(n=a[t.segmentItemId])&&void 0!==n?n:t})},{}),r={},i=t.filter(Pe.BT).filter(({segmentItemId:e})=>!(e in a)).map(({asin:e,segmentItemId:t})=>(r[e]=t,e)),s=null!==(e=yield(0,ee.Lt)(o.Wb))&&void 0!==e?e:{};yield(0,ee.T1)(wt,{asins:i,items:n,deals:s,idMap:r,errorMetric:Pe.Cb.ProductV2SegmentPollError,successMetric:Pe.Cb.ProductV2SegmentPollSuccess})}var xt=a(6887),Bt=a(1957),Vt=a(6409),jt=a(5749),Ft=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const Ut=3e3;var zt;function*Gt(e){const t=(yield(0,ee.Lt)(S.IT))?"immersive":"inline",a=ye.A.get(ye.A.Keys.DeviceType)===ae.PX.DESKTOP,n=(0,ne.isMshop)()?ot.Je.MSHOP:ot.Je.MWEB,r=a?ot.Je.DESKTOP:n,o=yield(0,ee.Lt)(i.R2),s=yield(0,ee.Lt)(i.at),l=mt(s,o);return`asv_atc_${r}_${t}_${l===ae.uj.POST_LIVE?"PL":l}_${(0,ne.getPageType)()}_${e+1}`.toLowerCase()}function*$t({tag:e,asin:t,linkCode:a,refMarker:n}){const r=yield(0,ee.Lt)(i.ZG),o=yield(0,ee.T1)(Oe.al,r),s=a||(yield(0,ee.Lt)(L.Yb)),l=e||(yield(0,ee.Lt)(L.Tg)),c=`/gp/mobile/tag?${new URLSearchParams(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s&&{linkCode:s}),l&&{tag:l}),o&&{"asc_item-id":o}),t&&{creativeASIN:t}),{ref_:n})).toString()}`;yield(0,ee.T1)(Bt.uj,c)}function*Wt(e,t){yield(0,ee.yJ)({type:R.rw,itemId:e,status:t})}function*Ht(e){yield(0,ee.yJ)({type:R.Pl,payload:e})}function*Jt(e){var t,a,n;if(!e.payload.hasATCButton)return void(yield(0,ee.T1)(ct,e));const{asin:r,index:i,sponsoredClickUrl:o}=e.payload;yield(0,ee.T1)(Wt,r,ae.Pp.PENDING);const s=yield(0,ee.T1)(Gt,i),l=(0,Pe.uy)();o?yield(0,ee.T1)(Bt.uj,o):yield(0,ee.T1)($t,{asin:r,refMarker:s});const c=yield l.addToCart({asin:r,refMarker:s});(!c||c instanceof Error)&&(yield(0,ee.T1)(Wt,r,ae.Pp.ERROR),(0,Ie.pl)(zt.AddToCartFailed),yield(0,ee.cb)(Ut),yield(0,ee.T1)(Wt,r,ae.Pp.DONE));const d=null===(t=c.entity)||void 0===t?void 0:t.items;if(d&&d[0]){const e=d[0].id,t=d[0].quantity;yield(0,ee.T1)(Ht,[{asin:r,cartItemId:e,quantity:t}])}const u=null===(a=c.entity)||void 0===a?void 0:a.count;if((0,Vt.ZA)(u)){const e=null!==(n=u.entity.items)&&void 0!==n?n:0;return(0,jt.iH)(e),(0,Ie.pl)(zt.AddToCartSuccess),yield(0,ee.T1)(Wt,r,ae.Pp.SUCCESS),yield(0,ee.cb)(Ut),void(yield(0,ee.T1)(Wt,r,ae.Pp.DONE))}(0,Ie.pl)(zt.AddToCartFailed)}function*Kt(e){var t,a,n;if(!e.payload.hasATCButton)return void(yield(0,ee.T1)(ct,e));const{asin:r,cartItemId:i="",quantity:o=0,index:s}=e.payload;yield(0,ee.T1)(Wt,r,ae.Pp.PENDING);const l=yield(0,ee.T1)(Gt,s),c=(0,Pe.uy)();yield(0,ee.T1)($t,{asin:r,refMarker:l});const d=yield c.modifyCart({cartItemId:i,quantity:o,refMarker:l});(!d||d instanceof Error)&&(yield(0,ee.T1)(Wt,r,ae.Pp.ERROR),(0,Ie.pl)(zt.ModifyCartFailed),yield(0,ee.cb)(Ut),yield(0,ee.T1)(Wt,r,ae.Pp.DONE));(null===(t=d.entity)||void 0===t?void 0:t.items)&&(yield(0,ee.T1)(Ht,[{asin:r,cartItemId:i,quantity:o}]));const u=null===(a=d.entity)||void 0===a?void 0:a.count;if((0,Vt.ZA)(u)){const e=null!==(n=u.entity.items)&&void 0!==n?n:0;return(0,jt.iH)(e),(0,Ie.pl)(zt.ModifyCartSuccess),yield(0,ee.T1)(Wt,r,ae.Pp.SUCCESS),void(yield(0,ee.T1)(Wt,r,ae.Pp.DONE))}(0,Ie.pl)(zt.ModifyCartFailed)}function*Yt(){var e;const t=(0,Pe.uy)(),a=yield t.getCart();if(!a||a instanceof Error)return void(0,Ie.pl)(zt.GetCartFailed);const n=null===(e=a.entity)||void 0===e?void 0:e.items;if(n&&n.length){const e=n.map(e=>{var{id:t}=e,a=Ft(e,["id"]);return Object.assign({cartItemId:t},a)});yield(0,ee.T1)(Ht,e)}(0,Ie.pl)(zt.GetCartSuccess)}function*qt(){yield(0,ee.jP)(R.PY,Jt),yield(0,ee.jP)(R.g4,Kt),yield(0,ee.jP)(R.oK,Yt)}!function(e){e.AddToCartSuccess="AddToCartSuccess",e.AddToCartFailed="AddToCartFailed",e.ModifyCartSuccess="ModifyCartSuccess",e.ModifyCartFailed="ModifyCartFailed",e.GetCartSuccess="GetCartSuccess",e.GetCartFailed="GetCartFailed"}(zt||(zt={}));var Zt=a(1337),Xt=a(2674),Qt=a(5037);const ea="AmazonLiveFlagship:FetchASVMASMetaData:Success",ta="AmazonLiveFlagship:FetchASVMASMetaData:Error";function*aa(){var e;try{const t=Qt.A.get(),a=yield(0,ee.Lt)(i.ZG),n=yield(0,ee.T1)(at.XC);if(!t)throw new Error("Missing csrfToken");const r=yield(0,ee.T1)(ke,{broadcastId:a,stage:n,csrfToken:t,source:ae.kL.AL}),o=new Map;null===(e=null==r?void 0:r.carouselItems)||void 0===e||e.forEach(e=>{e.type===Xt.ProductType.SPONSORED_PRODUCT&&o.set(e.asin,e)}),o.size&&(yield(0,ee.yJ)((0,Zt.To)(o)),yield(0,ee.yJ)((0,Zt.vg)(!0))),(0,Ie.pl)(ea)}catch(e){Se.A.fatal(e,"Failed to fetch asvmas data"),(0,Ie.pl)(ta)}}function*na(){dt.A.get(ut.m.UseGridCarousel)&&(0,we.$v)(we.D$.gridCarouselAtcStepper)&&(yield(0,ee.T1)(Yt));const e=yield(0,ee.T1)(we.$v,we.D$.sponsoredProductsLive),t=yield(0,ee.Lt)(i.IV);e&&t&&(yield(0,ee.T1)(aa)),yield(0,ee.T1)(Nt),yield(0,ee.p8)(Ye.d,Ct),yield(0,ee.p8)(I.BB,Mt),xt.A.get(xt.A.Keys.IS_POLL_ENABLED)&&(yield(0,ee.jP)(R.JC,kt),yield(0,ee.jP)(R.Yb,Dt),xt.A.get(xt.A.Keys.IS_IN_VIEW_POLL_ENABLED)&&(yield(0,ee.sg)(1e3,I.b$,kt))),yield(0,ee.jP)([R.n3,R.P$],pt),yield(0,ee.jP)([R.Ak,R.Lf,R.pz,R.Fn,R.qJ,R.dE,R.qu],ct)}var ra,ia=a(7154),oa=a(340),sa=a(1935);!function(e){e.Carousel="carousel",e.TwitchPlayer="twitchPlayer",e.VODPlayer="vodPlayer",e.Share="share",e.Reactions="reactions",e.WatchMore="watchMore",e.PromoCode="promoCode",e.ImmersiveTab="immersiveTab",e.TitleBar="titleBar",e.ImmersiveCreatorImage="immersiveCreatorImage",e.LiveVideoBanner="LiveVideoBanner",e.ImmersiveMoreOptions="immersiveMoreOptions",e.ImmersiveBottomSheetOption="immersiveBottomSheetOption"}(ra||(ra={}));const la=e=>!!e.asin,ca=e=>{const{dealType:t,dealId:a}=e;return void 0!==t&&void 0!==a},da=(e,t)=>{const{dealType:a,dealId:n,percentClaimed:r,endDate:i}=e,o=i&&Math.floor((Date.parse(i)-Date.now())/1e3),s=JSON.parse(t),l=Object.assign(Object.assign({},s),{dealId:n,dealType:a,percentClaimed:r,timeRemaining:o});return JSON.stringify(l)},ua=(e,t)=>{const{id:a}=e,n=JSON.parse(t),r=Object.assign(Object.assign({},n),{carouselItemId:a});return JSON.stringify(r)},pa=(e,t)=>{const{isSponsoredProduct:a}=e,n=JSON.parse(t),r=Object.assign(Object.assign({},n),{isSponsoredProduct:a});return JSON.stringify(r)},ma=(e,t)=>{const{sponsoredAsins:a}=e,n=JSON.parse(t),r=Object.assign(Object.assign({},n),{sponsoredAsins:a});return JSON.stringify(r)},ya=(e,t)=>{const{visibleItemsCount:a,totalItems:n}=e,r=JSON.parse(t),i=Object.assign(Object.assign({},r),{visibleItemsCount:a,totalItems:n});return JSON.stringify(i)},ga=e=>!!e.payload;function*fa(e,t,a){const n=yield(0,ee.Lt)(i.ZG),r=(0,at.XC)(),o=yield(0,ee.Lt)(i.jN);yield(0,oa.y)(n,e,t,r,o,Se.A,Ie.oY,a)}var Aa,Ea,va=a(8406),Ta=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};function ha(e){return Ta(this,void 0,void 0,function*(){const t=function(){if("object"==typeof window.ue&&"function"==typeof window.ue.event)return window.ue;try{if(window!==window.parent&&"object"==typeof window.parent.ue&&"function"==typeof window.parent.ue.event)return window.parent.ue}catch(e){Se.A.warn("AmazonLive-StoreTracking","Cannot access parent window ue (likely cross-origin)")}try{if(window!==window.top&&window.top&&"object"==typeof window.top.ue&&"function"==typeof window.top.ue.event)return window.top.ue}catch(e){Se.A.warn("AmazonLive-StoreTracking","Cannot access top window ue (likely cross-origin)")}return null}();if("object"!=typeof e||null===t||"object"!=typeof t||"function"!=typeof t.event)throw new Error("UE object not available");try{const a=yield function(e=5e3){return new Promise((t,a)=>{if(!window.P)return void a(new Error("AUI not available"));let n=!0;const r=Math.floor(e/100);let i=0;const o=setTimeout(()=>{n=!1,a(new Error("Timeout waiting for visitInfo"))},e);window.P.when("A","ready").execute(e=>{if(!e||"object"!=typeof e)return clearTimeout(o),n=!1,void a(new Error("AUI A object not available"));const s=()=>{if(n&&!(i>=r))try{const a=e.state("visitInfo");if(i++,a&&Object.keys(a).length>0){clearTimeout(o),n=!1;const r=e.state("nexusV5Fields"),i=Object.assign({},a);r&&Object.assign(i,r),t(i)}else i<r&&setTimeout(s,100)}catch(e){clearTimeout(o),n=!1,a(e)}};s()})})}(),n=Object.assign(Object.assign({},e),a);return t.event(n,"stores","stores.StoreEngagementEvent.4",{n:1}),Se.A.debug("AmazonLive-StoreTracking",`Emitted event for ${n.eventData.asin} with visitInfo`),!0}catch(e){throw Se.A.error("AmazonLive-StoreTracking-Failed to get visitInfo or send event",e),e}})}function Sa(e){return Ta(this,void 0,void 0,function*(){if(!e||!e.asin)return Se.A.error("AmazonLive-StoreTracking","Missing ASIN data, skipping emission"),!1;try{const t=function(e){const{asin:t,eventType:a,eventSubType:n,id:r,productListPrice:i,currencyCode:o,availabilityStatus:s}=e,l=ye.A.get(ye.A.Keys.MarketplaceId);return{widgetId:ra.LiveVideoBanner,widgetType:ra.LiveVideoBanner,elementLocator:null,eventType:a,eventData:{widgetSubType:"InteractiveImage",sectionType:"",eventSubType:n,message:"",tileId:r||t,asin:t,availabilityStatus:s,currencyCode:o,amount:i||"",screenWidth:window.screen.width.toString(),screenHeight:window.screen.height.toString(),devicePixelRatio:window.devicePixelRatio.toString(),browserWidth:window.innerWidth.toString(),browserHeight:window.innerHeight.toString(),timezoneOffset:(new Date).getTimezoneOffset().toString()},eventCategory:"WIDGET",schemaId:"stores.StoreEngagementEvent.4",producerId:"stores",obfuscatedMarketplaceId:l,timestamp:(new Date).toISOString(),requestId:(0,ne.getRequestId)(),sessionId:va.A.get(va.A.Keys.SessionId)}}(e);return yield ha(t),!0}catch(e){return Se.A.error("AmazonLive-StoreTracking-Failed to emit ASIN impression event",e),!1}})}!function(e){e.IMPRESSION="IMPRESSION",e.CLICK="CLICK"}(Aa||(Aa={})),function(e){e.ASIN_RENDER="ASIN_RENDER",e.ASIN_VIEWABLE="ASIN_VIEWABLE",e.OTHER="OTHER"}(Ea||(Ea={}));const ba=new Map;const Ia=(e,t)=>{const a=(n=e,ba.get(n));var n;a&&(t[It.S.ImpressionId]=a)};function Pa(e,t){const a={},n={};let r=1,i=1;Object.entries(e).forEach(([e,t])=>{if(e!==It.S.StringPayload){const o="k"+r++;if(a[o]=e,(e=>""===e||null==e)(t))n[o]=t;else{const e="v"+i++;a[e]=t,n[o]=e}}});const o="k"+r++,s="k"+r++;a[o]=It.S.StringPayload,a[s]=It.S.EventId;const l=t.map(e=>{const t=`${(0,be.v4)()}-000000`;return ba.set(e,t),{data:Object.assign(Object.assign({},n),{[o]:e,[s]:t})}});return{cs:{dct:a},events:l}}function*_a(e){try{const t=yield(0,ee.T1)(At);if(t[It.S.Widget]=ra.Carousel,t[It.S.EventType]=bt.Click,ga(e)&&e.payload){const{title:a,index:n,id:r}=e.payload;t[It.S.Context]=a,t[It.S.SlotId]=100+n,t[It.S.StringPayload]=la(e.payload)?e.payload.asin:r,ca(e.payload)&&(t[It.S.JsonPayload]=da(e.payload,t[It.S.JsonPayload])),t[It.S.JsonPayload]=ua(e.payload,t[It.S.JsonPayload]),"AmazonStores"===(0,ne.getPageType)()&&Sa({asin:e.payload.asin,id:e.payload.id,productListPrice:e.payload.productListPrice,eventType:Aa.CLICK,eventSubType:Ea.OTHER})}switch(e.type){case R.$q:case R.Ef:t[It.S.EventTriggerType]=Pt.d.CarouselLeftRightScroll;break;case R.Ak:Ia(e.payload.id,t),t[It.S.EventTriggerType]=Pt.d.CarouselProductImageClick,t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.JsonPayload]=pa(e.payload,t[It.S.JsonPayload]);break;case R.Lf:Ia(e.payload.id,t),t[It.S.EventTriggerType]=Pt.d.CarouselProductTitleClick,t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.JsonPayload]=pa(e.payload,t[It.S.JsonPayload]);break;case R.pz:Ia(e.payload.id,t),t[It.S.EventTriggerType]=Pt.d.CarouselProductReviewClick;break;case R.Fn:t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.EventTriggerType]=Pt.d.CarouselProductShopIconClick;break;case R.qJ:t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.EventTriggerType]=Pt.d.CarouselCustomImageClick;break;case R.dE:t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.EventTriggerType]=Pt.d.CarouselCustomTitleClick;break;case R.qu:t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.EventTriggerType]=Pt.d.CarouselCustomActionButtonClick;break;case R.Pc:t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.SlotId]="",t[It.S.JsonPayload]=ya(e.payload,t[It.S.JsonPayload]),t[It.S.EventTriggerType]=Pt.d.CarouselLoadMoreButtonClick;break;case R.PY:Ia(e.payload.id,t),t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.EventTriggerType]=e.payload.hasATCButton?Pt.d.CarouselProductAddToCartButton:Pt.d.CarouselProductSeeDetailsButton,t[It.S.JsonPayload]=pa(e.payload,t[It.S.JsonPayload]);break;case R.g4:Ia(e.payload.id,t),t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters)),t[It.S.EventTriggerType]=Pt.d.CarouselProductModifyCartButton;break;default:throw new Error("Invalid action passed to metrics")}(e=>[R.Ak,R.Lf,R.pz,R.Fn,R.qJ,R.dE,R.qu,R.PY,R.g4].includes(e.type))(e)&&(0,ne.isMshop)()?ht.emitMetricsPayloadBeacon(t,St.High):ht.emitMetricsPayload(t,St.High);const a=yield(0,ee.T1)(we.$v,we.D$.realTimeMetricsFlagship),n=yield(0,ee.Lt)(i.yZ);a&&n&&e.type!==R.Ef&&e.type!==R.$q&&t[It.S.StringPayload]&&(yield(0,ee.T1)(fa,oa.Y.TOTAL_PRODUCT_CLICKS_BY_ASIN,1,t[It.S.StringPayload]))}catch(e){Se.A.error(e,"Could not report metrics for carousel")}}var Ca=a(8964);function*wa(e){if((0,we.NT)())try{if(!ga(e))throw new Error("Payload not sent");const{hasATCButton:t}=e.payload;if(!t)return;switch(e.type){case R.n3:{const{index:t,title:a,asin:n}=e.payload,r=yield(0,ee.T1)(At);Ia(e.payload.id,r),r[It.S.Context]=a,r[It.S.SlotId]=100+t,r[It.S.StringPayload]=n,r[It.S.Widget]=ra.Carousel,r[It.S.EventType]=bt.Impression,r[It.S.EventTriggerType]=Pt.d.CarouselProductAddToCartButton,r[It.S.Asin]=n,ht.emitMetricsPayload(r,St.High);break}default:throw new Error("Invalid action passed to metrics")}}catch(e){Se.A.error(e,"Could not report ATV Impression metric")}}function*Oa(e){try{const t=(0,Ie.Qm)(),a=yield(0,ee.T1)(At);if(a[It.S.Widget]=ra.Carousel,a[It.S.EventType]=bt.Impression,ga(e)&&e.payload){const{title:t,index:n,id:r}=e.payload;a[It.S.Context]=t,a[It.S.SlotId]=100+n,a[It.S.StringPayload]=la(e.payload)?e.payload.asin:r,ca(e.payload)&&(a[It.S.JsonPayload]=da(e.payload,a[It.S.JsonPayload])),a[It.S.JsonPayload]=ua(e.payload,a[It.S.JsonPayload])}let n,r=[];if(e.type===R.rF){const e=yield(0,ee.Lt)(o.L7);r=Object.keys(e)}switch(e.type){case R.n3:a[It.S.JsonPayload]=pa(e.payload,a[It.S.JsonPayload]),a[It.S.EventTriggerType]=Pt.d.CardInViewport,Ia(e.payload.id,a),n=St.High,"AmazonStores"===(0,ne.getPageType)()&&Sa({asin:e.payload.asin,id:e.payload.id,productListPrice:e.payload.productListPrice,eventType:Aa.IMPRESSION,eventSubType:Ea.ASIN_VIEWABLE});break;case R.P$:a[It.S.EventTriggerType]=Pt.d.CardInViewport,n=St.High;break;case R.E4:a[It.S.EventTriggerType]=Pt.d.CardImpression,n=St.SuperLow;break;case R.o_:a[It.S.EventTriggerType]="",a[It.S.StringPayload]=Tt.ClientSideLatency,a[It.S.IntPayload]=t?Math.round(t):null,e.payload&&e.payload.sponsoredAsins&&(a[It.S.JsonPayload]=ma(e.payload,a[It.S.JsonPayload])),n=St.High,(0,Ie.XG)(Ie.CO);break;case R.rF:{const t=r.filter(e=>e!==a[It.S.BroadcastId]);if(a[It.S.EventTriggerType]=Pt.d.CarouselMADSImpression,e.payload&&e.payload.sponsoredAsins&&(a[It.S.JsonPayload]=ma(e.payload,a[It.S.JsonPayload])),(0,we.y4)()){const e=Pa(a,t);ht.emitBatchMetricsPayload(e)}else a[It.S.StringPayload]=t.join(","),ht.emitMetricsPayload(a,St.High);return}case R.GV:a[It.S.EventTriggerType]=Pt.d.CarouselLoadMoreButtonInView,a[It.S.JsonPayload]=ya(e.payload,a[It.S.JsonPayload]),a[It.S.SlotId]="",n=St.SuperLow;break;default:throw new Error("Invalid action passed to metrics")}ht.emitMetricsPayload(a,n)}catch(e){Se.A.error(e,"Could not report metrics for carousel")}}function La(e){try{if(!ga(e))throw new Error("Payload not sent");switch(e.type){case R.n3:case R.P$:{if(la(e.payload)){const{id:t,asin:a}=e.payload;Ca.A.emit(t,a);break}const{id:t}=e.payload;Ca.A.emit(t);break}default:throw new Error("Invalid action passed to metrics")}}catch(e){Se.A.error(e,"Could not report retargeting pixels for carousel")}}function*Na(e){try{switch(e.type){case R.Ok:{const t=yield(0,ee.T1)(At),a=e.payload;t[It.S.EventTriggerType]=Pt.d.OpenShopSheet,t[It.S.Asin]=a||"",ht.emitMetricsPayload(t,St.High);break}default:throw new Error("Invalid action passed to metrics")}}catch(e){Se.A.error(e,"Could not report shopsheet opening metric")}}function*Ra(e){try{if(e.type!==R.xu)throw new Error("Invalid action passed to brand store impression metrics");if("AmazonStores"===(0,ne.getPageType)()){const e=yield(0,ee.Lt)(o.L7);Object.entries(e).filter(([e,t])=>t.type===ae.j9.PRODUCT).map(([e,t])=>({id:e,asin:t.asin,productListPrice:t.formattedPriceV2})).forEach(e=>{e.asin&&Sa({asin:e.asin,id:e.id,productListPrice:e.productListPrice,eventType:Aa.IMPRESSION,eventSubType:Ea.ASIN_RENDER})})}}catch(e){Se.A.error(e,"Could not report brand store impression metrics")}}var Da=a(5911),ka=a(1211),Ma=a(3064),xa=a(5053);function*Ba(){const e=yield(0,ee.Lt)(G),{timedMetadataEvent:t,highlightedSegmentChangeEvent:a}=e;if(t.segmentItemId&&t.segmentItemId===a.segmentItemId){const e=yield(0,ee.T1)(ka.m),n=a.timestamp-t.creatorTimestamp,r=t.viewerTimestamp-a.timestamp,i={segmentHighlightAbsoluteLatency:n,segmentHighlightPropagationDelay:r},o=Object.assign(Object.assign({},e),{[Da.S.EventType]:xa.J.SegmentHighlightLatency,[Da.S.IntPayload]:r,[Da.S.JsonPayload]:JSON.stringify(i)});yield(0,ee.yJ)((0,I.ac)({payload:o,priority:Ma.b.Medium})),yield(0,ee.yJ)({type:"RESET_CAROUSEL_HIGHLIGHT_LATENCY_EVENTS"})}}function Va(){const e=(0,Ie.bB)();if(window.al_ltnc_m&&window.al_ltnc_m.al_st&&window.al_ltnc_m.al_end&&e)return e-window.al_ltnc_m.al_st}function*ja(){const e=(0,Ie.Hg)();return(yield(0,ee.Lt)($))-e<(0,Ie.ab)()}function*Fa(){try{yield(0,ee.Q7)([(0,ee.s)(R.NE),(0,ee.s)(D.re)]);const e=yield(0,ee.Lt)(H),t=yield(0,ee.Lt)($),a=yield(0,ee.T1)(ka.m),n=Va();if(!n)return;const r=(0,Ie.Hg)(),i=n+Math.max(e-r,0),o=Object.assign(Object.assign({},a),{[It.S.EventType]:bt.CarouselLoadLatency,[It.S.IntPayload]:i});yield(0,ee.yJ)((0,I.ac)({payload:o,priority:St.Medium})),(0,Ie.kO)(Ie.CO,i);const s=(yield(0,ee.T1)(ja))?i:Math.max(e-t,0),l=Object.assign(Object.assign({},a),{[It.S.EventType]:bt.CarouselViewLatency,[It.S.IntPayload]:s});yield(0,ee.yJ)((0,I.ac)({payload:l,priority:St.Medium})),(0,Ie.kO)(Ie.j1,s)}catch(e){Se.A.error(e,"Could not report carousel load latency metric")}}function*Ua(){yield(0,ee.jP)(R.o_,Oa),yield(0,ee.jP)(R.rF,Oa),yield(0,ee.jP)(R.xu,Ra),yield(0,ee.jP)(R.n3,Oa),yield(0,ee.jP)(R.P$,Oa),yield(0,ee.jP)(R.E4,Oa),yield(0,ee.jP)(R.$q,_a),yield(0,ee.jP)(R.Ef,_a),yield(0,ee.jP)(R.Ak,_a),yield(0,ee.jP)(R.Lf,_a),yield(0,ee.jP)(R.pz,_a),yield(0,ee.jP)(R.Fn,_a),yield(0,ee.jP)(R.qJ,_a),yield(0,ee.jP)(R.dE,_a),yield(0,ee.jP)(R.qu,_a),Ca.A.hasRetargetingPixels()&&(yield(0,ee.jP)(R.n3,La),yield(0,ee.jP)(R.P$,La)),yield(0,ee.jP)(R.Ok,Na),yield(0,ee.jP)(N.$9,Ba),yield(0,ee.jP)(R.NL,Ba),yield(0,ee.jP)(R.PY,_a),yield(0,ee.jP)(R.n3,wa),yield(0,ee.jP)(R.g4,_a),yield(0,ee.jP)(R.GV,Oa),yield(0,ee.jP)(R.Pc,_a),yield(0,ee.T1)(Fa)}var za=a(4136);function*Ga(e){try{const t=yield(0,ee.T1)(At);switch(t[It.S.Widget]=ra.TwitchPlayer,t[It.S.EventType]=bt.Click,e.type){case I.jC:{t[It.S.EventTriggerType]=Pt.d.ExpandPlayer;const e=yield(0,ee.Lt)(i.Cx);t[It.S.JsonPayload]=(0,za.o2)(t[It.S.JsonPayload],(0,za.eH)(e||za.CB)),t[It.S.JsonPayload]=(0,sa.d)(t[It.S.JsonPayload],va.A.get(va.A.Keys.LinkParameters));break}case I.kH:t[It.S.EventTriggerType]=Pt.d.CollapsePlayer;break;default:throw new Error("Invalid action passed to metrics")}ht.emitMetricsPayload(t,St.High)}catch(e){Se.A.error(e,"Could not report click metrics for expandable")}finally{e.type===I.jC&&(yield(0,ee.yJ)({type:I.tK}))}}function*$a(){yield(0,ee.jP)(I.jC,Ga),yield(0,ee.jP)(I.kH,Ga)}const Wa={[we.T1]:{waitFor:N.wf,delayMs:0},[we.T2]:{waitFor:N.wf,delayMs:2e3},[we.T3]:{waitFor:M.aU,delayMs:0}};function*Ha(){const e=(0,we.Gh)(we.D$.anpAggressivePrewarming),t=Wa[e];t&&(yield(0,ee.T1)(jt.y3,{android:ne.UserAgent.isAndroid(),ios:ne.UserAgent.isIOS()}),yield(0,ee.s)(t.waitFor),t.delayMs>0&&(yield(0,ee.cb)(t.delayMs)),yield(0,ee.T1)(jt.Nu))}function*Ja(e){const t=yield(0,ee.T1)(ka.m),a=Object.assign(Object.assign({},t),{[It.S.EventType]:bt.Click,[It.S.EventTriggerType]:""});a[It.S.EventType]=bt.Click;const{DisableCC:n,EnableCC:r,PlayButton:i,PauseButton:o,OpenMenu:s,CloseMenu:l,ProgressBar:c}=Pt.d;let d,u;switch(e.type){case N.IK:d=e.payload?r:n,a[It.S.EventTriggerType]=d,u=St.Low;break;case N.OR:switch(e.payload){case"playing":a[It.S.EventTriggerType]=i,u=St.Low;break;case"paused":a[It.S.EventTriggerType]=o,u=St.Medium;break;default:return}break;case N.n5:d=e.payload?s:l,a[It.S.EventTriggerType]=d,u=St.Low;break;case N.SV:a[It.S.EventTriggerType]=c,u=St.Low;break;default:return}yield(0,ee.yJ)((0,I.ac)({payload:a,priority:u}))}function*Ka(){try{yield(0,ee.s)(N.wf),(0,Ie.XG)(Ie.FV),(0,Ie.lt)(Ie.Li),(0,Ie.gb)();const e=(0,Ie.Qm)(),t=yield(0,ee.T1)(ka.m),a=Object.assign(Object.assign({},t),{[It.S.EventType]:bt.PlayerReady,[It.S.StringPayload]:Tt.PlayerReadyLatency,[It.S.IntPayload]:e?Math.round(e):null});if(yield(0,ee.yJ)((0,I.ac)({payload:a,priority:Ma.b.Medium})),0!==(0,Ie.Hg)()){const e=(0,Ie.v8)()-(0,Ie.Hg)(),a=Object.assign(Object.assign({},t),{[It.S.EventType]:bt.PlayerInitLatency,[It.S.IntPayload]:e});yield(0,ee.yJ)((0,I.ac)({payload:a,priority:Ma.b.Medium}))}}catch(e){Se.A.error(e,"Could not report player ready metrics for player")}}function*Ya(e,t){const a=yield(0,ee.Lt)(L.$Q),n=yield(0,ee.Lt)(L.Yb),r=yield(0,ee.Lt)(i.ZG),o={tag:e,ascsubtag:a,linkCode:n,creativeASIN:t,asc_contentid:yield(0,ee.T1)(Oe.al,r,void 0),ref_:"dp_ilv"},s=yield(0,ee.T1)(ne.updateQueryParameters,"/gp/mobile/tag",o);yield(0,ee.T1)(Bt.uj,s)}function*qa(){try{const e=(0,ne.getPageType)()||va.A.get(va.A.Keys.PageType);if(["Detail","DetailAW"].includes(e)){const e=yield(0,ee.Lt)(L.Tg),t=yield(0,ee.T1)(ne.getPageId);yield(0,ee.T1)(Ya,e,t),(0,Ie.pl)("AmazonLiveFlagship:ReportInfluencerView:Success")}}catch(e){(0,Ie.pl)("AmazonLiveFlagship:ReportInfluencerView:Error"),Se.A.error(e,"Could not report metrics for extended view")}}function*Za(e){const t=yield(0,ee.T1)(ka.m),a=yield(0,ee.Lt)(i.yZ),n=Object.assign(Object.assign({},t),{[It.S.EventType]:a?bt.PlayInViewport:bt.PlayInViewportVOD,[It.S.IntPayload]:Math.round(e.payload/1e3),[It.S.JsonPayload]:"{}"});if(a){const e=yield(0,ee.Lt)(i.Cx);n[It.S.JsonPayload]=(0,za.o2)(n[It.S.JsonPayload],(0,za.eH)(e||za.CB))}yield(0,ee.yJ)((0,I.ac)({payload:n,priority:Ma.b.High}));if((yield(0,ee.T1)(we.$v,we.D$.realTimeMetricsFlagship))&&a&&2e3===e.payload&&(yield(0,ee.T1)(fa,oa.Y.TOTAL_VIEWS,1)),3e4===e.payload){(yield(0,ee.Lt)(h.bT))===ae.vp.INFLUENCER&&(yield(0,ee.T1)(qa))}}function*Xa(){try{yield(0,ee.s)(N.b1),(0,Ie.XG)(Ie.mS),(0,jt.mT)();const e=Date.now(),t=Va();if(!t)return;const a=(0,Ie.v8)(),n=(0,Ie.Hg)(),r=a-n,i=yield(0,ee.Lt)(W),o=yield(0,ee.Lt)(z),s=yield(0,ee.Lt)($);if(!o||!s)return;const l=yield(0,ee.T1)(ka.m),c=e-o,d=Object.assign(Object.assign({},l),{[It.S.EventType]:bt.VideoPlayFromVideoLoadLatency,[It.S.IntPayload]:Math.round(c)});yield(0,ee.yJ)((0,I.ac)({payload:d,priority:St.Medium}));const u=e-s,p=Object.assign(Object.assign({},l),{[It.S.EventType]:bt.VideoPlayFromWidgetInViewLatency,[It.S.IntPayload]:Math.round(u)});yield(0,ee.yJ)((0,I.ac)({payload:p,priority:St.Medium}));const m=s-a,y=Object.assign(Object.assign({},l),{[It.S.EventType]:bt.WidgetInViewLatency,[It.S.IntPayload]:Math.round(m)});yield(0,ee.yJ)((0,I.ac)({payload:y,priority:St.Medium}));const g=t+r+(o-a);(0,Ie.kO)(Ie.MT,g);const f=yield(0,ee.T1)(ja),A=f?g+c:u,E=Object.assign(Object.assign({},l),{[It.S.EventType]:bt.TotalPlaybackLatency,[It.S.IntPayload]:A});yield(0,ee.yJ)((0,I.ac)({payload:E,priority:St.Medium})),(0,Ie.kO)(Ie.Kj,A);const v=f?t+(i-n):Math.max(i-s,0),T=Object.assign(Object.assign({},l),{[It.S.EventType]:bt.PosterLoadLatency,[It.S.IntPayload]:v});yield(0,ee.yJ)((0,I.ac)({payload:T,priority:St.Medium})),(0,Ie.kO)(Ie.Qt,v)}catch(e){Se.A.error(e,"Could not report player total playback latency metric for player")}}var Qa=a(4144);function*en(){try{if(!(yield(0,ee.Lt)(b.uD))||!window.P)return;const e=yield(0,ee.T1)(ka.m),t=(0,sa.d)("{}",va.A.get(va.A.Keys.LinkParameters)),a=Object.assign(Object.assign({},e),{[It.S.EventType]:bt.Click,[It.S.EventTriggerType]:Qa.d.ExpandPlayer,[It.S.JsonPayload]:t});yield(0,ee.yJ)((0,I.ac)({payload:a,priority:St.Medium}))}catch(e){Se.A.error(e,"Could not report expandPlayer metric")}finally{yield(0,ee.yJ)({type:I.tK})}}function*tn(){try{yield(0,ee.s)(M.aU),(0,Ie.XG)(Ie.Li),(0,Ie.lt)(Ie.mS);const e=yield(0,ee.Lt)(F),t=0!==e?Date.now()-e:null;if(t){const e=yield(0,ee.T1)(ka.m),a=Object.assign(Object.assign({},e),{[It.S.EventType]:bt.VideoLoadLatency,[It.S.IntPayload]:t});yield(0,ee.yJ)((0,I.ac)({payload:a,priority:Ma.b.Medium}))}}catch(e){Se.A.error(e,"Could not report video loaded latency for player")}}function*an(){yield(0,ee.Zy)(Ha),yield(0,ee.T1)(Ka),yield(0,ee.T1)(tn),yield(0,ee.jP)(N.IK,Ja),yield(0,ee.jP)(N.OR,Ja),yield(0,ee.jP)(N.n5,Ja),yield(0,ee.jP)(N.SV,Ja),yield(0,ee.jP)(N.JR,Za),yield(0,ee.jP)(I.Mp,en),yield(0,ee.T1)(Xa)}function*nn(){try{yield(0,ee.s)(D.Um);const e=yield(0,ee.T1)(At);e[It.S.EventType]=bt.WidgetInViewport,ht.emitMetricsPayload(e,St.High)}catch(e){Se.A.error(e,"Could not report viewport metrics for widget")}}function*rn(e){try{const t=yield(0,ee.T1)(At);if(t[It.S.EventType]=bt.Click,e.type!==D.aP)throw new Error("Invalid action passed to metrics");t[It.S.EventTriggerType]=Pt.d.TitleLink,ht.emitMetricsPayload(t,St.Low)}catch(e){Se.A.error(e,"Could not report metrics for carousel")}}function*on(){try{const e=yield(0,ee.T1)(At);if(e[It.S.EventType]=bt.PageLoad,(0,Ie.pl)("AmazonLiveFlagship:PageLoad"),ht.emitMetricsPayload(e,St.Medium),window.al_ltnc_m&&window.al_ltnc_m.al_st&&window.al_ltnc_m.al_end){const t=window.al_ltnc_m.al_end-window.al_ltnc_m.al_st;e[It.S.EventType]=bt.AssetsLoad,e[It.S.IntPayload]=t,ht.emitMetricsPayload(e,St.Medium)}}catch(e){Se.A.error(e,"Could not report pageload metric for widget")}}function*sn(){yield(0,ee.yJ)({type:"PAGE_LOAD"}),yield(0,ee.Q7)([on(),nn()]),yield(0,ee.jP)(D.aP,rn)}var ln=a(6926);function*cn(){try{const e=yield(0,ee.T1)(At);e[It.S.EventType]=bt.Click,e[It.S.EventTriggerType]=Pt.d.StarClicked,e[It.S.Widget]=ra.Reactions,ht.emitMetricsPayload(e,St.Low)}catch(e){Se.A.error(e,"Could not report star reaction metrics for widget")}}function*dn(e){try{const t=yield(0,ee.T1)(At);switch(t[Da.S.EventType]=xa.J.Click,t[Da.S.EventTriggerType]=e.payload.eventTriggerType,e.payload.eventTriggerType){case Qa.d.HelpfulVoteClickToVote:case Qa.d.HelpfulVoteClickToUnVote:t[Da.S.IntPayload]=e.payload.count;break;default:throw new Error(`Unexpected action type: ${e.payload.eventTriggerType}`)}ht.emitMetricsPayload(t,St.Low)}catch(t){Se.A.error(t,`Could not report metrics for ${e.type} clicks`)}}function*un(){try{const e=yield(0,ee.T1)(At);e[Da.S.EventType]=xa.J.Impression,e[Da.S.EventTriggerType]=Qa.d.HelpfulVoteView,ht.emitMetricsPayload(e,Ma.b.Low)}catch(e){Se.A.error(e,"Could not report impression metrics for vote button")}}function*pn(){yield(0,ee.jP)(ln.RP,cn),yield(0,ee.jP)(ln.KO,dn),yield(0,ee.jP)(ln.hk,un)}var mn=a(6685);function*yn(e){try{const t=yield(0,ee.T1)(ka.m),a=Object.assign(Object.assign({},t),{[It.S.EventType]:bt.Click,[It.S.Widget]:ra.Share});switch(e.type){case mn.X6:a[It.S.EventTriggerType]=Pt.d.ShareIcon;break;case mn.SC:a[It.S.EventTriggerType]=Pt.d.ShareButton,a[It.S.Context]=e.payload;break;case mn.s4:a[It.S.EventTriggerType]=Pt.d.CopyButton;break;default:throw new Error(`Unexpected action type: ${e.type}`)}yield(0,ee.yJ)((0,I.ac)({payload:a,priority:St.Medium}))}catch(e){Se.A.error(e,"Could not report metrics for social share clicks")}}function*gn(){const e=yield(0,ee.T1)(ka.m),t=Object.assign(Object.assign({},e),{[It.S.EventTriggerType]:Pt.d.ShareIcon,[It.S.EventType]:bt.MouseOver}),a=Ma.b.Medium;yield(0,ee.yJ)((0,I.ac)({payload:t,priority:a}))}function*fn(){yield(0,ee.jP)(mn.X6,yn),yield(0,ee.jP)(mn.dv,gn),yield(0,ee.jP)(mn.SC,yn),yield(0,ee.jP)(mn.s4,yn)}var An=a(572);function*En(e){try{const t=yield(0,ee.T1)(At);if(t[It.S.Widget]=ra.WatchMore,t[It.S.EventType]=bt.Click,e.payload){const{broadcastId:a,selectionReason:n}=e.payload;t[It.S.StringPayload]=a,n&&(t[It.S.JsonPayload]=((e,t)=>{const a=JSON.parse(e),n=Object.assign(Object.assign({},a),{selectionReason:t});return JSON.stringify(n)})(t[It.S.JsonPayload],n))}switch(e.type){case An.Qr:t[It.S.EventTriggerType]=Pt.d.BroadcastTile,t[It.S.SlotId]=e.payload.index;break;case An.R$:t[It.S.EventTriggerType]=Pt.d.TitleLink;break;case An.UP:t[It.S.EventTriggerType]=Pt.d.FooterLink;break;case An.cL:t[It.S.EventTriggerType]=Pt.d.BroadcastSwipe;break;default:throw new Error(`Unexpected action type: ${e.type}`)}ht.emitMetricsPayload(t,St.High)}catch(e){Se.A.error(e,"Could not report metrics for up next interaction")}}function*vn(){yield(0,ee.jP)(An.Qr,En),yield(0,ee.jP)(An.R$,En),yield(0,ee.jP)(An.UP,En),yield(0,ee.jP)(An.cL,En)}var Tn=a(1665);function*hn(e){try{const t=yield(0,ee.T1)(At);switch(t[It.S.EventType]=bt.Click,e.type){case Tn.o:if(!e.payload)throw new Error("missing payload for IMMERSIVE_TAB_CLICKED");t[It.S.EventTriggerType]=e.payload,t[It.S.Widget]=ra.ImmersiveTab;break;case Tn.BZ:t[It.S.EventTriggerType]=Pt.d.CreatorImage,t[It.S.Widget]=ra.ImmersiveCreatorImage;break;case Tn.Lq:t[It.S.EventTriggerType]=Pt.d.MoreOptions,t[It.S.Widget]=ra.ImmersiveMoreOptions;break;case Tn.wN:if(!e.payload)throw new Error("missing payload for BOTTOM_SHEET_OPTION_CLICKED");t[It.S.EventTriggerType]=Pt.d.BottomSheetOption,t[It.S.StringPayload]=e.payload,t[It.S.Widget]=ra.ImmersiveBottomSheetOption;break;default:throw new Error(`Unexpected action type: ${e.type}`)}ht.emitMetricsPayload(t,St.High)}catch(t){Se.A.error(t,`Could not report metrics for ${e.type} clicks`)}}function*Sn(){yield(0,ee.jP)(Tn.o,hn),yield(0,ee.jP)(Tn.BZ,hn),yield(0,ee.jP)(Tn.Lq,hn),yield(0,ee.jP)(Tn.wN,hn)}var bn=a(1147);const In=(e,t)=>{const a=JSON.parse(e),n=Object.assign(Object.assign({},a),{promoCodeId:t});return JSON.stringify(n)};function*Pn(e){try{const t=yield(0,ee.T1)(At);if(t[It.S.Widget]=ra.PromoCode,t[It.S.EventType]=bt.Click,e.type!==bn.uz)throw new Error(`Unexpected action type: ${e.type}`);switch(t[It.S.JsonPayload]=In(t[It.S.JsonPayload],e.payload.promoId),e.payload.displayType){case ae.as.CLAIM_SUCCESS:t[It.S.EventTriggerType]=Pt.d.PromoSuccess;break;case ae.as.CLAIM_FAILURE_NETWORK:t[It.S.EventTriggerType]=Pt.d.PromoNetworkFailure;break;case ae.as.CLAIM_FAILURE_GENERAL:t[It.S.EventTriggerType]=Pt.d.PromoFailure;break;default:return}ht.emitMetricsPayload(t,St.Medium);const a=yield(0,ee.T1)(we.$v,we.D$.realTimeMetricsFlagship),n=yield(0,ee.Lt)(i.yZ);a&&n&&t[It.S.EventTriggerType]===Pt.d.PromoSuccess&&(yield(0,ee.T1)(fa,oa.Y.PROMO_CLAIM,1))}catch(e){Se.A.error(e,"Could not report metrics for promo code claim clicks")}}function*_n(){yield(0,ee.jP)(bn.uz,Pn),yield function*(){try{yield(0,ee.s)(bn.AM);const e=yield(0,ee.T1)(At),t=yield(0,ee.Lt)(y.aC);e[It.S.Widget]=ra.PromoCode,e[It.S.EventType]=bt.InView,t&&(e[It.S.JsonPayload]=In(e[It.S.JsonPayload],t)),ht.emitMetricsPayload(e,St.Medium)}catch(e){Se.A.error(e,"Could not report metrics for promo code in view")}}()}var Cn=a(1776);function*wn(e){try{const t=yield(0,ee.T1)(At);switch(t[It.S.EventType]=bt.Click,t[It.S.Widget]=ra.TitleBar,e.type){case Cn.cl:t[It.S.EventTriggerType]=Pt.d.MoreStreams;break;case Cn.L3:t[It.S.EventTriggerType]=Pt.d.Logo;break;default:throw new Error(`Unexpected action type: ${e.type}`)}ht.emitMetricsPayload(t,St.High)}catch(e){Se.A.error(e,"Could not report metrics for title bar clicks")}}function*On(){yield(0,ee.jP)(Cn.cl,wn),yield(0,ee.jP)(Cn.L3,wn)}var Ln=a(8232);const Nn=(e,t)=>Object.assign(Object.assign({},e),t),Rn={[It.S.Widget]:ra.TwitchPlayer,[It.S.EventType]:bt.Click,[It.S.EventTriggerType]:Pt.d.AdOverlay};function*Dn(){const e=yield(0,ee.T1)(At),t=Nn(e,Rn);(0,ne.isMshop)()?window.addEventListener("beforeunload",()=>{ht.emitMetricsPayloadBeacon(t,St.High)}):ht.emitMetricsPayload(t,St.High),yield(0,ee.yJ)((0,Ln.Ix)())}function*kn(){dt.A.get(dt.A.Keys.DisplayAds)&&(yield(0,ee.nF)(750,Ln.z9,Dn))}var Mn=a(5156);function*xn(e){try{yield(0,ee.s)(I.hX);const t=yield(0,ee.T1)(At);switch(t[It.S.EventType]=bt.BroadcastFallback,e.payload&&(t[It.S.StringPayload]=e.payload.broadcastId),e.type){case Mn.fA:t[It.S.EventTriggerType]=Pt.d.Moderated;break;case Mn.h8:t[It.S.EventTriggerType]=Pt.d.Default;break;case Mn.fi:t[It.S.EventTriggerType]=Pt.d.Invalid;break;case Mn.VD:t[It.S.EventTriggerType]=Pt.d.Unpublished;break;default:throw new Error(`Unexpected action type: ${e.type}`)}ht.emitMetricsPayload(t,St.Medium)}catch(e){Se.A.error(e,"Could not report metrics for broadcast fallback")}}function*Bn(){yield(0,ee.jP)(Mn.fA,xn),yield(0,ee.jP)(Mn.h8,xn),yield(0,ee.jP)(Mn.fi,xn),yield(0,ee.jP)(Mn.VD,xn)}function*Vn({data:e}){try{const{payload:t,priority:a}=e,n=yield(0,ee.T1)(At),r=t[It.S.JsonPayload],i=Object.assign(Object.assign({},JSON.parse(n[It.S.JsonPayload])),JSON.parse("string"==typeof r?r:"{}")),o=Object.assign(Object.assign(Object.assign({},n),t),{[It.S.JsonPayload]:JSON.stringify(i)});ht.emitMetricsPayload(o,a)}catch(e){Se.A.error(e,"Could not report metrics")}}function*jn(){yield(0,ee.jP)(I.bi,Vn)}var Fn=a(7471),Un=a(127),zn=a(3472);function*Gn({payload:e}){yield(0,ee.T1)(rt.log,e)}function*$n({payload:e}){const t=yield(0,ee.Lt)(z),a=yield(0,ee.Lt)(U),n=yield(0,ee.Lt)(S.IT),r=(0,zn.$)(ye.A.get(ye.A.Keys.Display),n),i=Date.now(),o={dwellTime:e,pageFirstPaintToElementImpressed:t?i-t:-1,timeToImpressed:i-a,experience:r};yield(0,ee.T1)(it.log,o)}function*Wn(){yield(0,ee.jP)(Fn.gp,Gn),yield(0,ee.jP)(Un.vO,$n)}var Hn=a(8315),Jn=a(5631),Kn=a(5848);function*Yn({payload:e}){yield(0,ee.T1)(Ie.kO,Jn.Vp[e.direction],e.next)}function*qn({payload:e}){yield(0,ee.T1)(Ie.kO,Jn.$N,e)}function*Zn({payload:e}){yield(0,ee.T1)(Ie.kO,Jn.Iv,Math.round(e))}function*Xn({payload:{state:e}}){const t=(a=e,{[Kn.c.BUFFERING]:"BUFFERING",[Kn.c.PLAYING]:"PLAYING",[Kn.c.READY]:"READY",[Kn.c.IDLE]:"IDLE",[Kn.c.ENDED]:"ENDED"}[a]);var a;const n={[Da.S.EventType]:xa.J.PlayerStateChanged,[Da.S.StringPayload]:t};yield(0,ee.yJ)({type:I.bi,payload:n}),yield(0,ee.T1)(Ie.pl,Jn.hz[t])}function*Qn(e){yield(0,ee.T1)(Ie.pl,e)}function*er(){yield(0,ee.jP)(Hn.ZU,Yn),yield(0,ee.jP)(N.pO,Qn,Jn.$N),yield(0,ee.jP)(Hn.k,qn),yield(0,ee.jP)(M.So,Xn),yield(0,ee.jP)(Hn.Wt,Qn,Jn.lM),yield(0,ee.jP)(Hn.U4,Qn,Jn.$p),yield(0,ee.jP)(N.rc,Qn,Jn.UG),yield(0,ee.jP)(N.l6,Qn,Jn.eH),yield(0,ee.jP)(N.b1,Zn)}function*tr(){yield(0,ee.Q7)([jn(),kn(),Ua(),$a(),an(),(0,ia.e)(),sn(),pn(),fn(),vn(),Sn(),_n(),On(),Bn(),Wn(),er()])}var ar,nr,rr=a(309);function*ir(){const e=yield(0,ee.Lt)(i.ZG);return{[ar.BroadcastId]:e,[ar.EventContent]:"",[ar.EventType]:""}}function*or(e){try{const t=yield(0,ee.Lt)(rr.ro),{shoppingNotification:a}=t;if(!a)throw new Error(`Invalid input into submitting shopping notification event. URL: ${a}`);const n=yield(0,ee.T1)(ir);switch(e.type){case R.Ak:case R.Lf:{const t=e.payload,{asin:a=""}=t;if(!a)throw new Error(`Invalid input into submitting shopping notification event. ASIN: ${a}`);n[ar.EventContent]=a,n[ar.EventType]=nr.CarouselProductClick;break}case ln.RP:n[ar.EventContent]=nr.Starred,n[ar.EventType]=nr.StarClicked;break;default:throw new Error(`Invalid action for shopping notifications: ${e.type}`)}yield(0,ee.T1)(Bt.k8,a,n)}catch(e){Se.A.error(e,"Could not submit shopping notification event")}}function*sr(){yield(0,ee.jP)(R.Ak,or),yield(0,ee.jP)(R.Lf,or),yield(0,ee.IJ)(ln.RP,or)}!function(e){e.BroadcastId="liveBroadcastId",e.EventContent="eventContent",e.EventType="eventType"}(ar||(ar={})),function(e){e.CarouselProductClick="seeDetails",e.StarClicked="reactionStar",e.Starred="starred"}(nr||(nr={}));const lr=(0,a(6397).j)(!1);function*cr(){const e=yield(0,ee.Lt)(i.jN),t=yield(0,ee.Lt)(i.ZG);t&&e===ae.kL.AL&&(yield(0,ee.Zy)(Ca.A.fireContentRetargettingPixel,t))}function*dr(){yield(0,ee.nF)(3e3,N.QD,lr),yield(0,ee.jP)([x,I.hX],cr)}var ur=a(2726);const pr={[ur.t.MOBILE_AD_414X125]:"azlv_int_plyr_mb414ad"};function*mr(){const e=yield(0,ee.Lt)(i.ZG),t=yield(0,ee.Lt)(w.oy),a=(e=>pr[e]?`&ref_=${pr[e]}`:"")(ye.A.get(ye.A.Keys.Display)),n=`https://www.amazon.com/live?broadcast=${e}${a}`,r=t?`${t}${n}`:n;window.open(r,"_blank")}function*yr(){yield(0,ee.jP)(Ln.$B,mr)}function*gr(){const e=yield(0,ee.Lt)(i.ZG),t=yield(0,ee.Lt)(i.G9),a=yield(0,ee.Lt)(h.Cp),n=yield(0,ee.Lt)(h._G),r=yield(0,ee.Lt)(i.R2),o=yield(0,ee.T1)(At),s=(0,ne.isMshop)(),l=(0,ne.buildDestinationPageShareURL)(e,{subPageType:r?ne.DESTINATION_SUB_PAGE_TYPE.VIDEO:ne.DESTINATION_SUB_PAGE_TYPE.BROADCAST});(0,ne.shareWithFriends)({broadcastTitle:t,channelTitle:a,slateImageUrl:n,shareUrl:l},{onShareServiceSelected:e=>{try{o[It.S.EventType]=bt.ShareServiceSelected,o[It.S.Context]=e||"",ht.emitMetricsPayload(o,St.Medium)}catch(e){Se.A.error(e,"Could not report metrics for share social network selected")}}},s)}function*fr(){yield(0,ee.jP)(mn.X6,gr)}var Ar=a(3149),Er=a(9),vr=a(1027),Tr=a(3467),hr=a(7280),Sr=a(6376),br=a(6252),Ir=a(903),Pr=a(2984),_r=a(4147),Cr=a(1561),wr=a(9865),Or=a(5416),Lr=a(5209),Nr=a(9496);const Rr="liveDestination";function Dr(e){window.P?window.P.when("A").execute(t=>{t.trigger("amazonLiveEvent:triggerUpdateHistoryEvent",e)}):Se.A.error("Fail to trigger amazonLiveEvent:triggerUpdateHistoryEvent event")}function*kr(e){if(!(0,Ar.A)(e.payload))return;const{broadcastId:t}=e.payload;let a,n=[];if((0,we.gN)()&&(n=yield(0,ee.Lt)(J.E3),n.length>0)){const e=n.find(e=>e.broadcastId===t);if(!e)return void Se.A.fatal(`nextBroadcast is missing for id: ${t}`);a=e.source}return n.length||(n=yield(0,ee.Lt)(m.FK),a=yield(0,ee.Lt)(i.jN)),{broadcastId:t,videoSource:a,nextBroadcasts:n}}function*Mr(e){const t=yield*kr(e);if(t){const{broadcastId:e,videoSource:a,nextBroadcasts:n}=t;yield(0,ee.T1)(Ti,{broadcastId:e,source:a,playlist:n})}}function*xr(e){const t=yield*kr(e);if(t){const{broadcastId:e,videoSource:a,nextBroadcasts:n}=t,r={broadcastId:e,source:a||"",experience:(0,ot.$e)()};let i=!1;const o=()=>{i=!0};(0,ot.X1)({},r,()=>{},o),i&&(yield(0,ee.T1)(Ti,{broadcastId:e,source:a,playlist:n}))}}var Br,Vr=a(8628),jr=a(4658),Fr=a(1875),Ur=a(7569);!function(e){let t,a;function n(e){t=e,a=Date.now()}e.initialize=n,e.update=function(e){n(e)},e.get=function(){return{token:t,timestamp:a}}}(Br||(Br={}));var zr=Br,Gr=a(614),$r=a(2353);const Wr=(0,ne.getNotifyMeProxyURL)();function*Hr(){let e=zr.get();if(!e.token)try{const t=yield(0,ee.T1)(jr.PQ,Wr);t?(zr.initialize(t),(0,Ie.pl)(Vr.R.GENERATE_NOTIFY_ME_PROXY_CSRF_TOKEN_SUCCESS)):((0,Ie.pl)(Vr.R.GENERATE_NOTIFY_ME_PROXY_CSRF_TOKEN_ERROR),Se.A.error("Failed to get NotifyMeProcyCSRF Token - Invalid token received")),e=zr.get()}catch(e){(0,Ie.pl)(Vr.R.GENERATE_NOTIFY_ME_PROXY_CSRF_TOKEN_ERROR),Se.A.error("Failed to get NotifyMeProcyCSRF Token",e)}return e.token}function*Jr(){try{if((0,Ur.Y)()){const e=yield(0,ee.T1)(jr.V5,Wr);void 0!==e?(yield(0,ee.yJ)({type:I.qK,data:e}),(0,Ie.pl)(Vr.R.GET_REMINDER_ON_BROADCAST_LIST_SUCCESS)):((0,Ie.pl)(Vr.R.GET_REMINDER_ON_BROADCAST_LIST_ERROR),Se.A.error("Failed to get ReminderOnBroadcastList"))}}catch(e){(0,Ie.pl)(Vr.R.GET_REMINDER_ON_BROADCAST_LIST_ERROR),Se.A.error("Failed to get ReminderOnBroadcastList",e)}const e=yield(0,ee.T1)(At),t=Nn(e,Vr.x.view);ht.emitMetricsPayload(t,Ma.b.Medium)}function*Kr(){try{const e=yield(0,ee.T1)(At),t=Nn(e,Vr.x.click);ht.emitMetricsPayload(t,Ma.b.Medium),(0,Ur.Y)()||((0,Ie.pl)(Vr.R.USER_NOT_LOGGED_IN),window.open((0,ne.getSignInUrl)(),"_self")),yield(0,ee.yJ)({type:I.Jx,status:ae.l.Pending});const a=yield(0,ee.T1)(Hr);if(!a)return(0,Ie.pl)(Vr.R.SET_BROADCAST_REMINDER_ERROR),void(yield(0,ee.yJ)({type:I.Jx,status:ae.l.Failure}));const n=yield(0,ee.Lt)(i.ZG),r=((yield(0,ee.Lt)(v.MB))||[]).includes(n),{response:o}=yield(0,ee.T1)(jr.KW,{proxyUrl:Wr,token:a,broadcastId:n,notificationStatus:r?I.yK.OFF:I.yK.ON});o&&200===o.status?(yield*Jr(),(0,Ie.pl)(Vr.R.SET_BROADCAST_REMINDER_SUCCESS),yield(0,ee.yJ)({type:I.Jx,status:ae.l.Success})):(yield(0,ee.yJ)({type:I.Jx,status:ae.l.Failure}),(0,Ie.pl)(Vr.R.SET_BROADCAST_REMINDER_ERROR))}catch(e){(0,Ie.pl)(Vr.R.SET_BROADCAST_REMINDER_ERROR),Se.A.error("Failed to set reminder",e),yield(0,ee.yJ)({type:I.Jx,status:ae.l.Failure})}}function*Yr(){yield(0,ee.p8)(N.Px,Kr)}const qr=(e,t=!1)=>t?["SUBSCRIBED","NOT_SUBSCRIBED"].includes(e):["ALL_LIVE","NO_LIVE","SUGGESTED_LIVE","UNFOLLOW"].includes(e),Zr=(e,t=!1)=>{if(t){return/^[A-Z0-9_]+$/.test(e)&&e.length>=1&&e.length<=50}return/[a-z0-9]{8}(-)[a-z0-9]{4}(-)[a-z0-9]{4}(-)[a-z0-9]{4}(-)[a-z0-9]{12}/g.test(e)};function*Xr(e){var t;try{const a=yield(0,ee.T1)(At),n=Nn(a,Vr.x.notificationView);if(ye.A.get(ye.A.Keys.Source)===ae.kL.VSE)return;if(!(0,we.Gl)(!0))return;if(!(0,Ur.Y)())return void(0,Ie.pl)(Vr.R.USER_NOT_LOGGED_IN);const r=yield(0,ee.T1)(Hr);if(!r)throw new Error("No token.");let i,o;const s=(null===(t=null==e?void 0:e.payload)||void 0===t?void 0:t.type)===Gr.ni;if(s?(i=e.payload.eventId,o="CustomEventId"):(i=yield(0,ee.Lt)(h.Ju),o=ae.Ej),!i||!Zr(i,s))throw new Error("EntityId/ChannelId is null or is in an incorrect format.");const{response:l}=yield(0,ee.T1)(Fr.k,{proxyUrl:Wr,token:r,entityId:i,entityIdType:o});if(!(l&&200===l.status&&l.data.setting&&qr(l.data.setting,s)))throw new Error("API failed to get live notification setting data");(0,Ie.pl)(Vr.R.GET_NOTIFICATION_SUCCESS),n[It.S.Context]=l.data.setting,n[It.S.JsonPayload]=JSON.stringify({isCustomNotification:s,entityId:i}),ht.emitMetricsPayload(n,Ma.b.Medium),s?yield(0,ee.yJ)({type:Gr.pJ,payload:{eventId:i,setting:l.data.setting}}):yield(0,ee.yJ)({type:I.oc,payload:l.data.setting})}catch(e){(0,Ie.pl)(Vr.R.GET_NOTIFICATION_ERROR),Se.A.error("Failed to get CustomerLiveNotificationSettingForEntity",e)}}function*Qr(e){var t;try{const a=yield(0,ee.T1)(At),n=Nn(a,Vr.x.notificationClick);if(!(0,we.Gl)(!0))return;if(!(0,Ur.Y)())return(0,Ie.pl)(Vr.R.USER_NOT_LOGGED_IN),void window.open((0,ne.getSignInUrl)(),"_self");const r=yield(0,ee.T1)(Hr);let i,o,s;r||Se.A.warn("No token.");const l=(null===(t=null==e?void 0:e.payload)||void 0===t?void 0:t.type)===Gr.ni;l?(i=e.payload.eventId,o="CustomEventId",s=e.payload.setting):(i=yield(0,ee.Lt)(h.Ju),o=ae.Ej,s=yield(0,ee.Lt)(K.v_)),i&&Zr(i,l)||Se.A.warn("EntityId/ChannelId is null or is in an incorrect format."),qr(s,l)||Se.A.warn("Setting is in an invalid format.");const{response:c}=yield(0,ee.T1)(Fr.Y,{proxyUrl:Wr,token:r,entityId:i,entityIdType:o,setting:s});if(!c||200!==c.status||"success"!==c.data.setStatus)throw(0,Ie.pl)(Vr.R.SET_NOTIFICATION_API_ERROR),new Error("API failed to set live notification setting data");(0,Ie.pl)(Vr.R.SET_NOTIFICATION_SUCCESS),n[It.S.Context]=s,n[It.S.JsonPayload]=JSON.stringify({isCustomNotification:l,entityId:i}),ht.emitMetricsPayload(n,Ma.b.Medium),l?yield(0,ee.yJ)({type:Gr.pJ,payload:{eventId:i,setting:s}}):yield(0,ee.yJ)({type:I.SQ,status:ae.qR.Success})}catch(e){(0,Ie.pl)(Vr.R.SET_NOTIFICATION_ERROR),Se.A.error("Failed to set CustomerNotificationSettingForEntity",e),yield(0,ee.yJ)({type:I.SQ,status:ae.qR.Failure})}}function*ei(){yield(0,ee.jP)([Gr.NL,I.jm,Gr.kv],Xr),yield(0,ee.p8)([Gr.qQ,$r.zd,$r.Sx,Gr.eW],Qr)}const ti="No broadcast found";function*ai(e){const t=yield(0,ee.T1)(Bt.uj,e),a=(0,Tr.A)(t,["response","data",Sr.A.PLAYLIST,"0","asin"]);if(!t.response||!a)throw new Error(ti);const n=t.response.data[Sr.A.ENDPOINTS],r=yield(0,ee.T1)(Bt.uj,n[Sr.A.SHOW]);if(!r.response)throw new Error("Empty endpoints response");const i=(0,Nr.A)(r.response.data[Sr.A.SHOW],t.response.data);yield*function*(e,t,a,n){const r=yield(0,ee.Lt)(rr.ro);yield(0,ee.yJ)(br.lQ[Ir.LU.ENDPOINTS]({playlist:e,channel:t,carousel:a,products:null==n?void 0:n.products,reload:null==n?void 0:n.reload,productsCache:(null==n?void 0:n.productsCache)||r.productsCache,reloadCache:(null==n?void 0:n.reloadCache)||r.reloadCache}))}(e,n[Sr.A.SHOW]);const o=(0,Or.A)(r.response.data[Sr.A.SHOW]),s=(0,wr.A)(r.response.data[Sr.A.SHOW],t.response.data),l=(0,Lr.A)(t.response.data),c=[];return c.push((0,ee.yJ)({type:I.A9})),yield(0,ee.yJ)({type:_r.u,payload:Cr.PO}),i.broadcast.status===ae.uj.LIVE?c.push((0,ee.yJ)({type:I.Kb})):yield(0,ee.yJ)({type:_r.u,payload:Cr.oc}),c.push((0,ee.yJ)({type:bn.En,data:l.pinnedMessage})),(0,vr.d)(i.broadcast.trimming)&&(yield(0,ee.yJ)({type:Er.w,data:{weblabEnabled:(0,we.$v)(we.D$.trimmingEnabled)}})),yield(0,ee.Q7)([(0,ee.yJ)({type:N.Ol,payload:""}),(0,ee.yJ)({type:I.hX,data:i.broadcast}),(0,ee.yJ)({type:I.po,data:!1}),(0,ee.yJ)({type:I.ZN,data:i.channel}),(0,ee.yJ)({type:I.jm,data:o.follow}),(0,ee.yJ)({type:I.MC,data:s.associate}),...c,(0,ee.yJ)({type:I.wA}),(0,ee.yJ)({type:I.hq}),(0,ee.T1)(nn)]),yield(0,ee.T1)(Lt,i.broadcast.segments.segmentItems),i.broadcast.id}function*ni(){ye.A.initialize({[ye.A.Keys.Source]:ae.kL.NONE}),yield(0,ee.yJ)({type:I.po,data:!0}),yield(0,ee.yJ)({type:N.Ol,payload:""}),yield(0,ee.yJ)({type:I.fI,data:{items:{},deals:{},promoCodes:{}}}),yield(0,ee.yJ)({type:I.ZN,data:de}),yield(0,ee.yJ)({type:I.hX,data:ce})}function*ri(){if((0,we.Gh)(we.D$.unmutedAutoplayDetection)===we.T1){if(yield(0,ee.Lt)(b.gB)){const{result:e}=yield hr.A.video({muted:!1,inline:!0});yield(0,ee.yJ)({type:N.D2,payload:!e})}}}function*ii({payload:{broadcastId:e,origin:t,source:a,immersive:n=!1,playlist:r}}){try{dt.A.initialize({[ut.m.DeeplinkAsin]:"",[ut.m.DeeplinkTimestamp]:0});const o=yield(0,ee.Lt)(i.ZG),s="videoCarouselWidgetTile"===t||(0,ze.Fr)()&&n;if(o===e)return void(s&&(yield(0,ee.yJ)((0,Pr.di)({x:window.scrollX,y:window.scrollY})),yield(0,ee.yJ)((0,I.q8)()),yield(0,ee.yJ)((0,Zt.FG)({origin:t}))));const l=yield(0,ee.Lt)(i.yZ),c=yield(0,ee.Lt)(b.u3);if(l&&c===ae.ln.Ended?yield(0,ee.T1)(ni):yield(0,ee.Q7)([ni(),ri()]),ye.A.initialize({[ye.A.Keys.Source]:a}),yield(0,ee.yJ)((0,Zt.FG)({origin:t})),s&&(yield(0,ee.yJ)((0,Pr.di)({x:window.scrollX,y:window.scrollY})),yield(0,ee.yJ)((0,I.q8)())),a===ae.kL.VSE){const t=yield(0,ee.T1)(at.XC);yield(0,ee.yJ)(ie(e,t,Qt.A.get(),r))}else{const t=((e,t)=>{try{if(!t)throw new Error("Fail to generate broadcastUrl");const a=new URL(t),n=a.origin+a.pathname,r=a.searchParams;return r.set("broadcast",e),r.delete("channel"),new URL(`?${r.toString()}`,n).toString()}catch(e){Se.A.error(e,"Fail to generate broadcastUrl")}})(e,(yield(0,ee.Lt)(rr.ro)).playlist);if(!t)throw new Error("broadcastUrl is empty");yield*ai(t),s&&(0,we.Gh)(we.D$.guaranteedNotifications)===we.T1&&(yield function*(){const e=yield(0,ee.Lt)(i.at),t=yield(0,ee.Lt)(h.z$);[ae.uj.FUTURE,ae.uj.PRE_LIVE].includes(e)&&t&&(yield(0,ee.T1)(Jr))}())}}catch(e){Se.A.error(e,"Encountered an error when fetching broadcast metadata")}}function*oi(){const e=yield(0,ee.Lt)(i.ZG);try{const e=yield(0,ee.Lt)(h.Ju),t=((e,t)=>{try{if(!t)throw new Error("Fail to generate channelUrl");const a=new URL(t),n=a.origin+a.pathname,r=a.searchParams;return r.set("channel",e),r.delete("broadcast"),r.set("portalOptions",JSON.stringify({preLiveTimeFrame:"0m",gracePeriodTimeFrame:"0m",enableVod:!0,vodTimeFrame:"180d"})),new URL(`?${r.toString()}`,n).toString()}catch(e){Se.A.error(e,"Fail to generate channelUrl")}})(e,(yield(0,ee.Lt)(rr.ro)).playlist);if(!t)throw new Error("channelUrl is empty");Dr(yield*ai(t))}catch(t){t.message===ti&&((0,jt.jw)(),yield(0,ee.yJ)({type:Mn.h8,payload:{broadcastId:e}})),Se.A.error(t,"Encountered an error when fetching channel metadata")}}var si=a(8561),li=a(33);const ci=(e,t={})=>{if(!window.P)return;const a=Object.assign(Object.assign({},t),{requestId:(0,ne.getRequestId)()});window.P.when("mash").execute(t=>{t.dispatchEvent({type:e,detail:a})})};function*di(){yield(0,ee.T1)(ci,si.H.WidgetInView)}function*ui(){yield(0,ee.T1)(ci,si.H.WidgetOutOfView)}function*pi(){yield(0,ee.T1)(ci,si.H.PlayerInViewAfterDelay)}function*mi(){yield(0,ee.T1)(ci,si.H.PlayerOutOfView)}function*yi(){yield(0,ee.T1)(ci,si.H.PlayerInView)}function*gi(){yield(0,ee.T1)(ci,si.H.PlayerShouldAutoplay)}function*fi(){yield(0,ee.T1)(ci,si.H.PlayerShouldNotAutoplay)}function*Ai({payload:e}){const{shouldAutoplay:t}=e;t?yield(0,ee.T1)(gi):yield(0,ee.T1)(fi)}function*Ei(){const e=yield(0,ee.Lt)(b.V5),t=yield(0,ee.Lt)(b.wq),a=yield(0,ee.Lt)(b.N9),n=yield(0,ee.Lt)(b.GD);yield(0,ee.T1)(Ai,(0,N.ON)({shouldAutoplay:n})),e?yield(0,ee.T1)(di):yield(0,ee.T1)(ui),t&&(yield(0,ee.T1)(yi)),a&&(yield(0,ee.T1)(pi))}function*vi(){yield(0,ee.jP)(N.z0,pi),yield(0,ee.jP)(N.Jf,mi),yield(0,ee.jP)(N.Sv,yi),yield(0,ee.jP)(D.re,di),yield(0,ee.jP)(D.SB,ui),yield(0,ee.jP)(li.T.NATIVE_LOADED,Ei),yield(0,ee.jP)(N.lq,Ai)}function Ti(e){const{broadcastId:t}=e;t?(te.rX.put({type:I.rx,payload:e}),ci(ae.TW.AMAZON_LIVE_CHANGE_BROADCAST,e)):Se.A.error("Fail to provide newBroadcastId while changing broadcast")}function hi(){te.rX.put({type:I.Ub})}function*Si(){if(window.P){window.P.when("A").execute(e=>{e.on(ae.TW.AMAZON_LIVE_CHANGE_BROADCAST,(...e)=>{let t=e[0];if(!(0,Ar.A)(e[0])){const[a,n,r,i,o,s,l]=e;t={broadcastId:a,origin:n,source:r,immersive:i,playlist:o,strategyId:s,ingressWidget:l}}Ti(t)}),e.on(ae.TW.AMAZON_LIVE_RESET_BROADCAST,hi)});const e=yield(0,ee.Lt)(f.X);(0,vr.d)(e)&&(yield(0,ee.yJ)({type:Er.w,data:{weblabEnabled:(0,we.$v)(we.D$.trimmingEnabled)}})),yield(0,ee.jP)(I.rx,ii),yield(0,ee.jP)(I.Ub,ni)}else Se.A.error(`Fail to setup listener for ${ae.TW.AMAZON_LIVE_CHANGE_BROADCAST} event`)}function*bi(){yield(0,ee.jP)(I.$f,oi)}function*Ii(){yield(0,ee.Q7)([(0,ee.s)(N.wf),(0,ee.s)(R.o_),(0,ee.s)(R.rF),(0,ee.s)(R.xu)]),yield(0,ee.yJ)({type:I.jO})}var Pi=a(7393),_i=a(1767),Ci=a(8272),wi=a(3281),Oi=a(5451),Li=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};const Ni=(e,t="")=>Li(void 0,void 0,void 0,function*(){try{const a=`${yield(0,ne.getNotifyMeProxyURL)()}firetvservice/recommendations`,n=a+"?experience=flagship"+(t&&!t.includes("liveDestination")?`&broadcastId=${e}`:""),r=yield(0,Bt.uj)(n,{withCredentials:!0}),{response:i,error:o}=r;if(i&&200===i.status){(0,Ie.pl)(Oi.Em.reportForYouRecommendationsLoadedSuccess);const{data:{recommendations:e}}=i;return e}if(o)throw new Error(`Failed to fetch Proxy API: ${o}`)}catch(e){(0,Ie.pl)(Oi.Em.reportForYouRecommendationsLoadedError),Se.A.fatal(e)}});var Ri=a(432);const Di=(0,Ri.R)(Se.A);function*ki(){const e=yield(0,ee.Lt)(i.kn),[t]=(e||"").split(",");if(!t){const e=yield(0,ee.Lt)(i.ZG);throw Error(`missing asin for get-related-videos-asin [${e}]`)}const a=yield(0,ee.T1)(at.XC),n=Qt.A.get(),r=ye.A.get(ye.A.Keys.MarketplaceId),o=ve(ye.A.get(ye.A.Keys.Locale)||"en-US",r),s=ge.A.get();return{relatedVideosAsinUrl:`${`https://${(0,fe.d)(r,a)}/custom/vsevideodataaggregatorcontracts/amazon-api-vse`}/${r}/get-related-videos-asin`,body:JSON.stringify({identifiers:[{id:t,type:"PRODUCT_ASIN"}],queryContext:{placement:"ASVH"}}),config:{headers:Object.assign({"Accept-Language":`${o}`,Accept:'application/vnd.com.amazon.api+json; type="aapi.vsevideodataaggregatorcontracts.vse.get-related-videos.response/v1"',"Content-type":'application/vnd.com.amazon.api+json; type="aapi.vsevideodataaggregatorcontracts.vse.get-related-videos.request/v1"',"x-api-csrf-token":n},s&&{"x-amzn-encrypted-slate-token":s}),withCredentials:!0}}}var Mi=a(743);const xi=e=>(0,_i.h)({logger:Se.A,backoff:Di,broadcastIds:e}),Bi=(({logger:e,backoff:t})=>function*(){try{const{relatedVideosAsinUrl:e,body:n,config:r}=yield(0,ee.T1)(ki),{response:i}=yield(0,ee.T1)(t,e,{defaultWaitTimeMillis:2e3,maxWaitTimeMillis:6e3,backOffFactor:1.5,method:Ri.d.IDEMPOTENT_POST},n,r);if(i){const e=(a=i.data,me(a).map(e=>({channel:{title:e.channel.title,slateImageUrl:e.channel.slateImageUrl},broadcast:{id:e.broadcast.id,title:e.broadcast.title}})));yield(0,ee.yJ)({type:I.q$,data:{videos:e}})}}catch(t){e.error(t,"Unable to fetch up next data")}var a})({logger:Se.A,backoff:Di});function*Vi(){if((0,Ur.M)()){const e=yield(0,ee.Lt)(i.ZG),t=yield(0,ee.T1)(va.A.get,va.A.Keys.PageType),a=yield(0,ee.T1)(Ni,e,t);if(a&&a.length>0){const e=(0,wi.q)(a);yield(0,ee.yJ)((0,Mi.x)(e))}else yield(0,ee.T1)(xi)}else yield(0,ee.T1)(xi)}function*ji(){yield(0,ee.s)(I.hX),yield(0,ee.T1)(Bi)}function*Fi({payload:{source:e,playlist:t}}){if(t&&t.length>0)if((0,we.gN)())yield(0,ee.yJ)((0,Mi.x)(t));else if(e===ae.kL.AL){const e=(0,Ci.V)(t);yield(0,ee.yJ)({type:I.q$,data:{broadcasts:e}})}else{const e=(0,Ci.B)(t);yield(0,ee.yJ)({type:I.q$,data:{videos:e}})}else yield(0,ee.s)(I.hX),e===ae.kL.VSE&&(yield(0,ee.T1)(ji))}function*Ui(){yield(0,ee.Q7)([(0,ee.s)(I.jO),(0,ee.s)(An.rC)]);const e=yield(0,ee.Lt)(i.ZG),t=ye.A.get(ye.A.Keys.Source),a=(0,we.gN)(),n=dt.A.get(ut.m.UpNextBroadcastIds);e&&t===ae.kL.AL?a&&!n?yield(0,ee.T1)(Vi):yield(0,ee.T1)(xi(n)):t===ae.kL.VSE&&(yield(0,ee.T1)(Bi))}function*zi(){(0,Pi.i)()&&(yield(0,ee.Q7)([(0,ee.jP)(I.rx,Fi),(0,ee.p8)(An.Qr,xr),(0,ee.p8)(An.cL,Mr),(0,ee.T1)(Ui)]))}var Gi=a(6401),$i=a(191);function*Wi(e,t,a,n){a?yield(0,ee.yJ)({type:bn.uz,payload:{displayType:ae.as.CLAIM_SUCCESS,promoId:e}}):t?(yield(0,ee.yJ)({type:bn.uz,payload:{displayType:ae.as.CLAIM_FAILURE_NETWORK,promoId:e}}),yield(0,ee.cb)(6e3),yield(0,ee.yJ)({type:bn.uz,payload:{displayType:ae.as.MESSAGE,promoId:e}})):n?yield(0,ee.yJ)({type:bn.uz,payload:{displayType:ae.as.CLAIM_FAILURE_GENERAL,promoId:e}}):(yield(0,ee.yJ)({type:bn.uz,payload:{displayType:ae.as.CLAIM_FAILURE_GENERAL,promoId:e}}),yield(0,ee.cb)(6e3),yield(0,ee.yJ)({type:bn.uz,payload:{displayType:ae.as.MESSAGE,promoId:e}}))}function*Hi(){var e;let t=!1;const a=yield(0,ee.Lt)(g._7);if(!Array.isArray(a)||0===a.length)return;const n=yield(0,ee.T1)(ne.getMerchantId),r=(0,Ae.kh)(n),i=yield(0,ee.T1)(at.XC),o=(0,ne.getNotifyMeProxyURL)(),s=yield(0,ee.T1)(jr.PQ,o);void 0!==s||(t=!0);const l={headers:{"content-type":"application/json","anti-csrftoken-a2z":s},withCredentials:!0},c=yield(0,ee.T1)(Bt.k8,(0,$i.bz)(r,i),{promoCodes:a},l),d="Network Error"===(null===(e=c.error)||void 0===e?void 0:e.message),u=function(e){return(0,Gi.A)(e.error)}(c);yield(0,ee.T1)(Wi,a.join("-"),d,u,t)}function*Ji(){yield(0,ee.jP)(bn.Sk,Hi)}function*Ki(){yield(0,ee.yJ)({type:I.wA})}function*Yi(){if((()=>{const e=dt.A.get(ut.m.UnexpandScrollIntoView);return dt.A.isValidWidgetOption(e,e=>"boolean"==typeof e)?e:ut.s[ut.m.UnexpandScrollIntoView]})()){const{x:e,y:t}=yield(0,ee.Lt)(A.OK);setTimeout(()=>{window.scrollTo(e,t)},100)}}var qi=a(6819),Zi=a(7823);const Xi=[we.D$.anpAggressivePrewarming,we.D$.statePassExperimentCarouselData];var Qi=a(3839),eo=a(9706),to=a(9161),ao=a(296);function*no(){try{const e=Date.now();if((0,we.Gh)(we.D$.statePassExperimentCarouselData)===we.T1){const t=yield(0,ee.Lt)(o.L7),a=Object.values(t).filter(e=>"CUSTOM_NOTIFICATION_TILE"!==e.segmentItemSubType).map(e=>e.asin).filter(e=>void 0!==e);return(0,Ie.kO)(Ie.RB,Date.now()-e),JSON.stringify(a)}return""}catch(e){return""}}const ro=qi.o.InlineIngressNoFNV;function*io(){const e=yield(0,ee.T1)(eo.n.getInstance);if(!e)return;const t=yield(0,ee.T1)(e.getMetricsSnapshot.bind(e));return yield(0,ee.T1)(Zi.R,t.viewport2s,t.viewport30s,t.minWatched)}const oo=()=>{const{pd_rd_i:e,pd_rd_r:t,pd_rd_w:a,pd_rd_wg:n,pf_rd_r:r,pf_rd_m:i,pf_rd_s:o}=(0,yt.R)();return`pd_rd_i=${e}&pd_rd_r=${t}&pd_rd_w=${a}&pd_rd_wg=${n}&pf_rd_r=${r}&pf_rd_m=${i}&pf_rd_s=${o}`},so=(e,t)=>{const{carousel:a,channel:n,broadcast:r,associate:i,follow:o}=e;let s=JSON.stringify({carousel:a});t===we.T2&&(s=JSON.stringify({carousel:a,channel:n,broadcast:r,associate:i,follow:o}));return new Blob([s]).size<7e5?s:((0,Ie.pl)("FlagshipStateSizeExceedsAllowedLimit"),"")};function*lo(){if(!dt.A.get(ut.m.DisableANP)){const e="liveDestination"!==(yield(0,ee.T1)(ne.getPageType)),t=yield(0,ee.T1)(ne.UserAgent.isAndroid);let a;a=e?t?we.D$.anpFederatedAndroid:we.D$.anpFederated:t?we.D$.anpASVHAndroid:we.D$.anpASVH;return yield(0,ee.T1)(we.Gh,a)}return we.W3}var co;function uo(e,t){const a=ye.A.get(ye.A.Keys.MarketplaceId),n=dt.A.get(ut.m.IsChatEnabled);return(0,Ae.dg)(a)?co.EU:a===Ae.Y_||a===Ae.D?t===we.T1?co.India:co.IndiaUnmuted:"liveDestination"===e?t===we.T1?co.ASVH:co.ASVHUnmuted:"AmazonStores"===e?!1===n?co.BrandStoresWithChatDisabled:co.BrandStores:t===we.T1?co.Federated:co.FederatedUnmuted}function*po(e){const t=yield(0,ee.Lt)(i.ZG),a=yield(0,ee.Lt)(i.R2),n=yield(0,ee.Lt)(at.XC),r=yield(0,ee.T1)(ne.getPageId),o=yield(0,ee.T1)(ne.getPageType),s=yield(0,ee.T1)(ne.getSubPageType),l=yield(0,ee.T1)(tt.ie),c=yield(0,ee.T1)(tt.J1),d=yield(0,ee.T1)(io),u=yield(0,ee.T1)(va.A.get,va.A.Keys.RequestId),p=ye.A.get(ye.A.Keys.MarketplaceId),m=yield(0,ee.T1)(Ae.R5,p),y=String(Date.now()),g=oo(),A=yield(0,ee.Lt)(i.$m),E=yield(0,ee.Lt)(i.r4),v=yield(0,ee.Lt)(f.X),T=yield(0,ee.T1)(Qi.l$,A,E,v),h=yield(0,ee.Lt)(i.at),S=yield(0,ee.Lt)(i.oe),b=yield(0,ee.T1)(lo),I=(yield(0,ee.T1)(va.A.get,va.A.Keys.CustomerId))||"",P=b!==we.W3||(0,Ae.dg)(p),_=encodeURIComponent(yield(0,ee.T1)(no));yield e;const C=`${m}/live/${a?"video":"broadcast"}/${t}${P?`?placementId=${uo(o,b)}&`:"?"}stage=${n}&ref=${ro}&pageId=${r}&pageType=${o}&subPageType=${s}&slotName=${l}&amabotPlacementId=${c}${P?"":`&placementId=${c}`}&metricsState=${d}&req=${u}&marketplaceId=${p}&watchNowClickTimestamp=${y}&${g}&videoSource=${T}&broadcastStatus=${h}&videoOrientation=${S}&cid=${I}&weblabs=${Xi.map(e=>`${e}:${(0,we.Gh)(e)}`).join(",")}${_?`&carouselStateData=${_}`:""}`;if(P)return C;const w=`${C}&skeletonLoaderTreatment=${(0,we.Gh)(we.D$.catamaranSkeletonLoader,!0)}`;try{const e=(0,we.Gh)(we.D$.flagshipToCatamaranStatePass);if(e===we.W3)return`${w}&statePassTreatment=${e}`;const t=yield(0,ee.Lt)(i.p0),a=encodeURIComponent(so(t,e)),n=JSON.stringify((0,we.WD)());return a?((0,Ie.pl)("FlagshipToCatamaranStatePass:Success"),`${w}&playerstate=${a}&triggeredWeblabs=${n}`):(Se.A.info("Returning url without flagship state : ",a),`${w}&triggeredWeblabs=${n}`)}catch(e){(0,Ie.pl)("FlagshipToCatamaranStatePass:Failed"),Se.A.warn("Passing state from FS to catamaran failed",e)}return w}function*mo(e,t){const a=window.location.origin,n=yield(0,ee.Lt)(i.ZG),r=(yield(0,ee.Lt)(i.R2))?"video":"broadcast",o=oo();switch(t){case ao.wO.LANDING:return`${a}/live?ref_=${e}&${o}`;case ao.wO.SOCIAL:return`${a}/live/compass/social/${r}/${n}?ref_=${e}&${o}`;case ao.wO.COMPASS:default:return`${a}/live/compass/${r}/${n}?ref_=${e}&${o}`}}!function(e){e.ASVH="shopping-videos-home",e.ASVHUnmuted="asv-home-unmuted",e.Federated="shopping-videos-federated",e.FederatedUnmuted="asv-federated-unmuted",e.India="asv-india",e.IndiaUnmuted="asv-india-unmuted",e.EU="asv-eu",e.BrandStores="asv-store-brands",e.BrandStoresWithChatDisabled="asv-store-brands-chat-disabled"}(co||(co={}));const yo=()=>(0,Ie.pl)("ALImmersiveLoadSuccess"),go=e=>{(0,Ie.pl)("ALImmersiveLoadFail"),Se.A.fatal(`MASH navigate to immersive player failed: ${e}`)};function*fo(e){const t=window.location.hostname,a=yield(0,ee.Lt)(i.ZG),n=(yield(0,ee.Lt)(i.R2))?"video":"broadcast";yield e,window.parent.location.href=`ssnap://${t}/live/${n}/${a}?placementId=${uo()}&ref=azlv_inl_m`}function*Ao(){const e=(0,ee.O4)({expandedReportedTask:(0,ee.s)(I.tK),timeout:(0,ee.cb)(20)}),{isRedirectEnabled:t,redirectionRefTag:a,redirectUrlType:n,linkTarget:r}=(0,to.p)(!0);if(t){ye.A.initialize({willRedirect:!0}),yield(0,ee.yJ)((0,I.q8)());const t=yield(0,ee.T1)(mo,a,n);r===I.M9.NEW_TAB&&(yield(0,ee.yJ)({type:N.D2,payload:!0})),yield e;const i=window.open(t,r);return void Ze(i,t,r)}const i=yield(0,ee.Lt)(b.uD),o=!!dt.A.get(ut.m.Embedded),s=ye.A.get(ye.A.Keys.AppVersion),l=o&&!("string"!=typeof s||"NA"===s);if((i||l)&&window.P)if((0,ze.d4)()&&l)yield(0,ee.T1)(fo,e);else{const t=yield(0,ee.T1)(po,e);window.P.when("mash").execute(e=>{e.navigate({url:t,successCallback:yo,failCallback:go,transitionEffect:"none"})})}else yield(0,ee.yJ)((0,I.q8)())}function*Eo(){yield(0,ee.jP)(I.jC,Ki),yield(0,ee.jP)(I.kH,Ki),yield(0,ee.jP)(I.kH,Yi),yield(0,ee.jP)(I.kH,jt.Jt),yield(0,ee.jP)(I.Mp,Ao)}var vo;function*To(){try{const e=yield(0,ee.Lt)(O.Wp);if(!e)return;const t=yield(0,ee.Lt)(O.Tw);if(!t)return;const a=yield(0,ee.T1)(at.XC),n=ye.A.get(ye.A.Keys.MarketplaceId),r=(0,Ae.kh)(n),i=`${(0,Ae.yk)(r,a)}/followv2/follow`,o=yield(0,ee.T1)(Bt.uj,`${i}/${e}_${t}`,{withCredentials:!0});o.response&&o.response.data&&(yield(0,ee.yJ)({type:I.j5,payload:o.response.data.isFollowing}))}catch(e){Se.A.error(e,"Could not get follow data")}}function*ho(){try{const e=(yield(0,ee.Lt)(rr.ro)).followData,t=yield(0,ee.Lt)(i.ZG),a=yield(0,ee.T1)(ne.updateQueryParameter,vo.BroadcastID,t,e);yield(0,ee.T1)(Bt.uj,a,{withCredentials:!0})}catch(e){Se.A.error(e,"Could not send follow data")}}function*So(){yield(0,ee.jP)($r.zd,ho),yield(0,ee.jP)([$r.zd,$r.Sx,$r.CQ,I.jm],To)}!function(e){e.BroadcastID="broadcastId"}(vo||(vo={}));const bo=(0,a(7972).Cy)(Ie.oY,Se.A),Io=(0,Cr.do)(Ie.oY,Se.A);function*Po(e){const t=(yield(0,ee.Lt)(A.PY))===ae.kL.VSE,a=yield(0,ee.T1)(at.XC),n=yield(0,ee.Lt)(i.at),r=yield(0,ee.Lt)(A.lx),o=yield(0,ee.T1)(we.$v,we.D$.initializeFlagshipWithVSEContent),s=!!dt.A.get(ut.m.EnableVSEBypass);yield(0,ee.p8)(I.A9,bo),t&&(o||s)?yield(0,ee.yJ)(ie(r,a,Qt.A.get())):yield(0,ee.yJ)({type:I.A9}),e?(yield(0,ee.p8)(I.Kb,Io),yield(0,ee.yJ)({type:_r.u,payload:Cr.PO}),n===ae.uj.LIVE?yield(0,ee.yJ)({type:I.Kb}):yield(0,ee.yJ)({type:_r.u,payload:Cr.oc})):yield(0,ee.yJ)({type:_r.u,payload:Cr.PO})}var _o=a(2976);const Co=(0,a(9076).LE)(Se.A,Ie.oY),wo=(0,_o.Q$)(Se.A),Oo=(0,_o.EB)(Ie.oY,Se.A,wo,Co),Lo=(0,_o.aB)(Oo),No=(0,_o.lP)(Lo);var Ro=a(9413);const Do=(0,Ro.E)(Ie.oY,Se.A,Co),ko=(0,Ro._)(Do);var Mo=a(3821);const xo=(0,Mo.EB)(Ie.oY,Se.A,bo,Co),Bo=(0,Mo.Hp)(xo);var Vo=a(4575);const jo=(0,Vo.E)(Ie.oY,Se.A,Io,Co),Fo=(0,Vo.e)(jo);function*Uo(e){const t=[];t.push(No()),t.push(Bo()),t.push(ko()),e&&t.push(Fo()),t.push(function*(){yield(0,ee.yJ)({type:I.hq})}()),yield(0,ee.Q7)(t)}var zo=a(9068);function*Go(){const e=(0,zo.G5)();yield(0,ee.Q7)([Po(e),Uo(e)])}var $o=a(5118);function*Wo({payload:{broadcastId:e,origin:t}}){yield(0,$o.T1)(Dr,e),(0,ne.getPageType)()!==Rr&&(yield(0,$o.T1)(Ti,{broadcastId:e,origin:t}))}function*Ho(){yield(0,$o.jP)(I.vX,Wo)}function*Jo(){yield(0,ee.Q7)([vi(),Ho()])}var Ko=a(162),Yo=a(1064),qo=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};const Zo=e=>qo(void 0,void 0,void 0,function*(){const t=ye.A.get(ye.A.Keys.MarketplaceId),a=(0,Ur.Y)(),n=ge.A.get(),r={videoId:e,marketplaceId:t,customerId:a},i=yield fetch("https://9eya4arjbh.execute-api.us-east-1.amazonaws.com/prod/reportvideo",{method:"POST",headers:Object.assign({Authorization:"allow","Content-Type":"application/json; charset=utf-8"},n&&{"X-Amzn-Slate-Token":n}),body:JSON.stringify(r)});if(200!==i.status){const t=yield i.text();throw new Error(`Failed to report videoId: ${e}. Error: ${t}`)}return!0});function*Xo(){try{const e=yield(0,ee.T1)(At),t=Nn(e,Yo.g.submit),a=yield(0,ee.Lt)(i.ZG);if(!(yield(0,ee.T1)(Zo,a)))throw yield(0,ee.yJ)({type:N.g,payload:{reportVideoStatus:Ko.n$.ReportedFailure,reportedBroadcast:a}}),(0,Ie.pl)(Yo.b.reportSubmitError),new Error("Failed to report");ht.emitMetricsPayload(t,St.Medium),(0,Ie.pl)(Yo.b.reportSubmitSuccess),yield(0,ee.yJ)({type:N.g,payload:{reportVideoStatus:Ko.n$.ReportedSuccess,reportedBroadcast:a}})}catch(e){Se.A.error("Failed to fetch",e)}}function*Qo(){yield(0,ee.p8)(N._z,Xo)}function es(){(0,jt.dm)(ae.H7,()=>!0)}function*ts(){yield(0,ee.p8)(N.wf,es)}const as={[Un.Wz.INGRESS_PIP]:{[It.S.EventType]:xa.J.Impression,[It.S.EventTriggerType]:Qa.d.PIPIngress},[Un.Wz.RESTORE_PIP]:{[It.S.EventType]:xa.J.Impression,[It.S.EventTriggerType]:Qa.d.PIPRestoreFullscreen},[Un.Wz.CLOSE_PIP]:{[It.S.EventType]:xa.J.Click,[It.S.EventTriggerType]:Qa.d.PIPClose},[Un.Wz.RESTORE_PIP_CLICKED]:{[It.S.EventType]:xa.J.Click,[It.S.EventTriggerType]:Qa.d.PIPRestoreFullscreen}},ns={[Un.Wz.INGRESS_PIP]:!0,[Un.Wz.RESTORE_PIP]:!1,[Un.Wz.CLOSE_PIP]:!1,[Un.Wz.RESTORE_PIP_CLICKED]:!1},rs="PipMetric:Error",is="PipMetric:Success";function*os({type:e}){try{const t=as[e],a=yield(0,ee.T1)(At),n=Nn(a,t);ht.emitMetricsPayload(n,Ma.b.Medium),(0,Ie.pl)(is)}catch(e){(0,Ie.pl)(rs),Se.A.error("Pip: Failed to report metric",e)}}function*ss(e){try{yield(0,ee.yJ)({type:Un.Cg,payload:ns[e.type]}),yield(0,ee.T1)(os,e)}catch(e){Se.A.error("Fail to set Pip status",e)}}function*ls(){try{const e=yield(0,ee.T1)(eo.n.getInstance);if(!e)return;e.triggerPip()}catch(e){Se.A.error("Error during PIP initialization",e.message)}}const{INGRESS_PIP:cs,CLOSE_PIP:ds,RESTORE_PIP:us,RESTORE_PIP_CLICKED:ps}=Un.Wz;function*ms(){yield(0,ee.jP)(R.hi,ls),yield(0,ee.jP)(cs,ss),yield(0,ee.jP)(ds,ss),yield(0,ee.jP)(us,ss),yield(0,ee.jP)(ps,ss)}var ys=a(3188);var gs=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};const fs=e=>gs(void 0,void 0,void 0,function*(){try{const t=yield(0,Bt.uj)(e),{response:a,error:n}=t;if(n||!(e=>!!(e&&e.data&&e.data.segments&&e.data.segments.length))(a))throw new Error(`Invalid live captions response ${a}`);const{data:{baseUrl:r,segments:i,updateIntervalSeconds:o,lastSequenceNumber:s}}=a,l=yield((e,t)=>gs(void 0,void 0,void 0,function*(){const a=t[t.length-1].filename,n=`${e}/${a}`,r=yield(0,Bt.uj)(n),{response:i,error:o}=r;if(o||!i||!i.data)throw new Error(`Invalid vtt text track response ${i}`);return i.data}))(r,i);(0,Ie.pl)("AmazonLiveFlagship:FetchLiveCaptions:Success");const c=(e=>{if(!e)return;const t=Be(e),a=((null==t?void 0:t.map(e=>e.text).join(" "))||"").split(/\s+/).filter(e=>e.length>0).slice(-24).join(" ");return(null==t?void 0:t.length)?[Object.assign(Object.assign({},t[t.length-1]),{text:a})]:t})(l);return{parsedVtt:c,updateIntervalSeconds:o,lastSequenceNumber:s}}catch(e){(0,Ie.pl)("AmazonLiveFlagship:FetchLiveCaptions:Error"),Se.A.fatal(e)}});let As=null,Es=null,vs=0,Ts=0,hs=0;function*Ss(e,t){try{const a={[Da.S.Widget]:ys.x.TwitchPlayer,[Da.S.EventType]:e,[Da.S.EventTriggerType]:t},n=yield(0,ee.T1)(At),r=Nn(n,a);ht.emitMetricsPayload(r,Ma.b.Medium)}catch(e){Se.A.error("Live captions: Failed to report metric",e)}}function*bs(){const e=yield(0,ee.Lt)(i.pT);As&&(yield(0,ee.ZT)(As),As=null),e&&(yield(0,ee.yJ)((0,Zt.dy)(null)))}function*Is(){for(;;)try{const e=yield(0,ee.Lt)(i.G4),t=yield(0,ee.T1)(fs,e);if(!t.updateIntervalSeconds)break;t&&t.parsedVtt&&t.lastSequenceNumber&&t.lastSequenceNumber!==hs?(yield(0,ee.yJ)((0,Zt.dy)({parsedVtt:t.parsedVtt,updateIntervalSeconds:t.updateIntervalSeconds,lastSequenceNumber:t.lastSequenceNumber})),vs=0,hs=t.lastSequenceNumber):(vs+=1,7===vs&&(yield(0,ee.yJ)((0,Zt.dy)(null)))),yield(0,ee.cb)(1e3*t.updateIntervalSeconds),Ts+=1,Ts%2==0&&(yield(0,ee.T1)(Ss,xa.J.Click,Qa.d.LiveCaptionsHeartBeat))}catch(e){Se.A.error("Poll live captions failed");break}}function*Ps(){const e=yield(0,ee.Lt)(b.N1),t=yield(0,ee.Lt)(i.yZ),a=yield(0,ee.Lt)(i.G4),n=yield(0,ee.Lt)(b.EI);if(e||n||!t||!a)return!1;return(0,we.$v)(we.D$.transcribeClosedCaptions,!0)}function*_s(){yield(0,ee.T1)(bs),As=yield(0,ee.Zy)(Is),yield(0,ee.T1)(Ss,xa.J.Click,Qa.d.LiveClosedCaptionOn)}function*Cs(){const e=dt.A.get(dt.A.Keys.EnableClosedCaptionByDefault);if(!(void 0===e||e))return;(yield(0,ee.T1)(Ps))&&(Es=yield(0,ee.Zy)(function*(){yield(0,ee.cb)(5e3),yield(0,ee.T1)(_s)}))}function*ws(e){(yield(0,ee.T1)(Ps))&&(e.payload?yield(0,ee.T1)(_s):(yield(0,ee.T1)(bs),yield(0,ee.T1)(Ss,xa.J.Click,Qa.d.LiveClosedCaptionOff)))}function*Os(){Es&&(yield(0,ee.ZT)(Es),Es=null),yield(0,ee.T1)(bs)}function*Ls(){yield(0,ee.jP)(I.$f,bs),yield(0,ee.jP)(N.wf,Cs),yield(0,ee.jP)(N.IK,ws),yield(0,ee.jP)(M.uv,Os)}function*Ns(){yield(0,ee.Q7)([Go(),na(),tr(),sr(),dr(),yr(),fr(),Si(),bi(),Ii(),zi(),(0,te.OI)(),Ji(),Eo(),Qe(),So(),Jo(),Ke(),Qo(),Yr(),ts(),ms(),ei(),qt(),Ls()])}const Rs={onError:e=>{Se.A.fatal(e,"Error caught in root saga.")}},Ds=(0,r.Ay)(Rs);var ks=e=>{const t=Ds,a=(0,n.y$)(Q,e,(e=>(0,n.Tw)(e))(t));return{store:a,rootTask:t.run(Ns)}}},4248:function(e,t,a){"use strict";var n,r=a(8964);!function(e){let t;!function(e){e.DisplayAds="displayAds",e.EnableClosedCaptionByDefault="enableClosedCaptionByDefault"}(t=e.Keys||(e.Keys={}));const a={};e.initialize=function(e){Object.assign(a,e),r.A.initialize()},e.isValidWidgetOption=(e,t)=>t(e),e.get=function(e){return a[e]},e.dump=function(){return Object.assign({},a)}}(n||(n={})),t.A=n},4436:function(e,t){"use strict";var a;!function(e){let t;!function(e){e.DeviceType="deviceType",e.MarketplaceId="marketplaceId",e.SessionId="sessionId",e.Display="display",e.IsApp="isApp",e.AppVersion="appVersion",e.Source="source",e.WillRedirect="willRedirect",e.Locale="locale"}(t=e.Keys||(e.Keys={}));const a={};e.initialize=function(e){Object.assign(a,e)},e.get=function(e){return a[e]},e.dump=function(){return Object.assign({},a)}}(a||(a={})),t.A=a},4653:function(e,t,a){"use strict";a.d(t,{J:function(){return n}});const n=e=>{var t;return(null===(t=e.transcript)||void 0===t?void 0:t.displayTranscriptAllowed)||!1}},4924:function(e,t,a){"use strict";a.d(t,{$Q:function(){return l},Tg:function(){return s},Yb:function(){return o},a_:function(){return r}});var n=a(2607);const r="associate",i={};t.Ay=(e=i,t)=>t.type===n.MC?Object.assign(Object.assign({},e),t.data):e;const o=e=>e[r].linkCode,s=e=>e[r].tag,l=e=>e[r].subtag},5037:function(e,t){"use strict";var a;!function(e){let t="";e.initialize=function(e){return t=e},e.get=function(){return t}}(a||(a={})),t.A=a},5061:function(e,t,a){"use strict";a.d(t,{Cp:function(){return c},FL:function(){return y},If:function(){return g},Ju:function(){return l},_G:function(){return d},a_:function(){return o},bT:function(){return u},uI:function(){return m},z$:function(){return p}});var n=a(2607),r=a(4181),i=a(772);const o="channel",s={};t.Ay=(e=s,t)=>{switch(t.type){case n.Wm:case n.ZN:return Object.assign(Object.assign({},e),t.data);default:return e}};const l=e=>e[o].id,c=e=>e[o].title,d=e=>e[o].slateImageUrl,u=e=>e[o].featureGroup,p=e=>e[o].startTime,m=e=>e[o].logoImageUrl||r.sy,y=e=>e[o].pageUrl,g=e=>{const t=u(e);return(0,i.jN)(e)===r.kL.VSE?r.Cb.includes(t):r.nE.includes(t)}},5209:function(e,t,a){"use strict";var n=a(6401),r=a(6376);t.A=e=>{const t=e[r.A.PLAYLIST][0];if((0,n.A)(t.pinnedMessages))return{pinnedMessage:void 0};const a=t.pinnedMessages[0];return{pinnedMessage:{text:a.text,status:a.status,promoId:a.promotionId}}}},5224:function(e,t,a){"use strict";a.d(t,{IT:function(){return c},Uu:function(){return d},a_:function(){return s}});var n=a(2607),r=a(4436),i=a(4248),o=a(5439);const s="expandable",l={isExpanded:!1};t.Ay=(e=l,t)=>{switch(t.type){case n.jC:return Object.assign(Object.assign({},e),{isExpanded:!r.A.get(r.A.Keys.WillRedirect)||e.isExpanded});case n.kH:return Object.assign(Object.assign({},e),{isExpanded:!!r.A.get(r.A.Keys.WillRedirect)&&e.isExpanded});default:return e}};const c=e=>e[s].isExpanded,d=e=>i.A.get(o.m.EnableExpandablePlayer)&&!c(e)},5416:function(e,t){"use strict";t.A=e=>({follow:{entityId:e.show.followEntityId,entityType:e.show.followEntityType}})},5439:function(e,t,a){"use strict";var n;a.d(t,{m:function(){return n},s:function(){return r}}),function(e){e.RetargetingPixels="retargetingPixels",e.ShoppingNotification="vibesConfig",e.FlexTitleLinkText="flexBannerTitleLinkText",e.FlexTitleLinkUrl="flexBannerTitleLinkUrl",e.Title="title",e.LiveBadgeType="livebadge",e.Embedded="embedded",e.BrandImageUrl="brandImageUrl",e.BackgroundImageUrls="backgroundImageUrls",e.IsShareEnabled="isShareEnabled",e.IsChatEnabled="isChatEnabled",e.IsDetailPage="isDetailPage",e.IsGatewayMobile="isGatewayMobile",e.ReactionsEnabled="reactionsEnabled",e.EnableDarkMode="enableDarkMode",e.EnableExpandablePlayer="enableExpandablePlayer",e.EnableMobileImmersiveView="enableMobileImmersiveView",e.IsUpNextEnabled="isUpNextEnabled",e.UpNextBroadcastIds="upNextBroadcastIds",e.EnableSpecialEventBadge="enableSpecialEventBadge",e.SpecialEventBadgeCustomTile="enableSpecialEventBadgeOnCustomTile",e.ForceImmersiveView="forceImmersiveView",e.DisableFeeDisclosure="disableFeeDisclosure",e.ResizeIOSMobileImmersiveView="resizeIOSMobileImmersiveView",e.ResizeMobileImmersiveView="resizeMobileImmersiveView",e.EnableChannelPageLink="enableChannelPageLink",e.FallbackStrategy="fallbackStrategy",e.EnableClosedCaptionByDefault="enableClosedCaptionByDefault",e.ASVHRedirectConfig="asvhRedirectConfig",e.Catamaran="catamaran",e.UnexpandRestoreInitBroadcast="unexpandRestoreInitBroadcast",e.ChangeBroadcastAutoplay="changeBroadcastAutoplay",e.UnexpandScrollIntoView="unexpandScrollIntoView",e.ExplicitUnmuteInImmersive="explicitUnmuteInImmersive",e.EnableContentLevelInstrumentationOSA="enableContentLevelInstrumentationOSA",e.FlexBannerMaxWidth="flexBannerMaxWidth",e.EnableSeeMoreFooter="enableSeeMoreFooter",e.SeeMoreFooterLinkText="seeMoreFooterLinkText",e.SeeMoreFooterLinkUrl="seeMoreFooterLinkUrl",e.EnableSeeMoreFooterDarkText="enableSeeMoreFooterDarkText",e.DisableFNV="disableFNV",e.DisableANP="disableANP",e.DenyPillarBoxing="denyPillarBoxing",e.EnableInlineAddToCartDestination="enableInlineAddToCartDestination",e.EnableInlineAddToCartFex="enableInlineAddToCart",e.EnableProductCarouselAddToCart="enableProductCarouselAddToCart",e.EnableProductCarouselAddToCartPreImmersive="enableProductCarouselAddToCartPreImmersive",e.EnableLiveTitleBarLogo="enableLiveTitleBarLogo",e.EnableLiveTitleBarText="enableLiveTitleBarText",e.ASVBrandUpdateWeblabEnabled="asvBrandUpdateWeblabEnabled",e.FlexBannerPFOTheme="flexBannerPFOTheme",e.DeeplinkAsin="deeplinkAsin",e.DeeplinkTimestamp="deeplinkTimestamp",e.desktopPip="desktopPip",e.TitleFontSize="titleFontSize",e.disableISPResponsive="disableISPResponsive",e.WidgetPrimaryColor="widgetPrimaryColor",e.WidgetHighlightColor="widgetHighlightColor",e.WidgetTextColor="widgetTextColor",e.UseGridCarousel="useGridCarousel",e.FlexBannerCompact="flexBannerCompact",e.ISPVerticalRedesign="ispVerticalRedesign",e.DisableNavToAL="disableNavToAL",e.EnableVSEBypass="enableVSEBypass"}(n||(n={}));const r={[n.ChangeBroadcastAutoplay]:!0,[n.UnexpandRestoreInitBroadcast]:!1,[n.UnexpandScrollIntoView]:!1,[n.ExplicitUnmuteInImmersive]:!0,[n.EnableContentLevelInstrumentationOSA]:!1,[n.EnableDarkMode]:!1,[n.FlexBannerMaxWidth]:"none",[n.SeeMoreFooterLinkText]:"See more livestreams on Amazon Live",[n.SeeMoreFooterLinkUrl]:"/live/ref=azlv_smf_m",[n.disableISPResponsive]:!1,[n.UseGridCarousel]:!1,[n.EnableProductCarouselAddToCart]:!0,[n.EnableProductCarouselAddToCartPreImmersive]:!0,[n.EnableLiveTitleBarLogo]:!0,[n.EnableLiveTitleBarText]:!0,[n.EnableVSEBypass]:!1}},5491:function(e,t,a){"use strict";var n,r=a(6338),i=a(4963);!function(e){e.initialize=function(e){window.Globals||(window.Globals={}),(0,i.A)(window.Globals.Translation)&&window.Globals.Translation||(window.Globals.Translation={Strings:{}}),(0,r.A)(window.Globals.Translation.Strings,e)},e.get=function(e){const t=window.Globals.Translation;return t&&t.Strings&&t.Strings[e]?t.Strings[e]:""}}(n||(n={})),t.A=n},5686:function(e,t,a){"use strict";a.d(t,{Uq:function(){return p},a_:function(){return l},v_:function(){return u}});var n=a(4181),r=a(2607),i=a(2353),o=a(614),s=a(3912);const l="notifications",c={setting:n.wL.PersonalIZED_NOTIFICATIONS,notificationAssetsLoaded:!1},d=(0,s.A)(c,{[i.zd]:e=>Object.assign(Object.assign({},e),{setting:n.wL.PersonalIZED_NOTIFICATIONS}),[i.Sx]:e=>Object.assign(Object.assign({},e),{setting:n.wL.UNFOLLOW}),[o.qQ]:(e,t)=>Object.assign(Object.assign({},e),{setting:t.payload}),[r.oc]:(e,t)=>Object.assign(Object.assign({},e),{setting:t.payload,notificationAssetsLoaded:!0})});t.Ay=d;const u=e=>e[l].setting,p=e=>e[l].notificationAssetsLoaded},5749:function(e,t,a){"use strict";a.d(t,{$o:function(){return _},E7:function(){return p},GI:function(){return y},H3:function(){return b},IT:function(){return I},Jt:function(){return P},Nu:function(){return A},Yq:function(){return T},c9:function(){return C},dm:function(){return w},eh:function(){return m},iH:function(){return L},jw:function(){return S},mT:function(){return O},rd:function(){return h},tc:function(){return E},wO:function(){return g},y3:function(){return v}});var n=a(4181),r=a(3799),i=a(791),o=a(9968),s=a(2608),l=a(3295);const c="amazonlive:load",d="amazonLiveEvent:chatDisplayed",u="amazonLiveEvent:immersiveViewClosed",p=()=>{window.P&&window.P.when("A").execute(e=>{window.Globals.A||(window.Globals.A=e)})},m=e=>{window.P&&window.P.when("A").execute(t=>{e(t.capabilities.isAmazonApp)})},y=e=>{window.P&&(window.P.when("mash").execute(t=>{e(!0)}),e(!1))},g=e=>{window.P&&window.P.when("A").execute(t=>{e(t.capabilities)})},f={task:void 0},A=()=>{f.task&&f.task()},E=e=>{f.task=()=>(({android:e,ios:t,broadcastUrl:a,slateImageUrl:n})=>{try{(0,s.pl)("ALCatPrewarmPrefetch:Attempt");let r=!1;setTimeout(()=>{r||(0,s.pl)("ALCatPrewarmPrefetch:Timeout")},3e3),window.P&&window.P.when("mash","com.amazon.mobile.mshop.amazonliveplayerplugin").execute((c,d)=>{r=!0;let u=null;if(e)u=o.D$.catamaranPrefetchPrewarmExperimentAndroid;else{if(!t)return void(f.task=void 0);u=o.D$.catamaranPrefetchPrewarmExperimentIOS}const p=(0,o.Gh)(u);if(p===o.T1)try{d.catamaranPrefetch({}),(0,s.pl)("ALCatamaranPrefetch:Sucess")}catch(e){(0,s.pl)("ALCatamaranPrefetch:Failed"),i.A.warn(e,"Could not prefetch catamaran")}finally{f.task=void 0}if(p===o.T2)try{(0,o.fX)({android:e,ios:t})&&(0,l.LB)({mash:c,broadcastUrl:a,slateImageUrl:n}),d.catamaranPrewarm({}),(0,s.pl)("ALCatamaranPrewarm:Sucess")}catch(e){(0,s.pl)("ALCatamaranPrewarm:Failed"),i.A.warn(e,"Could not prewarm catamaran")}finally{f.task=void 0}})}catch(e){(0,s.pl)("ALPlayerPlugin:Failed"),i.A.warn(e,"Could not prefetch/prewarm/hotload catamaran")}})(e)},v=e=>{f.task=()=>(({android:e,ios:t})=>{try{(0,s.pl)("ALANPPrewarm:Attempt");let a=!1;const n=(0,o.Gh)(o.D$.anpPrewarmAndroid);if(!e&&!t||e&&n===o.W3)return;setTimeout(()=>{a||(0,s.pl)("ALANPPrewarm:Timeout")},3e3),window.P&&window.P.when("mash","com.amazon.mobile.mshop.amazonnativeplayerplugins").execute((e,t)=>{a=!0;try{n===o.T1?(t.modalAmazonNativePlayerPrefetch({}),(0,s.pl)("ALANPPrefetch:Sucess")):(t.modalAmazonNativePlayerPrewarm({}),(0,s.pl)("ALANPPrewarm:Sucess"))}catch(e){n===o.T1?((0,s.pl)("ALANPPrefetch:Failed"),i.A.warn(e,"Could not prefetch amazon native player")):((0,s.pl)("ALANPPrewarm:Failed"),i.A.warn(e,"Could not prewarm amazon native player"))}})}catch(e){(0,s.pl)("ALANPPlugin:Failed"),i.A.warn(e,"Could not prefetch or prewarm amazon native player")}})(e)};function T(){if(!window.P)return void i.A.warn("window.P unavailable, unable to register AUI asset lazy loading event handler");const{P:e}=window;e.when("A").execute(t=>{if(t.isListening(c))return void i.A.info("AUI asset lazy loading event handler already registered");const a={};t.on(c,t=>{a[t]?i.A.info("AUI asset already lazy loaded",t):(a[t]=!0,e.declare(`amazonlive-need-${t}`,!0))})})}function h(e){window.P?window.P.when("A").execute(t=>t.trigger(c,e)):i.A.warn("window.P unavailable, unable to lazy load AUI asset",e)}function S(){window.P&&window.P.when("A",n.DG).execute(e=>{e.trigger(n.ag,{type:n.NR.NO_BROADCAST_FOUND})})}function b(e,t){window.P&&window.P.when("A",n.DG).execute(a=>{a.trigger(n.ag,{type:n.NR.MODERATED_BROADCAST,data:{broadcastId:e,broadcastTitle:t}})})}function I(e){window.P&&window.P.when("A",n.DG).execute(t=>{t.trigger(d,e)})}function P(){window.P&&window.P.when("A",n.DG).execute(e=>{e.trigger(u)})}function _(e,t){window.P&&window.P.when("A").execute(a=>{a.on(e,t)})}const C=(e,t)=>{window.P&&window.P.when("A").execute(a=>{a.off(e,t)})},w=(e,t)=>{if(!window.P)return;let a=!1;window.P.now(e).execute(e=>{a=!!e}),a?((0,s.pl)(`ALModuleAlreadyRegistered:${e}`),i.A.warn(`${e} is already registered`)):window.P.register(e,t)},O=()=>{window.P&&window.P.when("A").execute(e=>{e.trigger("amazonLiveEvent:playerFunctional")})};function L(e){if(window.P){if((0,r.isMshop)())return void window.P.when("mash").execute(t=>{t.cart.didUpdate({newCartQuantity:e})});window.P.when("EWC").execute(e=>{e.refresh()}),window.P.when("nav.setCartCount").execute(t=>{"function"==typeof t&&t(e)})}}},5848:function(e,t,a){"use strict";var n,r;a.d(t,{M:function(){return n},c:function(){return r}}),function(e){e.Muted="muted",e.Unmuted="unmuted"}(n||(n={})),function(e){e[e.BUFFERING=0]="BUFFERING",e[e.PLAYING=1]="PLAYING",e[e.READY=2]="READY",e[e.IDLE=3]="IDLE",e[e.ENDED=4]="ENDED"}(r||(r={}))},6049:function(e,t,a){"use strict";a.d(t,{EI:function(){return C},GD:function(){return E},N1:function(){return P},N9:function(){return g},Sk:function(){return _},V5:function(){return y},VK:function(){return w},a_:function(){return p},bg:function(){return h},gB:function(){return f},nL:function(){return I},pE:function(){return v},qW:function(){return b},u3:function(){return T},uD:function(){return S},wq:function(){return A}});var n=a(7573),r=a(6328),i=a(4181),o=a(162),s=a(772),l=a(2033),c=a(127),d=a(5061),u=a(5491);const p="player",m={inView:!1,isMuted:!0,isPlayerInViewAfterDelay:!1,isPlayerInView:!1,shouldAutoplay:!0,time:0,status:i.ln.Unknown,catamaranEnabled:!1,reportVideoStatus:"",reportedBroadcastIds:[],isPipActive:!1,hasEmbeddedCaptions:!1};t.Ay=(e=m,t)=>{switch(t.type){case n.z0:return Object.assign(Object.assign({},e),{isPlayerInViewAfterDelay:!0});case n.Jf:return Object.assign(Object.assign({},e),{isPlayerInViewAfterDelay:!1,isPlayerInView:!1});case r.re:return Object.assign(Object.assign({},e),{inView:!0});case r.SB:return Object.assign(Object.assign({},e),{inView:!1});case n.Ol:return Object.assign(Object.assign({},e),{vttCaptionsURL:t.payload});case n.rE:case n.D2:return Object.assign(Object.assign({},e),{isMuted:t.payload});case n.y7:return Object.assign(e,t.payload);case n.Sv:return Object.assign(Object.assign({},e),{isPlayerInView:!0});case n.lq:return Object.assign(Object.assign({},e),{shouldAutoplay:t.payload.shouldAutoplay});case n.QD:return Object.assign(Object.assign({},e),{time:t.payload});case l.Zi:return Object.assign(Object.assign({},e),{status:t.payload});case n.io:return Object.assign(Object.assign({},e),{catamaranEnabled:t.payload});case n.g:return t.payload.reportVideoStatus===o.n$.ReportedSuccess?Object.assign(Object.assign({},e),{reportVideoStatus:t.payload.reportVideoStatus,reportedBroadcastIds:[...e.reportedBroadcastIds,t.payload.reportedBroadcast]}):Object.assign(Object.assign({},e),{reportVideoStatus:t.payload.reportVideoStatus});case c.Cg:return Object.assign(Object.assign({},e),{isPipActive:t.payload});case l.uv:return Object.assign(Object.assign({},e),{hasEmbeddedCaptions:!0});default:return e}};const y=e=>e[p].inView,g=e=>e[p].isPlayerInViewAfterDelay,f=e=>e[p].isMuted,A=e=>e[p].isPlayerInView,E=e=>e[p].shouldAutoplay,v=e=>e[p].time,T=e=>e[p].status,h=e=>e[p].status===i.ln.Playing,S=e=>e[p].catamaranEnabled,b=e=>e[p].reportVideoStatus,I=e=>e[p].reportedBroadcastIds,P=e=>e[p].vttCaptionsURL,_=e=>e[p].isPipActive,C=e=>e[p].hasEmbeddedCaptions,w=e=>{const t=(0,d.Cp)(e),a=(0,s.G9)(e),n=(0,s.yZ)(e);let r=u.A.get(n?"live-video-label":"nonlive-video-label");if(!t||!a)return;const i=a.replace(/[^a-zA-Z0-9\s]/g,"");return r=r.replace("{videoTitle}",i),r=r.replace("{creatorName}",t),r}},6216:function(e,t,a){"use strict";var n;a.d(t,{d:function(){return n}}),function(e){e.ExpandPlayer="expandPlayer",e.CollapsePlayer="collapsePlayer",e.CarouselLeftRightScroll="carouselLeftRightScroll",e.CarouselProductImageClick="seeDetails:productImage",e.CarouselProductTitleClick="seeDetails:productTitle",e.CarouselProductReviewClick="seeDetails:productReview",e.CarouselProductShopIconClick="seeDetails:productShopIcon",e.CarouselProductSeeDetailsButton="seeDetails:productButton",e.CarouselProductAddToCartButton="AddToCart",e.CarouselCustomImageClick="seeDetails:customTileImage",e.CarouselCustomTitleClick="seeDetails:customTileTitle",e.CarouselCustomActionButtonClick="seeDetails:customTileActionButton",e.CarouselCustomShopIconClick="seeDetails:customTileShopIcon",e.CarouselLoadMoreButtonClick="carousel:loadMoreClick",e.CarouselLoadMoreButtonInView="carousel:loadMoreInView",e.CarouselAAPICallLatency="carouselAAPICallLatency",e.CarouselMADSImpression="carousel:impression",e.CardInViewport="cardInViewport",e.EnableCC="enableClosedCaption",e.DisableCC="disableClosedCaption",e.UnexpandPlayer="collapsePlayer",e.PlayButton="playButton",e.PauseButton="pauseButton",e.UserClick="userClick",e.CardImpression="cardImpression",e.TitleLink="titleLink",e.FooterLink="footerLink",e.OpenMenu="openMenu",e.CloseMenu="closeMenu",e.StarClicked="starClicked",e.ShareIcon="shareIcon",e.ShareButton="shareButton",e.CopyButton="copyButton",e.BroadcastTile="broadcastTile",e.ImmersiveTab="immersiveTab",e.PromoSuccess="PROMO_SUCCESS",e.PromoFailure="PROMO_FAILURE",e.PromoNetworkFailure="PROMO_NETWORK_FAILURE",e.Products="products",e.Chat="chat",e.WatchMore="watchMore",e.BroadcastSwipe="broadcastSwipe",e.MoreStreams="moreStreams",e.Logo="logo",e.AdOverlay="adOverlay",e.Moderated="moderated",e.Unpublished="unpublished",e.Invalid="invalid",e.Default="default",e.ProgressBar="progressBar",e.CreatorImage="creatorImage",e.OpenShopSheet="open:shopSheet",e.CarouselProductModifyCartButton="ModifyCart",e.MoreOptions="moreOptions",e.BottomSheetOption="bottomSheetOption"}(n||(n={}))},6409:function(e,t,a){"use strict";a.d(t,{ZA:function(){return o},mT:function(){return s}});var n=a(9367),r=a(3541),i=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};const o=e=>e&&r.E.Response.cart.count===e.type&&"items"in e.entity;class s{constructor(e){this.amazonApiService=e}addToCart({asin:e,quantity:t=1,refMarker:a=""}){return i(this,void 0,void 0,function*(){try{const i=()=>i=>{const{requestBuilder:o,marketplaceId:s}=i;return o.withRequestEntityType(r.E.Request.cart.addItems).withAcceptEntityType(r.E.Response.cart.addItems).appendURIPath("api/marketplaces",s,"cart/carts/retail/items").withLineOfBusiness("1").addQueryParam("ref_",a).withBody(((e,t)=>{const a={items:[{asin:e,quantity:t}]};return JSON.stringify(a)})(e,t)).withMethod(n.v.POST).build()},o=yield this.amazonApiService.request(i());return o instanceof Error||o&&(e=>r.E.Response.cart.addItems===e.type&&"items"in e.entity&&e.entity.items.length>0&&"id"in e.entity.items[0])(o)?o:new Error(`CartAAPI received response that is not of the types: [${r.E.Response.cart.addItems}, ${r.E.Response.error}]`)}catch(e){return new Error(`CartAAPI unknown error: ${e instanceof Error?e.toString().substring(0,1e3):""}`)}})}modifyCart({cartItemId:e,quantity:t,refMarker:a=""}){return i(this,void 0,void 0,function*(){try{const i=()=>i=>{const{requestBuilder:o,marketplaceId:s}=i;return o.withRequestEntityType(r.E.Request.cart.modifyItems).withAcceptEntityType(r.E.Response.cart.modifyItems).appendURIPath("api/marketplaces",s,"cart/carts/retail/items").withLineOfBusiness("1").addQueryParam("ref_",a).withBody(((e,t)=>{const a={items:[{id:e,quantity:t}]};return JSON.stringify(a)})(e,t)).withMethod(n.v.PUT).build()},o=yield this.amazonApiService.request(i());return o instanceof Error||o&&(e=>r.E.Response.cart.modifyItems===e.type&&"items"in e.entity)(o)?o:new Error(`CartAAPI received response that is not of the types: [${r.E.Response.cart.modifyItems}, ${r.E.Response.error}]`)}catch(e){return new Error(`CartAAPI unknown error: ${e instanceof Error?e.toString().substring(0,1e3):""}`)}})}getCart(){return i(this,void 0,void 0,function*(){try{const e=()=>e=>{const{requestBuilder:t,marketplaceId:a}=e;return t.withRequestEntityType(r.E.Request.cart.items).withAcceptEntityType(r.E.Response.cart.items).appendURIPath("api/marketplaces",a,"cart/items").withLineOfBusiness("1").addQueryParam("filter","RETAIL").withMethod(n.v.GET).build()},t=yield this.amazonApiService.request(e());return t instanceof Error||t&&(e=>r.E.Response.cart.items===e.type&&"items"in e.entity)(t)?t:new Error(`CartAAPI received response that is not of the types: [${r.E.Response.cart.items}, ${r.E.Response.error}]`)}catch(e){return new Error(`CartAAPI unknown error: ${e instanceof Error?e.toString().substring(0,1e3):""}`)}})}}},6656:function(e,t,a){"use strict";a.d(t,{J1:function(){return c},h3:function(){return s},ie:function(){return l},qE:function(){return o},qd:function(){return i}});var n=a(3799),r=a(8406);const i=()=>{const e=r.A.get(r.A.Keys.StageFlag);return!!e&&"prod"!==e},o=()=>{const e=r.A.get(r.A.Keys.TrafficType);return i()?"test":e||"unknown"},s=()=>(0,n.getPageType)()||r.A.get(r.A.Keys.PageType),l=()=>r.A.get(r.A.Keys.AdSlotName),c=()=>r.A.get(r.A.Keys.PlacementId)},6776:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function isFunction(e){return"function"==typeof e}function doesBrowserSupportKeyword(expression){try{return eval(expression),!0}catch(e){return!1}}function doesBrowserSupportArrowFunctions(){return doesBrowserSupportKeyword('"use strict"; () => {};')}function doesBrowserSupportClasses(){return doesBrowserSupportKeyword('"use strict"; class dummy {};')}function doesBrowserSupportRequiredFeatures(){const e=doesBrowserSupportArrowFunctions(),t=doesBrowserSupportClasses(),a=isFunction(Promise),n=isFunction(Object&&Object.assign),r=isFunction(Object&&Object.values),i=isFunction(Object&&Object.keys),o=isFunction(Array.prototype.indexOf);return e&&t&&a&&n&&r&&i&&o}__webpack_require__.d(__webpack_exports__,{f:function(){return doesBrowserSupportRequiredFeatures}})},6887:function(e,t){"use strict";var a;!function(e){let t;!function(e){e.IS_POLL_ENABLED="IS_POLL_ENABLED",e.IS_IN_VIEW_POLL_ENABLED="IS_IN_VIEW_POLL_ENABLED",e.POLL_DEAL_PRODUCT_DATA_INTERVAL="POLL_DEAL_PRODUCT_DATA_INTERVAL",e.POLL_PRODUCT_DATA_INTERVAL="POLL_PRODUCT_DATA_INTERVAL"}(t=e.Keys||(e.Keys={}));const a={};e.initialize=function(e){Object.assign(a,e)},e.get=function(e){return a[e]},e.dump=function(){return Object.assign({},a)}}(a||(a={})),t.A=a},7052:function(e,t,a){"use strict";a.d(t,{Cf:function(){return d},IJ:function(){return i},St:function(){return c},fO:function(){return p},fs:function(){return u},vS:function(){return s},xM:function(){return o}});var n=a(4248),r=a(5439);const i=e=>{const t=n.A.get(r.m.FlexBannerMaxWidth);return n.A.isValidWidgetOption(t,e=>"string"==typeof e)&&!e?t:r.s[r.m.FlexBannerMaxWidth]},o=()=>{const e=n.A.get(r.m.SeeMoreFooterLinkUrl);return n.A.isValidWidgetOption(e,e=>"string"==typeof e)?e:r.s[r.m.SeeMoreFooterLinkUrl]},s=()=>{const e=n.A.get(r.m.SeeMoreFooterLinkText);return n.A.isValidWidgetOption(e,e=>"string"==typeof e)?e:r.s[r.m.SeeMoreFooterLinkText]},l=e=>{const t=n.A.get(e);return n.A.isValidWidgetOption(t,e=>"boolean"==typeof e)?t:r.s[e]},c=()=>l(r.m.EnableProductCarouselAddToCart),d=()=>l(r.m.EnableProductCarouselAddToCartPreImmersive),u=()=>l(r.m.EnableLiveTitleBarLogo),p=()=>l(r.m.EnableLiveTitleBarText)},7067:function(e,t,a){"use strict";a.d(t,{AY:function(){return G}});var n=a(4181),r=a(3541);const i=(e,t)=>e.type===t,o=(e,t)=>e.type===t,s=e=>{return!("object"!=typeof e||!e)&&(!!i(e,"error/v1")&&!!("object"==typeof(t=e.entity)&&null!==t&&"details"in t&&(e=>{return!("object"!=typeof e||!e)&&"object"==typeof(t=e)&&null!==t&&"message"in t&&"string"==typeof e.message;var t})(e.entity.details)&&(e=>"object"==typeof e&&null!==e&&"code"in e)(e.entity)&&(e=>"object"==typeof e&&null!==e&&"status"in e)(e.entity)&&"number"==typeof e.entity.status));var t},l=e=>!("object"!=typeof e||!e)&&!!o(e,r.E.Response.error),c={isResourceOfType:i,isErrorEntity:s,isErrorEntityCollection:l,unwrapEntity:(e,t)=>!e||e instanceof Error||s(e)||!i(e,t)?null:e.entity,unwrapEntityCollection:e=>!e||e instanceof Error||l(e)||!e.entities?null:e.entities,isResourceCollectionOfType:o},d="https://m.media-amazon.com/images/I",u=(e,t)=>{if(!t.physicalId||!t.extension)return"";const a=t.s3Bucket?`${e}/${t.s3Bucket}`:e,n=t.styleCode?`.${t.styleCode}`:"";return`${a}/${t.physicalId}${n}.${t.extension}`},p=e=>u(d,e);var m=a(2583),y=a.n(m);const g=e=>null!=e?Math.trunc(e):null,f=e=>null!=e?Math.trunc(100*Number((e-Math.trunc(e)).toFixed(2))):null;var A=a(3063),E=a(791);const{unwrapEntity:v}=c,T=e=>{const{amount:t,currencyCode:a}=e;if(!t||!a)return null;const n=(0,A.gR)(),r="JPY"===a;try{return Number(t).toLocaleString(n,{style:"currency",currency:a,minimumFractionDigits:r?0:2,maximumFractionDigits:2})}catch(e){return E.A.error("cannot format amount",e),null}},h=e=>y()(e),S=e=>e?{currencySymbol:e.currencyCode?h(e.currencyCode):void 0,displayString:e.displayString?e.displayString:T(e),fractionalValue:f(e.amount),wholeValue:g(e.amount)}:{},b=e=>e&&e.amount&&e.currencyCode?{displayString:T(e),currencySymbol:h(e.currencyCode),fractionalValue:f(Number(e.amount)),wholeValue:g(Number(e.amount))}:null,I=(e,t)=>e?(e=>{const{min:t,max:a}=e;return[t,a].map(S)})(e):[b(t),null],P=e=>{var t,a;const n=v(e,r.E.Response.product.subResources.buyingOptions.price);if(!n)return{listPrice:null,price:null,pricePerUnit:null,totalPercentageOff:null};const{basisPrice:i,priceToPay:o,savings:s}=n,l=i?i.moneyValueOrRange:void 0,c=o?o.moneyValueOrRange:void 0,[d,u]=I(l?l.range:void 0,l?l.value:void 0),[p,m]=I(c?c.range:void 0,c?c.value:void 0),y=null==s?void 0:s.percentage,g=null!==(t=null==i?void 0:i.label)&&void 0!==t?t:"",f=null!==(a=null==i?void 0:i.shortLabel)&&void 0!==a?a:"";return Object.assign(Object.assign({},(({listPrice:e,listPriceMax:t,price:a,priceMax:n,pricePerUnit:r})=>{const i=(e,t)=>!e&&!t||!(!e||!t)&&(e.displayString&&t.displayString&&e.displayString===t.displayString||e.wholeValue===t.wholeValue&&e.fractionalValue===t.fractionalValue);return i(e,a)&&(e=null),i(t,n)&&(t=null),{listPrice:e,listPriceMax:t,price:a,priceMax:n,pricePerUnit:r}})({listPrice:d,listPriceMax:u,price:p,priceMax:m,pricePerUnit:o&&o.pricePerUnit?o.pricePerUnit:null})),{totalPercentageOff:y,basisPriceLabels:{label:g,shortLabel:f}})},{unwrapEntity:_}=c,C=e=>Number.parseFloat((Math.round(100*e)/100).toFixed(2));class w{constructor(){this.getTargetTime=e=>{if(e.messaging&&e.messaging.content&&e.messaging.content.fragments&&e.messaging.content.fragments.length){const t=e.messaging.content.fragments.find(({countdownTimer:e})=>!(!e||!e.targetTime));if(t&&t.countdownTimer)return t.countdownTimer.targetTime}return null}}getDealPricing(e){const{listPrice:t,price:a,priceMax:n,listPriceMax:i}=P(e),o=_(e,r.E.Response.product.subResources.buyingOptions.price);if(o&&o.priceToPay&&o.priceToPay.moneyValueOrRange&&o.basisPrice&&o.basisPrice.moneyValueOrRange){const e=o.savings&&o.savings.percentage&&o.savings.percentage.value;let r;return null==e||Number.isNaN(e)||(r=C(e)),{dealPrice:a,listPrice:t,percentOff:r,dealPriceMax:n,listPriceMax:i}}return w.EMPTY_DATA}parseLabels(e){return e?{label:e.label&&e.label.content&&e.label.content.fragments&&e.label.content.fragments.map(({text:e})=>e).join(""),shortLabel:e.label&&e.label.shortContent&&e.label.shortContent.fragments&&e.label.shortContent.fragments.map(({text:e})=>e).join(""),messageText:e.messaging&&e.messaging.content&&e.messaging.content.fragments&&e.messaging.content.fragments.map(({text:e})=>e).join(""),shortMessageText:e.messaging&&e.messaging.shortContent&&e.messaging.shortContent.fragments&&e.messaging.shortContent.fragments.map(({text:e})=>e).join(""),countdownTimer:this.getTargetTime(e),labelExperimentalColor:e.label&&e.label.experimentalColor,labelExperimentalBackgroundColor:e.label&&e.label.experimentalBackgroundColor,messageExperimentalColor:e.messaging&&e.messaging.experimentalColor,messageExperimentalBackgroundColor:e.messaging&&e.messaging.experimentalBackgroundColor}:{}}getDeal(e,t){const a=t&&t.price;if(t&&t.dealDetails&&t.dealBadge&&e){const n=_(t.dealDetails,r.E.Response.product.subResources.buyingOptions.dealDetails);if(n){const i=_(t.dealBadge,r.E.Response.product.subResources.buyingOptions.dealBadge),{dealPrice:o,listPrice:s,percentOff:l,dealPriceMax:c,listPriceMax:d}=this.getDealPricing(a),{id:u,type:p,endTime:m,startTime:y,percentClaimed:g,state:f,accessBehavior:A}=n;return Object.assign({asin:e,dealId:u,dealType:p,startDate:y,endDate:m,percentClaimed:g,state:f,dealBadge:i,dealPrice:o,listPrice:s,dealPriceMax:c,listPriceMax:d,percentOff:l,primeAccessType:A,primeExclusive:"PRIME_ONLY"===A},this.parseLabels(i))}}return null}}w.EMPTY_DATA={dealPrice:null,listPrice:null,percentOff:null};var O=a(2608),L=a(9968);const{isErrorEntity:N,isResourceOfType:R,unwrapEntity:D,unwrapEntityCollection:k}=c,M=e=>{const t=D(e,r.E.Response.product.subResources.title);if(t){if(t.displayString)return t.displayString;if(t.shortDisplayString)return t.shortDisplayString}return""},x=e=>{var t,a;const n=D(e,r.E.Response.product.subResources.insights),i=null===(a=null===(t=null==n?void 0:n.insightDetails)||void 0===t?void 0:t.find(e=>"PURCHASE_TREND_PAST_MONTH"===e.type))||void 0===a?void 0:a.content;return i&&(0,O.CY)(O.xs,1),(0,O.CY)(O.uA,1),(0,O.kO)(O.oT,i?1:0),i||""},B=(e,t)=>{if(e&&e.displayString&&t&&t.displayString)return`${e.displayString} - ${t.displayString}`},V=e=>{if(e&&e.displayString)return e.displayString},j=e=>{if(e)return`/dp/${e}/ref=va_live_carousel`},F=(e,t="")=>"string"==typeof e?e:t,U=e=>{var t;const{experimentalRating:a,experimentalVisual:n}=null!==(t=D(e,r.E.Response.product.subResources.energyEfficiencyV2))&&void 0!==t?t:{};if(a&&a.absoluteRating&&n)return{rating:a,visual:n}},z=e=>{const{entity:{asin:t,title:a,buyingOptions:i,productImages:o,energyEfficiency:s,insights:l}}=e,c=(e=>{const[t]=e;return t})(i),d=P(c?c.price:void 0),u=((e,t)=>{var a;const n=(new w).getDeal(e,t);if(n){const{dealId:e,dealType:t,labelExperimentalBackgroundColor:r,messageExperimentalBackgroundColor:i,labelExperimentalColor:o,label:s,messageExperimentalColor:l,messageText:c,countdownTimer:d,percentClaimed:u,dealBadge:p}=n;return{lucidInstrumentationAci:null===(a=null==p?void 0:p.instrumentationMetadata)||void 0===a?void 0:a.lucidInstrumentationAci,dealId:F(e),dealType:F(t),dealBadgeLive:{labelBackgroundColor:F(r,"CC0C39"),labelColor:F(o,"ffffff"),labelText:F(s),messageBackgroundColor:F(i,"ffffff"),messageColor:F(l,"CC0C39"),messageText:F(c),messageTimerEndTime:F(d)},percentClaimed:null===u?void 0:u}}return{}})(t,c),m=(e=>{var t,a,n,r,i,o,s,l;if(1!==(null==e?void 0:e.length))return!1;const c=null===(a=null===(t=e[0])||void 0===t?void 0:t.callToAction)||void 0===a?void 0:a.entity;return!(!c||"DEFAULT"!==(null===(r=null===(n=c.addToCart)||void 0===n?void 0:n.data)||void 0===r?void 0:r.type)||"/gp/add-to-cart/html"!==(null===(i=c.addToCart)||void 0===i?void 0:i.url)||!(null===(l=null===(s=null===(o=c.addToCart)||void 0===o?void 0:o.data)||void 0===s?void 0:s.parameters)||void 0===l?void 0:l.some(e=>"canAddToCart"===e.name&&"true"===e.value)))})(i),y=(0,L.$v)(L.D$.productInsights),g=(0,L.$v)(L.D$.socialProofingAndStarRating);return{carouselItem:{asin:t,title:M(a),productInsights:y||g?x(l):void 0,formattedImageUrl:(f=o,!R(f,r.E.Response.product.subResources.productImages)||N(f)?[]:f.entity.images.map(e=>e.hiRes?e.hiRes:e.lowRes).map(e=>p(e)))[0],formattedListPrice:V(d.listPrice),formattedPriceV2:B(d.price,d.priceMax)||V(d.price),productLink:j(t),type:n.j9.PRODUCT,dealBadge:u.dealBadgeLive,totalPercentageOff:V(d.totalPercentageOff),hasATCButton:m,energyEfficiency:U(s),basisPriceLabels:d.basisPriceLabels},deal:Object.assign({},u)};var f},G=e=>{const t=k(e);return t?t.reduce((e,t)=>(({tileTypes:e,productResource:t})=>{if(!N(t)&&R(t,r.E.Response.product.resource)){const a=z(t);e.push(a)}return e})({tileTypes:e,productResource:t}),new Array):new Array}},7393:function(e,t,a){"use strict";a.d(t,{i:function(){return i}});var n=a(4248),r=a(5439);function i(){return!!n.A.get(r.m.IsUpNextEnabled)}},7569:function(e,t,a){"use strict";a.d(t,{M:function(){return i},Y:function(){return r}});var n=a(8406);const r=()=>n.A.get(n.A.Keys.CustomerId),i=()=>!!r()},7961:function(e,t,a){"use strict";var n,r;a.d(t,{BI:function(){return n},Tm:function(){return i}}),function(e){e.Devo="DEVO",e.PreProd="PRE_PROD",e.Prod="PROD"}(n||(n={})),function(e){e.ALPHA="Alpha",e.BETA="Beta",e.GAMMA="Gamma",e.PROD="Prod"}(r||(r={}));const i=e=>{if((t=e)===n.Devo||t===n.PreProd||t===n.Prod)return e;var t;switch(e){case r.ALPHA:case r.BETA:return n.Devo;case r.GAMMA:return n.PreProd;case r.PROD:default:return n.Prod}}},8156:function(e,t){"use strict";var a;!function(e){e.WARN="WARN",e.ERROR="ERROR",e.FATAL="FATAL"}(a||(a={}));const n=(e,t,a)=>{if(window.ueLogError){const n={logLevel:a,attribution:"AmazonLiveFlagshipAssets",message:t};"string"==typeof e?window.ueLogError(Object.assign(Object.assign({},n),{message:`${e}${t?" - ":""}${t}`})):window.ueLogError(e,n)}};t.A=new class{debug(){}info(){}warn(e,t=""){n(e,t,a.WARN)}error(e,t=""){n(e,t,a.ERROR)}fatal(e,t=""){n(e,t,a.FATAL)}}},8163:function(e,t,a){"use strict";a.d(t,{$0:function(){return s},$1:function(){return r},D:function(){return o},D1:function(){return j},Gm:function(){return u},IB:function(){return v},NJ:function(){return J},NU:function(){return H},NY:function(){return g},Ng:function(){return l},Qb:function(){return x},R5:function(){return B},SA:function(){return G},Sn:function(){return w},Y_:function(){return i},ZY:function(){return $},Zu:function(){return d},Zv:function(){return m},a:function(){return W},dg:function(){return U},ep:function(){return z},hw:function(){return f},kh:function(){return M},md:function(){return c},o2:function(){return y},sp:function(){return A},xk:function(){return p},yk:function(){return V}});var n=a(4181);const r="ATVPDKIKX0DER",i="A21TJRUUN4KGV",o="A2XZLSVIQ0F4JT",s="A1VC38T7YXB528",l="A1F83G8C2ARO7P",c="A1PA6795UKMFR9",d="A13V1IB3VIYZZH",u="APJ6JRA9NG5V4",p="A1RKKUPIHCS9HS",m="A2Q3Y263D00KWC",y="AZXD3QD5B39HD",g="A2EUQ1WTGCTBG2",f="A3P3J5A7D2ZVXI",A="A1AM78C64UM0Y8",E={[r]:"NA",[i]:"EU",[o]:"EU",[m]:"NA",[y]:"NA",[g]:"NA",[c]:"EU",[l]:"EU",[d]:"EU",[u]:"EU",[p]:"EU",[s]:"NA"},v={enUS:"en_US",enIN:"en_IN",jaJP:"ja_JP",ptBR:"pt_BR",enCA:"en_CA",deDE:"de_DE"},T={[r]:"https://www.amazon.com",[i]:"https://www.amazon.in",[o]:"https://www.amazon.in"},h={[r]:"com.amazon.mobile.shopping://www.amazon.com",[i]:"com.amazon.mobile.shopping://www.amazon.in",[o]:"com.amazon.mobile.shopping://www.amazon.in",[l]:"com.amazon.mobile.shopping://www.amazon.co.uk",[s]:"com.amazon.mobile.shopping://www.amazon.co.jp",[c]:"com.amazon.mobile.shopping://www.amazon.de",[d]:"com.amazon.mobile.shopping://www.amazon.fr",[u]:"com.amazon.mobile.shopping://www.amazon.it",[p]:"com.amazon.mobile.shopping://www.amazon.es"},S={NA:{gamma:"https://pre-prod.amazon.com",prod:"https://www.amazon.com"},EU:{gamma:"https://in-pre-prod.amazon.com",prod:"https://www.amazon.in"}},b="https://m.media-amazon.com/images/G/01/poppin/flagship/assets/amazon-live-logo-black._TTD_.png",I="https://m.media-amazon.com/images/G/01/poppin/DestinationPage/Assets/amazon-live-brand-logo._TTD_.png",P="https://m.media-amazon.com/images/G/01/poppin/AmazonLive/2023_Apr_Jun/amazonlivelogo_whitebg_LeftJustified.png",_={[r]:b,[i]:b,[o]:b,[m]:P,[y]:P,[g]:b,[c]:b,[s]:b},C={[r]:I,[i]:I,[o]:I,[m]:P,[y]:P,[g]:I,[c]:I,[s]:I},w=Object.freeze(new Set([s,l,c,d,u,p,g])),O=Object.freeze(new Set([s,l,c,d,u,p,g])),L=Object.freeze(new Set([s,l,c,d,u,p])),N=Object.freeze(new Set([l])),R=Object.freeze(new Set([o,i])),D=Object.freeze(new Set([o,i])),k=Object.freeze(new Set([l])),M=e=>E[e]||"NA",x=e=>T[e]||"https://www.amazon.com",B=e=>h[e]||"com.amazon.mobile.shopping://www.amazon.com",V=(e,t)=>S[e][t]||"https://www.amazon.com",j=(e,t=!1)=>t?C[e]||b:_[e]||b,F=Object.freeze(new Set([l,s,c,d,u,p,g])),U=e=>F.has(e),z=e=>!O.has(e),G=e=>L.has(e),$=e=>R.has(e),W=e=>k.has(e),H=e=>!D.has(e);function J(e,t){return N.has(t)?e.filter(e=>!(function(e){return"type"in e&&e.type===n.j9.CUSTOM_TILE}(e)&&!1===e.isDealReveal)):e}},8232:function(e,t,a){"use strict";a.d(t,{$B:function(){return s},Ix:function(){return l},NI:function(){return r},Xt:function(){return n},bd:function(){return o},z9:function(){return i}});const n="ADS_SAFE_FRAME_PRESENT",r="ADS_SET_REDIRECT_URL",i="AD_OVERLAY_CLICKED",o=()=>({type:i}),s="AD_CLICK_METRIC_REGISTERED",l=()=>({type:s});t.Ay={adsSafeFramePresent:()=>({type:"ADS_SAFE_FRAME_PRESENT"}),adsSetRedirectUrl:e=>({type:r,payload:e})}},8406:function(e,t){"use strict";var a;!function(e){let t;!function(e){e.AdSlotName="adSlotName",e.CustomerId="customerId",e.LinkParameters="linkParameters",e.MarketplaceId="marketplaceId",e.PageType="pageType",e.PlacementId="placementId",e.RefMarker="refMarker",e.RequestId="requestId",e.SessionId="sessionId",e.StageFlag="stageFlag",e.TrafficType="trafficType"}(t=e.Keys||(e.Keys={}));const a={};e.initialize=function(e){Object.assign(a,e)},e.get=function(e){return a[e]},e.dump=function(){return Object.assign({},a)}}(a||(a={})),t.A=a},8964:function(e,t,a){"use strict";var n,r=a(4963),i=a(6401),o=a(1957),s=a(4248),l=a(5439),c=a(791),d=function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e.NOT_SET="NOT_SET",e.SET="SET"}(n||(n={}));var u;!function(e){const t={},a={},u=(e,t)=>{const a=new Image(1,1);return t&&(a.onload=t),a.src=e,a};e.fireContentRetargettingPixel=e=>d(this,void 0,void 0,function*(){try{const t=`https://d231gvmk20yd16.cloudfront.net/${e}.json`,a=yield(0,o.uj)(t),{response:n}=a;if(n&&200===n.status){const{data:{url:e}={}}=n;e&&u(e)}}catch(t){c.A.error(`Failed to get retargetting pixel for ${e}: ${t}`)}}),e.getRetargetingPixelsState=e=>[...new Set(Object.values(e))].reduce((e,t)=>(e[t]=n.NOT_SET,e),{}),e.initialize=function(){const n=s.A.get(l.m.RetargetingPixels);(e=>!(0,i.A)(e)&&(0,r.A)(e))(n)&&(Object.assign(a,n),Object.assign(t,e.getRetargetingPixelsState(a)))},e.hasRetargetingPixels=()=>!(0,i.A)(a),e.emit=function(e,r){const i=r?a[e]||a[r]:a[e];i&&t[i]===n.NOT_SET&&u(i,()=>t[i]=n.SET)}}(u||(u={})),t.A=u},9068:function(e,t,a){"use strict";a.d(t,{G5:function(){return d},lM:function(){return u},yC:function(){return c}});var n=a(4181),r=a(4248),i=a(5439),o=a(9968),s=a(7569),l=a(8163);function c(){return!!r.A.get(i.m.ReactionsEnabled)&&(0,o.Gh)(o.D$.heartReactionsOnFlagship)===o.W3}function d(){return(0,o.Gh)(o.D$.heartReactionsOnFlagship)===o.T1&&(0,s.M)()}function u(e,t){return((0,l.kh)(e)===n.Tp.EU||e===l.$0)&&!t}},9133:function(e,t,a){"use strict";a.d(t,{Ky:function(){return u},QH:function(){return d},XC:function(){return o},YP:function(){return c}});var n=a(1867),r=a(8414),i=a(6656);const o=()=>(0,i.qd)()?n.rM.GAMMA:n.rM.PROD;let s,l;function c(){return s||(s=(0,r.v4)()),s}function d(e){l=e}function u(){return l}},9161:function(e,t,a){"use strict";a.d(t,{p:function(){return l}});var n=a(2607),r=a(296),i=a(5439),o=a(4248),s=a(9968);function l(e=!0){const t=o.A.get(i.m.ASVHRedirectConfig)||{},a=t.refTag||"",l=t.redirectUrlType||r.wO.COMPASS,c=t.redirectBehavior||r.tD.NEW_TAB,d=r.Lw[c]||n.M9.NEW_TAB;if(!a)return{isRedirectEnabled:!1,redirectionRefTag:a,redirectUrlType:r.wO.COMPASS,linkTarget:d};if(t.checkedWeblab===s.D$.typASVHRedirect){const t=(0,s.Gh)(s.D$.typASVHRedirect,e);return{isRedirectEnabled:t!==s.W3,redirectionRefTag:`${a}_${t.toLowerCase()}`,redirectUrlType:t===s.T2?r.wO.SOCIAL:r.wO.COMPASS,linkTarget:d}}return{isRedirectEnabled:!0,redirectionRefTag:a,redirectUrlType:l,linkTarget:d}}},9367:function(e,t,a){"use strict";a.d(t,{Y:function(){return n},v:function(){return r}});const n={Accept:"Accept",AcceptLanguage:"Accept-Language",CONTENT_TYPE:"Content-Type",Api_CSRF_Token:"x-api-csrf-token",AAPI_Slate_Token:"x-amzn-encrypted-slate-token"};var r;!function(e){e.CONNECT="CONNECT",e.DELETE="DELETE",e.GET="GET",e.HEAD="HEAD",e.OPTIONS="OPTIONS",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.TRACE="TRACE"}(r||(r={}))},9496:function(e,t,a){"use strict";var n=a(4181),r=a(2289),i=a(6376);t.A=(e,t)=>{const a=t[i.A.BROADCAST_EVENT],o=t[i.A.ENDPOINTS],s=t[i.A.PLAYLIST][0],l=s.asin,c=a?a.broadcastStatus:s.stage,d={name:"Cool Products",segmentItems:s.carouselItems.map(e=>{var t;return Object.assign(Object.assign({},e),{segmentItemId:e.id,imageUrl:e.type===n.j9.CUSTOM_TILE&&(null===(t=e.imageId)||void 0===t?void 0:t.startsWith("s3://"))?e.imageId.replace("s3://","https://images-na.ssl-images-amazon.com/images/S/"):e.imageId,segmentItemSubType:e.subType,revealData:e.revealMetadata})})};return{constants:{endpoints:{channel:o[i.A.SHOW]}},channel:{title:e.show.title,slateImageUrl:s.slateImageId||e.show.slateImageId,pageUrl:e.show.pageUrl,id:e.show.id,featureGroup:s.showFeatureGroup,startTime:s.startTime,logoImageUrl:e.show.logoImageId},broadcast:{status:(0,r.Yh)(c,s.hlsUrl),startTime:s.broadcastStartDateTime,endTime:s.broadcastEndDateTime,createdTime:s.createdDateTime,id:s.id,moderated:s.moderated,publicChatroomHuddleId:s.publicChatroomHuddleId,asin:l,url:s.hlsUrl,livePlaybackUrl:s.livePlaybackUrl,title:s.title,chatStatus:s.chatStatus,videoOrientation:(0,r.k1)(s.streamingOrientation),sponsoredImageId:s.sponsoredImageId,source:n.kL.AL,trimming:s.trimmingMetadata,segments:d,liveCaptionUrl:s.liveCaptionUrl},upNext:{watchedBroadcasts:[],broadcasts:[]}}}},9545:function(e,t){"use strict";var a;!function(e){let t;!function(e){e.ShoppingNotificationEvent="shoppingNotificationEvent",e.BFCMBadgeTreatments="BFCMBadgeTreatments",e.BFCMBadgeGating="BFCMBadgeGating"}(t=e.Keys||(e.Keys={}));const a={};e.CONTROL="C",e.T1="T1",e.T2="T2",e.T3="T3",e.initialize=function(e){Object.assign(a,e)},e.isWeblabEnabled=function(t){const n=a[t];return!!n&&n!==e.CONTROL},e.getTreatment=function(t){return a[t]||e.CONTROL},e.dump=function(){return Object.assign({},a)}}(a||(a={})),t.A=a},9706:function(e,t,a){"use strict";a.d(t,{m:function(){return i},n:function(){return r}});var n=a(6540);const r=function(){let e=null;return{getInstance(){return null!==e?e:null},setInstance(t){e=t},clearInstance(){e=null}}}(),i=({getRefObj:e})=>{const t=e();return(0,n.useEffect)(()=>{t.current?r.setInstance(t.current):r.clearInstance()},[t]),null}},9773:function(e,t,a){"use strict";a.d(t,{J:function(){return r},O:function(){return n}});const n="POSTER_LOADED",r=e=>({type:n,payload:e})},9865:function(e,t,a){"use strict";var n=a(6376);t.A=(e,t)=>({associate:{linkCode:e.show.associateLinkCode,tag:e.show.associateTag,subtag:t[n.A.PLAYLIST][0].associateSubtag,offSiteTag:e.show.associateOffSiteTag}})},9968:function(e,t,a){"use strict";a.d(t,{W3:function(){return d},D$:function(){return g},T1:function(){return u},T2:function(){return p},T3:function(){return m},T4:function(){return y},Ay:function(){return L},q3:function(){return C},WD:function(){return b},Gh:function(){return E},Dg:function(){return S},y4:function(){return O},fX:function(){return I},gN:function(){return P},Gl:function(){return _},$v:function(){return v},NT:function(){return w},Tg:function(){return h}});var n=a(4181),r=a(6540),i=a(791);const o=(e,t)=>{i.A.debug(`Triggering Weblab: ${e}:${t}`),window.ue&&window.ue.trigger&&window.ue.trigger(e,t)};var s=a(4248),l=a(5439),c=a(7052);const d="C",u="T1",p="T2",m="T3",y="T4";var g;!function(e){e.specialEventBadging="AL_SE_BD_306329",e.pdBadgingHVE="PD_DO_CODE_334337",e.peasBadgingHVE="PEAS_DO_CONTENT_489637",e.pbddBadgingHVE="PBDD_DO_CODE_745375",e.gwVideoOrchestrator="AL_PL_GW_ORC_L_338858",e.OSAInstrumentation="AL_OSA_INSTRN_357138",e.catamaranGateway="AL_CAT_GW_L_372267",e.catamaranDetail="AL_CAT_DP_L_372265",e.catamaranCategory="AL_CAT_CP_L_372263",e.catamaranDeals="AL_CAT_DL_L_372262",e.catamaranDestination="AL_CAT_DEST_L_372258",e.catamaranAIP="AL_CAT_AIP_L_372132",e.catamaranBrandStores="AL_CAT_BRND_L_372133",e.catamaranFIFIOS="AL_CATAMARAN_FIF_IOS_375072",e.gwOrchestratorPercent="AL_GW_ORC_VPL_390257",e.catamaranSupportedMShop="AL_CATAMARAN_SUPPORTED_410732",e.promoCodesClaimEndpoint="ASV_CLAIM_PROMO_CODE_EP_434062",e.chatVODReplayFlagship="ASV_WEB_CHAT_VOD_REPLAY_475614",e.fnvDeprecation="AL_FNV_DEP2_569979",e.mShopGWPreload="AL_GW_PL_569977",e.creatorWalletFlagship="ASV_CREATOR_WALLET_608120",e.heartReactionsOnFlagship="ASV_FS_REACTIONS_610697",e.guaranteedNotifications="AL_FS_NOTIFICATIONS_632373",e.realTimeMetricsFlagship="ASV_WEB_REALTIME_METRICS_638605",e.dealBadging="ASV_WEB_PURCHASE_AIDS_E_641914",e.asvhCAIngress="AL_FS_CA_INGRESS_670085",e.forYouRecommendedVideos="AL_FS_FOR_YOU_677535",e.skipFirstSegment="AL_FS_SKIP_1ST_SEGMENT_712620",e.interactiveCountsContract="ASV_FS_IC_CONTRACT_713170",e.catamaranHotLoadAndroid="AL_CAT_HOTLOAD_710936",e.catamaranHotLoadIOS="AL_CAT_HOTLOAD_749062",e.catamaranSkeletonLoader="A2I_SKELETON_LOADER_CATAMARAN_E_730650",e.flagshipToCatamaranStatePass="FL_TO_CAT_STATE_PASS_EXP_727261",e.catamaranPrefetchPrewarmExperimentAndroid="A2I_PREFETCH_PREWARM_CATAMARAN_E_719019",e.catamaranPrefetchPrewarmExperimentIOS="A2I_PREFETCH_PREWARM_CATAMARAN_IOS_E_748158",e.unmutedAutoplayDetection="AL_UNMUTED_AUTOPLAY_E_753832",e.anpFederated="AL_ANP_FED_E_749935",e.anpASVH="AL_ANP_ASVH_E_749930",e.anpFederatedAndroid="AL_ANP_FED_E_ANDROID_836143",e.anpASVHAndroid="AL_ANP_ASVH_E_ANDROID_836135",e.playerRedesignDesktop="ASV_FS_PLAYER_REDESIGN_E_DESKTOP_843617",e.pipForMwebInline="AL_FS_PIP_WEB_797289",e.pipForMwebImmersive="AL_FS_PIP_IOS_IMMERSIVE_821725",e.trimmingEnabled="ASV_FS_TRIMMING_ENABLED_E_862292",e.liveNotificationSettingsDesktop="ASV_LNS_FS_D_E_868567",e.liveNotificationSettingsMWeb="ASV_LNS_FS_M_E_868578",e.reportLivestreamLatency="AMAZON_LIVE_FLAGSHIP_G2G_LATENCY_REPORT_869538",e.initializeFlagshipWithVSEContent="ASV_FS_INITIALIZE_VSE_CONTENT_L_882828",e.inlineAddToCartDestinationExp="ASV_ATC_ASVH_MSHOP_CAR_E_873667",e.inlineAddToCartFexExp="ASV_ATC_FEX_MSHOP_CAR_E_873670",e.carouselModularisation="A2I_AL_FS_CAROUSEL_MODULARISATION_L_942739",e.anpPrewarmAndroid="ASV_ANP_PREW_AND_1028605",e.asvRebrand="ASV_BRAND_UPDATE_1036468",e.feeDisclosureAndPriceDetailsUXUpdateExp="AL_FL_FEE_DISCLOSURE_UX_UPDATE_1051600",e.flexBannerDesktopExp="ASV_SSW_PFO_E_DT_1064814",e.desktopPiP="ASV_DESK_PIP_1069665",e.productCarouselAddToCart="ASV_CAROUSEL_ADD_TO_CART_1106000",e.mWebmShopRedirect="ASV_MWEB_REDIRECT_P3_1099309",e.mWebmShopRedirectSignedIn="ASV_MWEB_REDIRECT_P3_SIGNED_IN_1099312",e.energyEfficiency="ASV_FLAGSHIP_EE_1110225",e.pantherMigration="ASV_FS_PANTHER_MIGRATION_1086652",e.previouslyLiveBadge="ASV_FLAGSHIP_PL_BADGE_1157031",e.followV3Migration="ASV_FS_FOLLOW_V3_MIGRATION_1162010",e.desktopISPVerticalRedesign="ASV_ISP_DESK_ISP_VV_1172690",e.sponsoredProducts="ASV_FS_SPONSORED_PRODUCTS_VOD_LAUNCH_1188267",e.productInsights="A2I_SSW_SALES_TRENDS_FLAGSHIPLAYER_1177861",e.mWebmShopRedirectV2="ASV_MWEB_REDIRECT_FS_1189405",e.flexBannerRedesign="ASV_FLEX_RD_1211393",e.typASVHRedirect="ASV_TYP_ASVH_NAVIGATION_1211487",e.gridCarouselAtcStepper="ASV_GRID_CAROUSEL_ATC_STEPPER_1213185",e.anpAggressivePrewarming="ANP_AGGRESSIVE_PREWARMING_1230138",e.mobileOverlayUpdate="ASV_MOBILE_OVERLAY_1246142",e.batchImpressionMetricsLink="ASV_BATCH_IMPR_MTRC_LNK_1293079",e.mwebTranscripts="ASV_FS_TRANSCRIPTS_1291783",e.statePassExperimentCarouselData="STATE_PASS_EXPERIMENT_1278385",e.sponsoredProductsLive="ASV_FS_SPONSORED_PRODUCTS_LIVE_LAUNCH_1300130",e.productCarouselAddToCartPreImmersive="ASV_FS_ADD_TO_CART_PREIMMERSIVE_EXPERIMENT_1347773",e.socialProofingAndStarRating="ASV_FS_SOCIAL_PROOFING_AND_STAR_RATING_1350545",e.transcribeClosedCaptions="ASV_TRANSCRIBE_CLOSED_CAPTION_FLAGSHIP_1357891",e.alssDeprecationBroadcastEvents="ASV_ALSS_DEP_BROADCASTEVENTS_1353931",e.alssDeprecationShoppingCarouselV2="ASV_ALSS_DEP_SHOPPING_CAROUSEL_V2_1353935",e.alssDeprecationCarouselV2="ASV_ALSS_DEP_CAROUSEL_V2_1353937",e.alssDeprecationCarouselProducts="ASV_ALSS_DEP_CAROUSEL_PRODUCTS_1353939"}(g||(g={}));let f={},A={};function E(e,t=!0){const a=f[e];return void 0!==a?(t&&!(e in A)&&(A[e]=a,o(e,a)),f[e]):d}function v(e,t=!0){return d!==E(e,t)}const T=(e,t)=>(0,r.useCallback)(()=>{t&&!(e in A)&&(A[e]=t,o(e,t))},[e,f,o,A]),h=(e,t)=>{const a=t?f[e]:void 0,n=T(e,a);return{enabled:a===u,triggerCallback:n}};function S(){const e=s.A.get(l.m.ASVBrandUpdateWeblabEnabled);return void 0!==e?Boolean(e):u===E(g.asvRebrand,!0)}function b(){return Object.keys(A).map(e=>`${e}:${A[e]}`)}function I({ios:e,android:t}){let a=null;return e&&(a=g.catamaranHotLoadIOS),t&&(a=g.catamaranHotLoadAndroid),!!a&&E(a,!0)===u}function P(){return E(g.forYouRecommendedVideos)===u}function _(e){return e?E(g.liveNotificationSettingsDesktop)===u:E(g.liveNotificationSettingsMWeb)===u}function C(e,t){if(!e)return n.Gy.NO_SHOP_SHEET;if(t){if(E(g.inlineAddToCartFexExp,!1)===u)return n.Gy.SHOP_ICON_OPEN_SHOP_SHEET;if(E(g.inlineAddToCartFexExp,!1)===p)return n.Gy.TILE_OPEN_SHOP_SHEET}else{if(E(g.inlineAddToCartDestinationExp,!1)===u)return n.Gy.SHOP_ICON_OPEN_SHOP_SHEET;if(E(g.inlineAddToCartDestinationExp,!1)===p)return n.Gy.TILE_OPEN_SHOP_SHEET}return n.Gy.NO_SHOP_SHEET}function w(){return(0,c.St)()&&v(g.productCarouselAddToCart,!1)}function O(){return v(g.batchImpressionMetricsLink,!1)}var L={initialize:function(e={},t={}){f=e,A=t}}}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__),a.loaded=!0,a.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=function(e,t,a,n){if(!t){var r=1/0;for(l=0;l<deferred.length;l++){t=deferred[l][0],a=deferred[l][1],n=deferred[l][2];for(var i=!0,o=0;o<t.length;o++)(!1&n||r>=n)&&Object.keys(__webpack_require__.O).every(function(e){return __webpack_require__.O[e](t[o])})?t.splice(o--,1):(i=!1,n<r&&(r=n));if(i){deferred.splice(l--,1);var s=a();void 0!==s&&(e=s)}}return e}n=n||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>n;l--)deferred[l]=deferred[l-1];deferred[l]=[t,a,n]},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var a=Object.create(null);__webpack_require__.r(a);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var r=2&t&&e;"object"==typeof r&&!~leafPrototypes.indexOf(r);r=getProto(r))Object.getOwnPropertyNames(r).forEach(function(t){n[t]=function(){return e[t]}});return n.default=function(){return e},__webpack_require__.d(a,n),a},__webpack_require__.d=function(e,t){for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce(function(t,a){return __webpack_require__.f[a](e,t),t},[]))},__webpack_require__.u=function(e){return"8TsUZQ9gTcIPM4q.js?chunk=upnext"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},inProgress={},dataWebpackPrefix="@amazon-live/flagship:",__webpack_require__.l=function(e,t,a,n){if(inProgress[e])inProgress[e].push(t);else{var r,i;if(void 0!==a)for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var l=o[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+a){r=l;break}}r||(i=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack",dataWebpackPrefix+a),r.src=e,0!==r.src.indexOf(window.location.origin+"/")&&(r.crossOrigin="anonymous")),inProgress[e]=[t];var c=function(t,a){r.onerror=r.onload=null,clearTimeout(d);var n=inProgress[e];if(delete inProgress[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach(function(e){return e(a)}),t)return t(a)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),i&&document.head.appendChild(r)}},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e}(),function(){var e={524:0};__webpack_require__.f.j=function(t,a){var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var r=new Promise(function(a,r){n=e[t]=[a,r]});a.push(n[2]=r);var i=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(i,function(a){if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",o.name="ChunkLoadError",o.type=r,o.request=i,n[1](o)}},"chunk-"+t,t)}},__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,i=a[0],o=a[1],s=a[2],l=0;if(i.some(function(t){return 0!==e[t]})){for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);if(s)var c=s(__webpack_require__)}for(t&&t(a);l<i.length;l++)r=i[l],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return __webpack_require__.O(c)},a=self.webpackChunk_amazon_live_flagship=self.webpackChunk_amazon_live_flagship||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var __webpack_exports__=__webpack_require__.O(void 0,[96],function(){return __webpack_require__(293)});__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=https://tiny.amazon.com/beylosfb